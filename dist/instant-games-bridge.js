/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var t={954:(t,e,r)=>{"use strict";r.d(e,{Z:()=>hi});var n={VK:"vk",VK_PLAY:"vk_play",OK:"ok",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",MOCK:"mock"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments",REMOTE_CONFIG:"remote_config",CLIPBOARD:"clipboard"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},a={VISIBLE:"visible",HIDDEN:"hidden"},u={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},s={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},c={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},l={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},f={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},p={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},h={INITIALIZE:"initialize",AUTHORIZE_PLAYER:"authorize_player",SHARE:"share",INVITE_FRIENDS:"invite_friends",JOIN_COMMUNITY:"join_community",CREATE_POST:"create_post",ADD_TO_HOME_SCREEN:"add_to_home_screen",ADD_TO_FAVORITES:"add_to_favorites",RATE:"rate",SET_LEADERBOARD_SCORE:"set_leaderboard_score",GET_LEADERBOARD_SCORE:"get_leaderboard_score",GET_LEADERBOARD_ENTRIES:"get_leaderboard_entries",GET_PURCHASES:"get_purchases",GET_CATALOG:"get_catalog",PURCHASE:"purchase",CONSUME_PURCHASE:"consume_purchase",GET_REMOTE_CONFIG:"get_remote_config",GET_STORAGE_DATA:"get_storage_data",SHOW_LEADERBOARD_NATIVE_POPUP:"show_leaderboard_native_popup",CLIPBOARD_WRITE:"clipboard_write"},y={SDK_NOT_INITIALIZED:{message:"Before using the SDK you must initialize it"},STORAGE_NOT_SUPPORTED:{message:"Storage not supported"},STORAGE_NOT_AVAILABLE:{message:"Storage not available"},STORAGE_NOT_FOUND:{message:"Not found value for these keys"},GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED:{message:"GameDistribution Game ID is undefined"},VK_PLAY_GAME_ID_IS_UNDEFINED:{message:"VK Play Game ID is undefined"},OK_GAME_PARAMS_NOT_FOUND:{message:"OK Game params are not found"},INVITE_FRIENDS_MESSAGE_LENGTH_ERROR:{message:"Message is too long"}};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:String(e)}function v(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function b(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,g(t,e,"set"),r),r}function S(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,g(t,e,"get"))}function g(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var E=new WeakMap,P=new WeakMap,w=new WeakMap;const A=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,E,{writable:!0,value:void 0}),v(this,P,{writable:!0,value:void 0}),v(this,w,{writable:!0,value:void 0}),b(this,E,new Promise((function(t,r){b(e,P,t),b(e,w,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return S(this,E)}},{key:"resolve",value:function(t){S(this,P).call(this,t)}},{key:"reject",value:function(t){S(this,w).call(this,t)}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!=O(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==O(e)?e:String(e)}const D=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=T(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&k(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:String(e)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}const C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=N(n);if(o){var r=N(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&R(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function G(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:String(e)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}const W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(n);if(o){var r=U(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&M(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);var H=r(258),V=r.n(H);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function x(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y(n.key),n)}}function Y(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==z(e)?e:String(e)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(u,t);var e,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(n);if(o){var r=Z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(t){return e.emit(i.VISIBILITY_STATE_CHANGED,t)})),e}return e=u,(r=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&x(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(D);V().mixin(q.prototype);const J=q;function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q(n.key),n)}}function Q(t){var e=function(t,e){if("object"!=X(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==X(e)?e:String(e)}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}function nt(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var ot=new WeakMap;const it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rt(n);if(o){var r=rt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}(this,t)});function a(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,u=new Array(o),s=0;s<o;s++)u[s]=arguments[s];return e=et(t=i.call.apply(i,[this].concat(u))),n={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=ot),r.set(e,n),t}return e=a,(r=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n)}var o=e;o||(o=this.defaultType);var i=nt(this,ot)[o];return i&&void 0!==i[t]?Promise.resolve(i[t]):this._platformBridge.getDataFromStorage(t,o).then((function(e){return r._addToCache(o,t,e),e}))}},{key:"set",value:function(t,e,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(t,e,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(t,e,i).then((function(){return n._addToCache(i,t,e)}))}},{key:"delete",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.delete(t,n)}var o=e;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(t,o).then((function(){return r._deleteFromCache(o,t)}))}},{key:"_addToCache",value:function(t,e,r){if(nt(this,ot)[t]||(nt(this,ot)[t]=[]),Array.isArray(e))for(var n=0;n<e.length;n++)nt(this,ot)[t][e[n]]=r[e[n]];else nt(this,ot)[t][e]=r}},{key:"_deleteFromCache",value:function(t,e){if(nt(this,ot)[t])if(Array.isArray(e))for(var r=0;r<e.length;r++)delete nt(this,ot)[t][e[r]];else delete nt(this,ot)[t][e]}}])&&$(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,st(n.key),n)}}function st(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==at(e)?e:String(e)}function ct(t,e){ft(t,e),e.add(t)}function lt(t,e,r){ft(t,e),e.set(t,r)}function ft(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ht(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,dt(t,e,"set"),r),r}function yt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,dt(t,e,"get"))}function dt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var mt="created",_t="completed",vt=new WeakMap,bt=new WeakMap,St=new WeakMap,gt=new WeakMap,Et=new WeakSet,Pt=new WeakSet,wt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ct(this,Pt),ct(this,Et),lt(this,vt,{writable:!0,value:0}),lt(this,bt,{writable:!0,value:0}),lt(this,St,{writable:!0,value:mt}),lt(this,gt,{writable:!0,value:0}),ht(this,vt,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return yt(this,St)}},{key:"start",value:function(){var t=this;yt(this,St)!==mt&&yt(this,St)!==_t||(ht(this,bt,yt(this,vt)),pt(this,Et,At).call(this,"started"),ht(this,gt,setInterval((function(){ht(t,bt,yt(t,bt)-1),t.emit("time_left_changed",yt(t,bt)),yt(t,bt)<=0&&(pt(t,Pt,Ot).call(t),pt(t,Et,At).call(t,_t))}),1e3)))}},{key:"stop",value:function(){pt(this,Pt,Ot).call(this),pt(this,Et,At).call(this,"stopped")}}])&&ut(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function At(t){ht(this,St,t),this.emit("state_changed",yt(this,St))}function Ot(){ht(this,bt,0),clearInterval(yt(this,gt))}V().mixin(wt.prototype);const kt=wt;function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t,e){if("object"!=Tt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tt(e)?e:String(e)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lt(t)}function Nt(t,e){Bt(t,e),e.add(t)}function Ct(t,e,r){Bt(t,e),e.set(t,r)}function Bt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Ut(t,e,"set"),r),r}function Gt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Ft(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ut(t,e,"get"))}function Ut(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Wt=new WeakMap,Ht=new WeakMap,Vt=new WeakSet,zt=new WeakSet,xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(l,t);var e,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lt(n);if(o){var r=Lt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jt(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Nt(jt(e=a.call(this,t)),zt),Nt(jt(e),Vt),Ct(jt(e),Wt,{writable:!0,value:void 0}),Ct(jt(e),Ht,{writable:!0,value:60}),e._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(t){t===u.CLOSED&&Ft(jt(e),Ht)>0&&Gt(jt(e),Vt,Yt).call(jt(e)),e.emit(i.INTERSTITIAL_STATE_CHANGED,t)})),e._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(t){return e.emit(i.REWARDED_STATE_CHANGED,t)})),e._platformBridge.on(i.BANNER_STATE_CHANGED,(function(t){return e.emit(i.BANNER_STATE_CHANGED,t)})),e}return e=l,(r=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return Ft(this,Ht)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return void this.setMinimumDelayBetweenInterstitial(e)}var r=Tt(t),n=Ft(this,Ht);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t,10),Number.isNaN(n))return;break;default:return}Mt(this,Ht,n),Ft(this,Wt)&&(Ft(this,Wt).stop(),Gt(this,Vt,Yt).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}this.bannerState!==c.LOADING&&this.bannerState!==c.SHOWN&&(this._platformBridge._setBannerState(c.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(c.FAILED))}},{key:"hideBanner",value:function(){this.bannerState!==c.LOADING&&this.bannerState!==c.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!Gt(this,zt,Kt).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(u.LOADING),!Ft(this,Wt)||Ft(this,Wt).state===_t||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){Gt(this,zt,Kt).call(this)||(this._platformBridge._setRewardedState(s.LOADING),this._platformBridge.showRewarded())}}])&&Dt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(D);function Yt(){Mt(this,Wt,new kt(Ft(this,Ht))),Ft(this,Wt).start()}function Kt(){return this.interstitialState===u.LOADING||this.interstitialState===u.OPENED||!![s.LOADING,s.OPENED,s.REWARDED].includes(this.rewardedState)}V().mixin(xt.prototype);const Zt=xt;function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xt(n.key),n)}}function Xt(t){var e=function(t,e){if("object"!=qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:String(e)}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}const te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qt(n);if(o){var r=Qt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.inviteFriends(e)}return this._platformBridge.inviteFriends(t)}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Jt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ne(n.key),n)}}function ne(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ee(e)?e:String(e)}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(t)}const ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ie(n);if(o){var r=ie(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&re(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ce(n.key),n)}}function ce(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ue(e)?e:String(e)}function le(t,e){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},le(t,e)}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}const pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&le(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fe(n);if(o){var r=fe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,de(n.key),n)}}function de(t){var e=function(t,e){if("object"!=he(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==he(e)?e:String(e)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}const ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_e(n);if(o){var r=_e(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===he(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isPaymentsSupported}},{key:"purchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.purchase(e)}return this._platformBridge.purchase(t)}},{key:"getPurchases",value:function(){return this._platformBridge.getPaymentsPurchases()}},{key:"getCatalog",value:function(){return this._platformBridge.getPaymentsCatalog()}},{key:"consumePurchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.consumePurchase(e)}return this._platformBridge.consumePurchase(t)}}])&&ye(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function be(t){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ge(n.key),n)}}function ge(t){var e=function(t,e){if("object"!=be(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==be(e)?e:String(e)}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pe(t)}const we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pe(n);if(o){var r=Pe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:"get",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.get(e)}return this._platformBridge.getRemoteConfig(t)}}])&&Se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ke(n.key),n)}}function ke(t){var e=function(t,e){if("object"!=Ae(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ae(e)?e:String(e)}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function De(t){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},De(t)}const Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=De(n);if(o){var r=De(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isClipboardSupported}},{key:"read",value:function(){return this._platformBridge.clipboardRead()}},{key:"write",value:function(t){return this._platformBridge.clipboardWrite(t)}}])&&Oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(D);function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function je(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Ne(t,e,r){return(e=Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ce(t){var e=function(t,e){if("object"!=Re(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Re(e)?e:String(e)}function Be(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Me=new WeakMap,Ge=function(){function t(e){var r,n,o,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,"_isInitialized",!1),Ne(this,"_platformSdk",null),Ne(this,"_isPlayerAuthorized",!1),Ne(this,"_playerId",null),Ne(this,"_playerName",null),Ne(this,"_playerPhotos",[]),Ne(this,"_visibilityState",null),Ne(this,"_localStorage",null),Ne(this,"_defaultStorageType",l.LOCAL_STORAGE),Ne(this,"_platformStorageCachedData",null),Ne(this,"_isBannerSupported",!1),Ne(this,"_interstitialState",null),Ne(this,"_rewardedState",null),Ne(this,"_bannerState",null),o={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=Me),n.set(r,o);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),e&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?je(Object(r),!0).forEach((function(e){Ne(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e))}var e,r;return e=t,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return f.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return f.TABLET}return f.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"isPaymentsSupported",get:function(){return!1}},{key:"isRemoteConfigSupported",get:function(){return!1}},{key:"isClipboardSupported",get:function(){return!0}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(){return Promise.resolve()}},{key:"authorizePlayer",value:function(){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}},{key:"setDataToStorage",value:function(t,e,r){if(r===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}return Promise.reject(y.STORAGE_NOT_SUPPORTED)}},{key:"showBanner",value:function(){this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(s.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(){return Promise.reject()}},{key:"purchase",value:function(){return Promise.reject()}},{key:"getPaymentsPurchases",value:function(){return Promise.reject()}},{key:"getPaymentsCatalog",value:function(){return Promise.reject()}},{key:"consumePurchase",value:function(){return Promise.reject()}},{key:"getRemoteConfig",value:function(){return Promise.reject()}},{key:"clipboardRead",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:"clipboardWrite",value:function(t){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(t):Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){this._localStorage.setItem(t,"object"===Re(e)?JSON.stringify(e):e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==u.FAILED||(this._interstitialState=t,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==s.FAILED||(this._rewardedState=t,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==c.FAILED||(this._bannerState=t,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new A;return Be(this,Me)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return Be(this,Me)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){Be(this,Me)[t]&&(Be(this,Me)[t].resolve(e),delete Be(this,Me)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){Be(this,Me)[t]&&(Be(this,Me)[t].reject(e),delete Be(this,Me)[t])}}])&&Le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();V().mixin(Ge.prototype);const Fe=Ge;var Ue=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))},We=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length<=0?Promise.resolve():new Promise((function(t){var r=setInterval((function(){for(var n=window,o=0;o<e.length;o++){var i=n[e[o]];if(!i)return;n=i}t(),clearInterval(r)}),100)}))};function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function ze(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==He(e)?e:String(e)}function xe(){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ze(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},xe.apply(this,arguments)}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}function qe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Je(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Xe(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,$e(t,e,"get"))}function $e(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Qe=new WeakMap,tr=new WeakSet;function er(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(p,t);var e,r,o,i,a=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ze(o);if(i){var r=Ze(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}(this,t)});function p(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return qe(e=Ke(t=a.call.apply(a,[this].concat(o))),r=tr),r.add(e),function(t,e,r){qe(t,e),e.set(t,{writable:!0,value:void 0})}(Ke(t),Qe),t}return e=p,(r=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var e=t.searchParams.get("language"),r=0;try{r=parseInt(e,10)}catch(t){r=0}switch(r){case 0:default:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return xe(Ze(p.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):xe(Ze(p.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){switch(Xe(this,Qe)){case"html5_ios":case"html5_android":case"html5_mobile":return f.MOBILE;case"web":return f.DESKTOP;default:return xe(Ze(p.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===Xe(this,Qe)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===f.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(h.INITIALIZE);if(!o){o=this._createPromiseDecorator(h.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=Qe,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,$e(e,r,"set"),n)),Ue("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){We("vkBridge").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){t._isBannerSupported=!0,t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName="".concat(e.first_name," ").concat(e.last_name),e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=l.PLATFORM_INTERNAL,t._resolvePromiseDecorator(h.INITIALIZE)}))}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||xe(Ze(p.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL||xe(Ze(p.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){var o=Array.isArray(t)?t:[t];r._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){var n=[];return o.forEach((function(t){var e=r.keys.findIndex((function(e){return e.key===t}));if(e<0)n.push(null);else if(""!==r.keys[e].value){var o;try{o=JSON.parse(r.keys[e].value)}catch(t){o=r.keys[e].value}n.push(o)}else n.push(null)})),void e(n)}if(""!==r.keys[0].value){var i;try{i=JSON.parse(r.keys[0].value)}catch(t){i=r.keys[0].value}e(i)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?n(t.error_data.error_reason):n()}))})):xe(Ze(p.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a={key:t[i],value:e[i]};"string"!=typeof e[i]&&(a.value=JSON.stringify(e[i])),o.push(this._platformSdk.send("VKWebAppStorageSet",a))}return Promise.all(o)}var u={key:t,value:e};return"string"!=typeof e&&(u.value=JSON.stringify(e)),new Promise((function(t,e){n._platformSdk.send("VKWebAppStorageSet",u).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return xe(Ze(p.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this.setDataToStorage(t[n],"",e));return Promise.all(r)}return this.setDataToStorage(t,"",e)}return xe(Ze(p.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(c.SHOWN):e._setBannerState(c.FAILED)})).catch((function(){e._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(u.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?u.CLOSED:u.FAILED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(s.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED)})).catch((function(){t._setRewardedState(s.FAILED)}))}))}},{key:"inviteFriends",value:function(){return Je(this,tr,er).call(this,h.INVITE_FRIENDS,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e,10),Number.isNaN(e))?Promise.reject():Je(this,tr,er).call(this,h.JOIN_COMMUNITY,"VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public".concat(e))}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),Je(this,tr,er).call(this,h.SHARE,"VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),Je(this,tr,er).call(this,h.CREATE_POST,"VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?Je(this,tr,er).call(this,h.ADD_TO_HOME_SCREEN,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return Je(this,tr,er).call(this,h.ADD_TO_FAVORITES,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),Je(this,tr,er).call(this,h.SHOW_LEADERBOARD_NATIVE_POPUP,"VKWebAppShowLeaderBoardBox",e)}},{key:"clipboardWrite",value:function(t){return Je(this,tr,er).call(this,h.CLIPBOARD_WRITE,"VKWebAppCopyText",{text:t})}}])&&Ve(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(Fe);function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function or(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?or(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ur(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ar(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ur(n.key),n)}}function ur(t){var e=function(t,e){if("object"!=nr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==nr(e)?e:String(e)}function sr(){return sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},sr.apply(this,arguments)}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}function lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fr(t)}function pr(t,e,r){hr(t,e),e.set(t,r)}function hr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,_r(t,e,"set"),r),r}function dr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function mr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,_r(t,e,"get"))}function _r(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var vr=new WeakMap,br=new WeakMap,Sr=new WeakMap,gr=new WeakMap,Er=new WeakSet;function Pr(t){var e=this;return new Promise((function(r){var n={scopes:!1};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode(),e._defaultStorageType=e._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE;var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var n=t.getPhoto("small"),o=t.getPhoto("medium"),i=t.getPhoto("large");n&&e._playerPhotos.push(n),o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),yr(e,br,t)})).finally((function(){r()}))}))}const wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(y,t);var e,r,o,i,a=(o=y,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fr(o);if(i){var r=fr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lr(t)}(this,t)});function y(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return hr(e=lr(t=a.call.apply(a,[this].concat(o))),r=Er),r.add(e),pr(lr(t),vr,{writable:!0,value:!1}),pr(lr(t),br,{writable:!0,value:null}),pr(lr(t),Sr,{writable:!0,value:null}),pr(lr(t),gr,{writable:!0,value:null}),t}return e=y,(r=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():sr(fr(y.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():sr(fr(y.prototype),"platformTld",this)}},{key:"deviceType",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET;case f.TV:return f.TV;default:return sr(fr(y.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return mr(this,vr)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"isRemoteConfigSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(h.INITIALIZE);return e||(e=this._createPromiseDecorator(h.INITIALIZE),Ue("https://yandex.ru/games/sdk/v2").then((function(){We("YaGames","init").then((function(){window.YaGames.init().then((function(e){var r;t._platformSdk=e;var n=dr(t,Er,Pr).call(t),o=null===(r=t._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:"",engineVersion:"",pluginName:"instant-games-bridge",pluginVersion:"1.12.0"}),i=t._platformSdk.shortcut.canShowPrompt().then((function(e){yr(t,vr,e.canShow)})),a=new Promise((function(t){setTimeout(t,1e3)})),u=Promise.race([i,a]),s=t._platformSdk.getLeaderboards().then((function(e){yr(t,Sr,e)})),l=t._platformSdk.getPayments().then((function(e){yr(t,gr,e)}));t._isBannerSupported=!0;var f=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(c.SHOWN)}));Promise.all([n,o,u,s,l,f]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(h.INITIALIZE)}))}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var e;return t===p.GAME_READY?(null===(e=this._platformSdk.features.LoadingAPI)||void 0===e||e.ready(),Promise.resolve()):sr(fr(y.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(h.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(h.AUTHORIZE_PLAYER),this._isPlayerAuthorized?dr(this,Er,Pr).call(this,t).then((function(){e._resolvePromiseDecorator(h.AUTHORIZE_PLAYER)})):this._platformSdk.auth.openAuthDialog().then((function(){dr(e,Er,Pr).call(e,t).then((function(){e._resolvePromiseDecorator(h.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(h.AUTHORIZE_PLAYER,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||sr(fr(y.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:sr(fr(y.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else mr(r,br)?mr(r,br).getData().then((function(n){if(r._platformStorageCachedData=n,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])})).catch((function(t){n(t)})):n()})):Promise.reject():sr(fr(y.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(mr(n,br)){var i=null!==n._platformStorageCachedData?ir({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;mr(n,br).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))}else o()})):sr(fr(y.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(mr(r,br)){var o=null!==r._platformStorageCachedData?ir({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];mr(r,br).setData(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}else n()})):sr(fr(y.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(){var t=this;this._platformSdk.adv.showBannerAdv().then((function(e){e.stickyAdvIsShowing?t._setBannerState(c.SHOWN):t._setBannerState(c.FAILED)})).catch((function(){t._setBannerState(c.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(c.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(u.OPENED)},onClose:function(e){e?t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)},onError:function(t){console.error(t)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(s.OPENED)},onRewarded:function(){t._setRewardedState(s.REWARDED)},onClose:function(){t._setRewardedState(s.CLOSED)},onError:function(){t._setRewardedState(s.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(h.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(h.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(h.ADD_TO_HOME_SCREEN):t._resolvePromiseDecorator(h.ADD_TO_HOME_SCREEN)})).catch((function(e){t._rejectPromiseDecorator(h.ADD_TO_HOME_SCREEN,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(h.RATE);return e||(e=this._createPromiseDecorator(h.RATE),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(h.RATE):t._rejectPromiseDecorator(h.RATE)})).catch((function(e){t._rejectPromiseDecorator(h.RATE,e)})):t._rejectPromiseDecorator(h.RATE,e.reason)})).catch((function(e){t._rejectPromiseDecorator(h.RATE,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(mr(this,Sr)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(h.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(h.SET_LEADERBOARD_SCORE),"string"==typeof t.score&&(t.score=parseInt(t.score,10)),mr(this,Sr).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(h.SET_LEADERBOARD_SCORE)})).catch((function(t){e._rejectPromiseDecorator(h.SET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!mr(this,Sr)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(h.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(h.GET_LEADERBOARD_SCORE),mr(this,Sr).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(h.GET_LEADERBOARD_SCORE,t.score)})).catch((function(t){e._rejectPromiseDecorator(h.GET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!mr(this,Sr)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(h.GET_LEADERBOARD_ENTRIES);if(!r){r=this._createPromiseDecorator(h.GET_LEADERBOARD_ENTRIES);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround,10)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop,10)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),mr(this,Sr).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(h.GET_LEADERBOARD_ENTRIES,r)})).catch((function(t){e._rejectPromiseDecorator(h.GET_LEADERBOARD_ENTRIES,t)}))}return r.promise}},{key:"purchase",value:function(t){var e=this;if(!mr(this,gr)||!t)return Promise.reject();var r=this._getPromiseDecorator(h.PURCHASE);return r||(r=this._createPromiseDecorator(h.PURCHASE),mr(this,gr).purchase({id:t}).then((function(t){e._resolvePromiseDecorator(h.PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(h.PURCHASE,t)}))),r.promise}},{key:"getPaymentsPurchases",value:function(){var t=this;if(!mr(this,gr))return Promise.reject();var e=this._getPromiseDecorator(h.GET_PURCHASES);return e||(e=this._createPromiseDecorator(h.GET_PURCHASES),mr(this,gr).getPurchases().then((function(e){t._resolvePromiseDecorator(h.GET_PURCHASES,e)})).catch((function(e){t._rejectPromiseDecorator(h.GET_PURCHASES,e)}))),e.promise}},{key:"getPaymentsCatalog",value:function(){var t=this;if(!mr(this,gr))return Promise.reject();var e=this._getPromiseDecorator(h.GET_CATALOG);return e||(e=this._createPromiseDecorator(h.GET_CATALOG),mr(this,gr).getCatalog().then((function(e){t._resolvePromiseDecorator(h.GET_CATALOG,e)})).catch((function(e){t._rejectPromiseDecorator(h.GET_CATALOG,e)}))),e.promise}},{key:"consumePurchase",value:function(t){var e=this;if(!mr(this,gr)||!t)return Promise.reject();var r=this._getPromiseDecorator(h.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(h.CONSUME_PURCHASE),mr(this,gr).consumePurchase(t).then((function(t){e._resolvePromiseDecorator(h.CONSUME_PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(h.CONSUME_PURCHASE,t)}))),r.promise}},{key:"getRemoteConfig",value:function(t){var e=this;if(!this._platformSdk)return Promise.reject();if(t&&(null==t||!t.defaultFlags)&&(null==t||!t.clientFeatures))return Promise.reject();var r=this._getPromiseDecorator(h.GET_REMOTE_CONFIG);return r||(r=this._createPromiseDecorator(h.GET_REMOTE_CONFIG),(t?this._platformSdk.getFlags(t):this._platformSdk.getFlags()).then((function(t){e._resolvePromiseDecorator(h.GET_REMOTE_CONFIG,t)})).catch((function(t){e._rejectPromiseDecorator(h.GET_REMOTE_CONFIG,t)}))),r.promise}},{key:"clipboardWrite",value:function(t){var e=this,r=this._getPromiseDecorator(h.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(h.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(t).then((function(){e._resolvePromiseDecorator(h.CLIPBOARD_WRITE,!0)})).catch((function(t){e._rejectPromiseDecorator(h.CLIPBOARD_WRITE,t)}))),r.promise}}])&&ar(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(Fe);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kr(n.key),n)}}function kr(t){var e=function(t,e){if("object"!=Ar(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ar(e)?e:String(e)}function Tr(){return Tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Tr.apply(this,arguments)}function Dr(t,e){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dr(t,e)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}function jr(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function Lr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Cr(t,e,"set"),r),r}function Nr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Cr(t,e,"get"))}function Cr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Br=new WeakMap,Mr=new WeakMap;const Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dr(t,e)}(y,t);var e,r,o,i,a=(o=y,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(o);if(i){var r=Rr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ir(t)}(this,t)});function y(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return jr(Ir(t=a.call.apply(a,[this].concat(r))),Br,{writable:!0,value:null}),jr(Ir(t),Mr,{writable:!0,value:!1}),t}return e=y,(r=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return Nr(this,Br)?Nr(this,Br).countryCode.toLowerCase():Tr(Rr(y.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(Nr(this,Br)){var t=Nr(this,Br).device.type.toLowerCase();if([f.DESKTOP,f.MOBILE,f.TABLET].includes(t))return t}return Tr(Rr(y.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(h.INITIALIZE);return e||(e=this._createPromiseDecorator(h.INITIALIZE),Ue("https://sdk.crazygames.com/crazygames-sdk-v1.js").then((function(){We("CrazyGames","CrazySDK","getInstance").then((function(){t._platformSdk=window.CrazyGames.CrazySDK.getInstance(),t._platformSdk.addEventListener("initialized",(function(e){Lr(t,Br,e.userInfo),t._isInitialized=!0,t._resolvePromiseDecorator(h.INITIALIZE)})),t._platformSdk.addEventListener("adStarted",(function(){Nr(t,Mr)?t._setRewardedState(s.OPENED):t._setInterstitialState(u.OPENED)})),t._platformSdk.addEventListener("adFinished",(function(){Nr(t,Mr)?(t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setInterstitialState(u.CLOSED)})),t._platformSdk.addEventListener("adError",(function(){Nr(t,Mr)?t._setRewardedState(s.FAILED):t._setInterstitialState(u.FAILED)})),t._platformSdk.addEventListener("bannerRendered",(function(){t._setBannerState(c.SHOWN)})),t._platformSdk.addEventListener("bannerError",(function(){t._setBannerState(c.FAILED)})),t._defaultStorageType=l.LOCAL_STORAGE,t._isBannerSupported=!0,t._platformSdk.init()}))}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case p.IN_GAME_LOADING_STARTED:return this._platformSdk.sdkGameLoadingStart(),Promise.resolve();case p.IN_GAME_LOADING_STOPPED:return this._platformSdk.sdkGameLoadingStop(),Promise.resolve();case p.GAMEPLAY_STARTED:return this._platformSdk.gameplayStart(),Promise.resolve();case p.GAMEPLAY_STOPPED:return this._platformSdk.gameplayStop(),Promise.resolve();case p.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.happytime(),Promise.resolve();default:return Tr(Rr(y.prototype),"sendMessage",this).call(this,t)}}},{key:"showBanner",value:function(t){t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.requestResponsiveBanner([t.containerId]):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.clearAllBanners(),this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){Lr(this,Mr,!1),this._platformSdk.requestAd("midgame")}},{key:"showRewarded",value:function(){Lr(this,Mr,!0),this._platformSdk.requestAd("rewarded")}}])&&Or(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),y}(Fe);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Ur(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ur(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Vr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vr(n.key),n)}}function Vr(t){var e=function(t,e){if("object"!=Fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fr(e)?e:String(e)}function zr(){return zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},zr.apply(this,arguments)}function xr(t,e){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xr(t,e)}function Yr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}var Zr=new WeakSet;function qr(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r){if(r&&1===r.length){var n=r[0];t._playerName=n.full_name,""!==n.avatar&&(t._playerPhotos=[n.avatar])}e()}))}))}const Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(o);if(i){var r=Kr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yr(t)}(this,t)});function c(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=Yr(t=a.call.apply(a,[this].concat(o))),r=Zr),r.add(e),t}return e=c,(r=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(h.INITIALIZE);return e||(e=this._createPromiseDecorator(h.INITIALIZE),Ue("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new window.AgRuSdk,t._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(e,r){"rewarded"===e.type?null===r?e.status?t._setRewardedState(s.OPENED):(e.reward&&t._setRewardedState(s.REWARDED),t._setRewardedState(s.CLOSED)):t._setRewardedState(s.FAILED):null===r?e.status?t._setInterstitialState(u.OPENED):t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,Zr,qr).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(h.INITIALIZE)}))}))),e.promise}},{key:"authorizePlayer",value:function(){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(h.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(h.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(e,r){null===r?t._resolvePromiseDecorator(h.AUTHORIZE_PLAYER):t._rejectPromiseDecorator(h.AUTHORIZE_PLAYER,r)}))),e.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||zr(Kr(c.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:zr(Kr(c.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else r._isPlayerAuthorized?r._platformSdk.getSaveData((function(o,i){if(null===i){if(r._platformStorageCachedData=o||{},Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var s=void 0===r._platformStorageCachedData[t[u]]?null:r._platformStorageCachedData[t[u]];a.push(s)}return void e(a)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else n(i)})):n()})):zr(Kr(c.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Wr({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.setSaveData(i,(function(t,e){null===e&&(n._platformStorageCachedData=i,r()),o(e)}))}else o()})):zr(Kr(c.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Wr({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.setSaveData(o,(function(t,i){null===i&&(r._platformStorageCachedData=o,e()),n(i)}))}else n()})):zr(Kr(c.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&Hr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Fe);function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qr(n.key),n)}}function Qr(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xr(e)?e:String(e)}function tn(t,e){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tn(t,e)}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rn(t)}function nn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,an(t,e,"set"),r),r}function on(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,an(t,e,"get"))}function an(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var un=new WeakMap;const sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tn(t,e)}(f,t);var e,r,o,i,a=(o=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rn(o);if(i){var r=rn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return en(t)}(this,t)});function f(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=en(t=a.call.apply(a,[this].concat(i))),n={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=un),r.set(e,n),t}return e=f,(r=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(h.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(h.INITIALIZE),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(h.INITIALIZE);break;case"SDK_GAME_START":on(e,un)?e._setRewardedState(s.CLOSED):e._setInterstitialState(u.CLOSED);break;case"SDK_GAME_PAUSE":on(e,un)?e._setRewardedState(s.OPENED):e._setInterstitialState(u.OPENED);break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(s.REWARDED)}}},this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!0,Ue("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(h.INITIALIZE,y.GAME_DISTRIBUTION_GAME_ID_IS_UNDEFINED);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(c.SHOWN)})).catch((function(){e._setBannerState(c.FAILED)})):this._setBannerState(c.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(c.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;nn(this,un,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){t._setInterstitialState(u.FAILED)})):this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){var t=this;nn(this,un,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(){t._setRewardedState(s.FAILED)})):this._setRewardedState(s.FAILED)}}])&&$r(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(Fe);function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fn(n.key),n)}}function fn(t){var e=function(t,e){if("object"!=cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==cn(e)?e:String(e)}function pn(t,e){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pn(t,e)}function hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yn(t){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yn(t)}function dn(t,e){mn(t,e),e.add(t)}function mn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _n(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,bn(t,e,"get"))}function vn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,bn(t,e,"set"),r),r}function bn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function Sn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var gn=new WeakMap,En=new WeakSet,Pn=new WeakSet,wn=new WeakSet,An=new WeakSet,On=new WeakSet,kn=new WeakSet;function Tn(t){var e=t.code&&"AdsNotFound"===t.code;switch(t.type){case"adCompleted":_n(this,gn)?(this._setRewardedState(s.REWARDED),this._setRewardedState(s.CLOSED)):this._setInterstitialState(u.CLOSED);break;case"adError":_n(this,gn)?this._setRewardedState(s.FAILED):this._setInterstitialState(u.FAILED);break;case"adDismissed":_n(this,gn)?this._setRewardedState(e?s.FAILED:s.CLOSED):this._setInterstitialState(e?u.FAILED:u.CLOSED)}}function Dn(t){t&&"ok"===t.status&&(this._isPlayerAuthorized=2===t.loginStatus||3===t.loginStatus),this._isPlayerAuthorized?this._platformSdk.userProfile():(this._isInitialized=!0,this._resolvePromiseDecorator(h.INITIALIZE))}function In(t){"ok"===t.status&&(this._playerId=t.uid,this._playerName=t.nick,this._playerPhotos=[t.avatar]),this._isInitialized=!0,this._resolvePromiseDecorator(h.INITIALIZE)}function Rn(t){"ok"===t.status?(this._resolvePromiseDecorator(h.AUTHORIZE_PLAYER),this._platformSdk.reloadWindow()):this._rejectPromiseDecorator(h.AUTHORIZE_PLAYER,t.errmsg)}function jn(t){0!==(null==t?void 0:t.length)?this._resolvePromiseDecorator(h.GET_CATALOG,t):this._rejectPromiseDecorator(h.GET_CATALOG)}function Ln(t){t&&t.uid?this._resolvePromiseDecorator(h.PURCHASE,t.uid):this._rejectPromiseDecorator(h.PURCHASE)}const Nn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yn(o);if(i){var r=yn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hn(t)}(this,t)});function c(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return dn(hn(t=a.call.apply(a,[this].concat(i))),kn),dn(hn(t),On),dn(hn(t),An),dn(hn(t),wn),dn(hn(t),Pn),dn(hn(t),En),n={writable:!0,value:!1},mn(e=hn(t),r=gn),r.set(e,n),t}return e=c,(r=[{key:"platformId",get:function(){return n.VK_PLAY}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isClipboardSupported",get:function(){return!1}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(h.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(h.INITIALIZE),this._options&&this._options.gameId){var r=this._options.gameId,n={appid:r,userProfileCallback:function(e){return Sn(t,wn,In).call(t,e)},getLoginStatusCallback:function(e){return Sn(t,Pn,Dn).call(t,e)},registerUserCallback:function(e){return Sn(t,An,Rn).call(t,e)},adsCallback:function(e){return Sn(t,En,Tn).call(t,e)},getGameInventoryItemsCallback:function(e){return Sn(t,On,jn).call(t,e)},paymentReceivedCallback:function(e){return Sn(t,kn,Ln).call(t,e)}};Ue("https://vkplay.ru/app/".concat(r,"/static/mailru.core.js")).then((function(){We("iframeApi").then((function(){window.iframeApi(n).then((function(e){t._platformSdk=e,t._platformSdk.getLoginStatus()}))}))}))}else this._rejectPromiseDecorator(h.INITIALIZE,y.VK_PLAY_GAME_ID_IS_UNDEFINED);return e.promise}},{key:"showInterstitial",value:function(){var t=this;vn(this,gn,!1),this._platformSdk.showAds({interstitial:!0}).then((function(){t._setInterstitialState(u.OPENED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}},{key:"showRewarded",value:function(){var t=this;vn(this,gn,!0),this._platformSdk.showAds({interstitial:!1}).then((function(){t._setRewardedState(s.OPENED)})).catch((function(){t._setRewardedState(s.FAILED)}))}},{key:"authorizePlayer",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(h.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(h.AUTHORIZE_PLAYER),this._platformSdk.registerUser()),t}},{key:"getPaymentsCatalog",value:function(){var t=this._getPromiseDecorator(h.GET_CATALOG);return t||(t=this._createPromiseDecorator(h.GET_CATALOG),this._platformSdk.getGameInventoryItems()),t.promise}},{key:"purchase",value:function(t){if(!t)return Promise.reject();var e=this._getPromiseDecorator(h.PURCHASE);return e||(e=this._createPromiseDecorator(h.PURCHASE),this._platformSdk.paymentFrameItem(t)),e.promise}}])&&ln(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Fe);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function Bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(r),!0).forEach((function(e){Kn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zn(n.key),n)}}function Un(){return Un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Un.apply(this,arguments)}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wn(t,e)}function Hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}function zn(t,e,r){Yn(t,e),e.set(t,r)}function xn(t,e){Yn(t,e),e.add(t)}function Yn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kn(t,e,r){return(e=Zn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zn(t){var e=function(t,e){if("object"!=Cn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Cn(e)?e:String(e)}function qn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Jn(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Xn="AUTHORIZED",$n={VALUABLE_ACCESS:"VALUABLE_ACCESS",PHOTO_CONTENT:"PHOTO_CONTENT"},Qn=new WeakSet,to=new WeakMap,eo=new WeakMap,ro=new WeakMap,no=new WeakSet,oo=new WeakSet,io=new WeakSet,ao=new WeakSet,uo=new WeakSet,so=new WeakSet,co=new WeakSet,lo=new WeakSet,fo=new WeakSet,po=new WeakSet,ho=new WeakSet,yo=new WeakSet,mo=new WeakSet,_o=new WeakSet,vo=new WeakSet,bo=new WeakSet,So=new WeakSet,go=new WeakSet,Eo=new WeakSet;function Po(t,e){var r=this,n={},o=[],i=[];if(Array.isArray(t)||(o.push(t),i.push(null!=e?e:null)),Array.isArray(t)){var a=e.length?e:Array(t.length).fill(null);o.concat(t),i.concat(a)}for(var u=0;u<o.length;u++){var s={key:o[u],value:i[u]};"string"!=typeof i[u]&&null!==i[u]&&void 0!==i[u]&&(s.value=JSON.stringify(i[u])),n[s.key]=s.value,this._platformSdk.Client.call(Jn(this,to).setStorageValue(s.key,s.value),Jn(this,eo).setValueStorageCallBack)}return Promise.all(this._platformStoragePromises).then((function(){r._platformStorageCachedData=Gn(Gn({},r._platformStorageCachedData),n)})).finally((function(){r._platformStoragePromises=[]}))}function wo(){return{userProfile:{fields:"uid,name,pic50x50,pic128x128,pic_base",method:"users.getCurrentUser"},hasAppPermission:function(t){return{method:"users.hasAppPermission",ext_perm:t}},getStorageValue:function(t){return{method:"storage.get",fields:t,keys:[t]}},setStorageValue:function(t,e){return{method:"storage.set",key:t,value:e}}}}function Ao(){var t=this;return{userProfileCallback:function(e,r,n){return qn(t,no,ko).call(t,e,r,n)},hasValueAccessCallback:function(e,r,n){return qn(t,io,Do).call(t,r,n)},getStrorageValueCallBack:function(e,r){return qn(t,uo,Ro).call(t,e,r)},setValueStorageCallBack:function(e,r,n){return qn(t,so,jo).call(t,e,n)}}}function Oo(){var t=this;return{showPermissions:function(){return qn(t,ao,Io).call(t)},loadAd:function(e){return qn(t,co,Lo).call(t,e)},showLoadedAd:function(e,r){return qn(t,lo,No).call(t,r)},showAd:function(e,r){return qn(t,fo,Co).call(t,r)},requestBannerAds:function(e,r){return qn(t,po,Bo).call(t,e,r)},showBannerAds:function(e,r){return qn(t,yo,Go).call(t,r)},hideBannerAds:function(e,r){return qn(t,ho,Mo).call(t,r)},setBannerFormat:function(e){return qn(t,mo,Fo).call(t,e)},showPayment:function(e){return qn(t,_o,Uo).call(t,e)},inviteFriends:function(e){return qn(t,vo,Wo).call(t,e)},showRatingDialog:function(e,r){return qn(t,bo,Ho).call(t,e,r)},createPost:function(e){return qn(t,So,Vo).call(t,e)},joinGroup:function(e,r){return qn(t,go,zo).call(t,e,r)},showLoginSuggestion:function(e,r){return qn(t,oo,To).call(t,e,r)},postMediatopic:function(e,r){return qn(t,Eo,xo).call(t,e,r)}}}function ko(t,e){"ok"===t&&(this._playerId=e.uid,this._playerName=e.name,this._playerPhotos=[e.pic50x50,e.pic128x128,e.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(Jn(this,to).hasAppPermission($n.VALUABLE_ACCESS),Jn(this,eo).hasValueAccessCallback)}function To(t,e){if("error"===t)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(h.AUTHORIZE_PLAYER,e);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(h.AUTHORIZE_PLAYER)}function Do(t){if(this._hasValuableAccessPermission=!!t,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(h.INITIALIZE);else{var e=Object.values($n).map((function(t){return'"'.concat(t,'"')})).join(",");this._platformSdk.UI.showPermissions("[".concat(e,"]"))}}function Io(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(Jn(this,to).hasAppPermission($n.VALUABLE_ACCESS),Jn(this,eo).hasValueAccessCallback)}function Ro(t,e){if("error"!==t&&null!=e&&e.data){var r=(a=Object.entries(e.data)[0],u=2,function(t){if(Array.isArray(t))return t}(a)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(a,u)||function(t,e){if(t){if("string"==typeof t)return Bn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bn(t,e):void 0}}(a,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=o?JSON.parse(o):o;this._platformStorageCachedData=Gn(Gn({},this._platformStorageCachedData),{},Kn({},n,i)),this._resolvePromiseDecorator(n,i)}else this._rejectPromiseDecorator(this._keyStorage,y.STORAGE_NOT_FOUND);var a,u}function jo(t,e){var r=new Promise((function(r,n){"error"===t&&n(e),r()}));this._platformStoragePromises.push(r)}function Lo(t){"error"===t?this._setRewardedState(s.FAILED):(this._setRewardedState(s.OPENED),this._platformSdk.UI.showLoadedAd())}function No(t){switch(t){case"ad_shown":this._setRewardedState(s.REWARDED),this._setRewardedState(s.CLOSED);break;case"skip":this._setRewardedState(s.CLOSED);break;default:this._setRewardedState(s.FAILED)}}function Co(t){switch(t){case"ready":break;case"ad_prepared":this._setInterstitialState(u.OPENED);break;case"ad_shown":this._setInterstitialState(u.CLOSED);break;default:this._setInterstitialState(u.FAILED)}}function Bo(t,e){if("error"!==t)switch(e){case"ad_loaded":this._platformSdk.invokeUIMethod("showBannerAds");break;case"banner_shown":case"ad_shown":this._setBannerState(c.SHOWN);break;case"hidden_by_user":this._setBannerState(c.HIDDEN)}else this._setBannerState(c.FAILED)}function Mo(t){t?this._setBannerState(c.HIDDEN):this._setBannerState(c.FAILED)}function Go(t){t||this._setBannerState(c.FAILED)}function Fo(t){"error"===t?this._setBannerState(c.FAILED):this.showBanner(this._platformBannerOptions)}function Uo(t){"error"===t?this._rejectPromiseDecorator(h.CONSUME_PURCHASE):this._resolvePromiseDecorator(h.CONSUME_PURCHASE)}function Wo(t){"error"===t?this._rejectPromiseDecorator(h.INVITE_FRIENDS):this._resolvePromiseDecorator(h.INVITE_FRIENDS)}function Ho(t,e){"error"===t?this._rejectPromiseDecorator(h.RATE,e):this._resolvePromiseDecorator(h.RATE)}function Vo(t){"error"===t?this._rejectPromiseDecorator(h.CREATE_POST):this._resolvePromiseDecorator(h.CREATE_POST)}function zo(t,e){"error"===t?this._rejectPromiseDecorator(h.JOIN_COMMUNITY,e):this._resolvePromiseDecorator(h.JOIN_COMMUNITY)}function xo(t,e){"error"===t?this._rejectPromiseDecorator(h.CREATE_POST,e):this._resolvePromiseDecorator(h.CREATE_POST)}const Yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(c,t);var e,r,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(o);if(i){var r=Vn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hn(t)}(this,t)});function c(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return xn(Hn(t=a.call.apply(a,[this].concat(r))),Eo),xn(Hn(t),go),xn(Hn(t),So),xn(Hn(t),bo),xn(Hn(t),vo),xn(Hn(t),_o),xn(Hn(t),mo),xn(Hn(t),yo),xn(Hn(t),ho),xn(Hn(t),po),xn(Hn(t),fo),xn(Hn(t),lo),xn(Hn(t),co),xn(Hn(t),so),xn(Hn(t),uo),xn(Hn(t),ao),xn(Hn(t),io),xn(Hn(t),oo),xn(Hn(t),no),zn(Hn(t),ro,{get:Oo,set:void 0}),zn(Hn(t),eo,{get:Ao,set:void 0}),zn(Hn(t),to,{get:wo,set:void 0}),xn(Hn(t),Qn),Kn(Hn(t),"_hasValuableAccessPermission",!1),Kn(Hn(t),"_hasValuableAccessPermissionShowed",!1),Kn(Hn(t),"_platformStoragePromises",[]),Kn(Hn(t),"_platformBannerOptions",{}),Kn(Hn(t),"_keyStorage",void 0),t}return e=c,(r=[{key:"platformId",get:function(){return n.OK}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isClipboardSupported",get:function(){return!1}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isRateSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"isBannerSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(h.INITIALIZE);return e||(e=this._createPromiseDecorator(h.INITIALIZE),Ue("//api.ok.ru/js/fapi5.js").then((function(){t._platformSdk=window.FAPI,window.API_callback=function(e,r,n){return Jn(t,ro)[e](r,n)};var e=t._platformSdk.Util.getRequestParameters()||{};e.api_server&&e.apiconnection?t._platformSdk.init(e.api_server,e.apiconnection,(function(){var e,r=null===(e=t._platformSdk)||void 0===e?void 0:e.saved_state;t._isPlayerAuthorized=!r||r===Xn,t._isPlayerAuthorized?t._platformSdk.Client.call(Jn(t,to).userProfile,Jn(t,eo).userProfileCallback):(t._isInitialized=!0,t._resolvePromiseDecorator(h.INITIALIZE))})):t._rejectPromiseDecorator(h.INITIALIZE,y.OK_GAME_PARAMS_NOT_FOUND)}))),e.promise}},{key:"authorizePlayer",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(h.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(h.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(Xn)),t.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||Un(Vn(c.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._hasValuableAccessPermission:Un(Vn(c.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){if(e===l.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(y.STORAGE_NOT_AVAILABLE);if(!Array.isArray(t)){if(!this._platformStorageCachedData||void 0===this._platformStorageCachedData[t]){var r=this._getPromiseDecorator(t);return r||(r=this._createPromiseDecorator(t),this._keyStorage=t,this._platformSdk.Client.call(Jn(this,to).getStorageValue(t),Jn(this,eo).getStrorageValueCallBack)),r.promise}return Promise.resolve(this._platformStorageCachedData[t])}if(Array.isArray(t)){if(!this._platformStorageCachedData){for(var n=[],o=0;o<t.length;o++)n.push(this.getDataFromStorage(t[o],l.PLATFORM_INTERNAL));return Promise.all(n)}for(var i=[],a=0;a<t.length;a++)i.push(void 0===this._platformStorageCachedData[t[a]]?null:this._platformStorageCachedData[t[a]]);return Promise.resolve(i)}}return Un(Vn(c.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){return r===l.PLATFORM_INTERNAL?this._hasValuableAccessPermission?qn(this,Qn,Po).call(this,t,e):Promise.reject(y.STORAGE_NOT_AVAILABLE):Un(Vn(c.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){return e===l.PLATFORM_INTERNAL?this._hasValuableAccessPermission?qn(this,Qn,Po).call(this,t):Promise.reject(y.STORAGE_NOT_AVAILABLE):Un(Vn(c.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){try{this._platformSdk.UI.showAd()}catch(t){this._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){try{this._platformSdk.UI.loadAd()}catch(t){this._setRewardedState(s.FAILED)}}},{key:"showBanner",value:function(t){if(t){if("string"==typeof t.layoutType)return this._platformBannerOptions=Gn(Gn({},t),{},{layoutType:null}),void this._platformSdk.invokeUIMethod("setBannerFormat",t.layoutType);if("string"==typeof t.position)return void this._platformSdk.invokeUIMethod("requestBannerAds",t.position)}this._platformSdk.invokeUIMethod("requestBannerAds","bottom")}},{key:"hideBanner",value:function(){this._platformSdkAPI.invokeUIMethod("hideBannerAds")}},{key:"purchase",value:function(){var t=this._getPromiseDecorator(h.PURCHASE);return t||(t=this._createPromiseDecorator(h.PURCHASE),this._platformSdk.UI.showPortalPayment()),t.promise}},{key:"consumePurchase",value:function(t){var e=t||{},r=e.name,n=e.description,o=e.code,i=e.price;if(!t||[r,n,o,i].includes(void 0))return Promise.reject();var a=this._getPromiseDecorator(h.CONSUME_PURCHASE);return a||(a=this._createPromiseDecorator(h.CONSUME_PURCHASE),this._platformSdk.UI.showPayment(r,n,o,i,null,null,"ok",!0)),a.promise}},{key:"inviteFriends",value:function(t){var e=(t||{}).text;if(!t||"string"!=typeof e)return Promise.reject();var r=this._getPromiseDecorator(h.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(h.INVITE_FRIENDS),e.length>120?this._rejectPromiseDecorator(h.INVITE_FRIENDS,y.INVITE_FRIENDS_MESSAGE_LENGTH_ERROR):this._platformSdk.UI.showInvite(e)),r.promise}},{key:"rate",value:function(){var t=this._getPromiseDecorator(h.RATE);return t||(t=this._createPromiseDecorator(h.RATE),this._platformSdk.UI.showRatingDialog()),t.promise}},{key:"createPost",value:function(t){if(!t||null==t||!t.attachment)return Promise.reject();var e,r=this._getPromiseDecorator(h.CREATE_POST);return r||(r=this._createPromiseDecorator(h.CREATE_POST),this._platformSdk.UI.postMediatopic(t,null!==(e=t.status)&&void 0!==e&&e)),r.promise}},{key:"joinCommunity",value:function(t){if(!t||null==t||!t.groupId)return Promise.reject();var e,r=this._getPromiseDecorator(h.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(h.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(t.groupId,null!==(e=t.enableMessages)&&void 0!==e&&e)),r.promise}}])&&Fn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Fe);function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Zo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jo(n.key),n)}}function Jo(t){var e=function(t,e){if("object"!=Ko(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ko(e)?e:String(e)}function Xo(t,e){Qo(t,e),e.add(t)}function $o(t,e,r){Qo(t,e),e.set(t,r)}function Qo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ti(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,ni(t,e,"set"),r),r}function ei(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ri(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ni(t,e,"get"))}function ni(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}t=r.hmd(t);var oi=new WeakMap,ii=new WeakMap,ai=new WeakMap,ui=new WeakMap,si=new WeakMap,ci=new WeakSet,li=new WeakSet;function fi(){var t=n.MOCK;if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:t=n.VK;break;case n.VK_PLAY:t=n.VK_PLAY;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION;break;case n.OK:t=n.OK;break;default:t=n.MOCK}else{var e=new URL(window.location.href),r=["y","a","n","d","e","x",".","n","e","t"].join("");if(e.searchParams.has("platform_id"))switch(e.searchParams.get("platform_id")){case n.VK:t=n.VK;break;case n.VK_PLAY:t=n.VK_PLAY;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION;break;case n.OK:t=n.OK;break;default:t=n.MOCK}else e.hostname.includes(r)||e.hash.includes("yandex")?t=n.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?t=n.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?t=n.GAME_DISTRIBUTION:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?t=n.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")&&(t=n.ABSOLUTE_GAMES)}switch(t){case n.VK:ti(this,ai,new rr(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.VK_PLAY:ti(this,ai,new Nn(this._options&&this._options.platforms&&this._options.platforms[n.VK_PLAY]));break;case n.YANDEX:ti(this,ai,new wr(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:ti(this,ai,new Gr(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:ti(this,ai,new Jr(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:ti(this,ai,new sn(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.OK:ti(this,ai,new Yo(this._options&&this._options.platforms&&this._options.platforms[n.OK]));break;default:ti(this,ai,new Fe)}}function pi(t){return ri(this,oi)||console.error(y.SDK_NOT_INITIALIZED),ri(this,si)[t]?ri(this,si)[t]:ri(this,ui)[t]}const hi=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xo(this,li),Xo(this,ci),$o(this,oi,{writable:!0,value:!1}),$o(this,ii,{writable:!0,value:null}),$o(this,ai,{writable:!0,value:null}),$o(this,ui,{writable:!0,value:{}}),$o(this,si,{writable:!0,value:{}})}var r,h;return r=e,h=[{key:"version",get:function(){return"1.12.0"}},{key:"isInitialized",get:function(){return ri(this,oi)}},{key:"platform",get:function(){return ei(this,li,pi).call(this,o.PLATFORM)}},{key:"player",get:function(){return ei(this,li,pi).call(this,o.PLAYER)}},{key:"game",get:function(){return ei(this,li,pi).call(this,o.GAME)}},{key:"storage",get:function(){return ei(this,li,pi).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return ei(this,li,pi).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return ei(this,li,pi).call(this,o.SOCIAL)}},{key:"device",get:function(){return ei(this,li,pi).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return ei(this,li,pi).call(this,o.LEADERBOARD)}},{key:"payments",get:function(){return ei(this,li,pi).call(this,o.PAYMENTS)}},{key:"remoteConfig",get:function(){return ei(this,li,pi).call(this,o.REMOTE_CONFIG)}},{key:"clipboard",get:function(){return ei(this,li,pi).call(this,o.CLIPBOARD)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return p}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return u}},{key:"REWARDED_STATE",get:function(){return s}},{key:"BANNER_STATE",get:function(){return c}},{key:"STORAGE_TYPE",get:function(){return l}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return f}},{key:"initialize",value:function(t){var e=this;return ri(this,oi)?Promise.resolve():(ri(this,ii)||(ti(this,ii,new A),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zo(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Jo(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),ei(this,ci,fi).call(this),ri(this,ai).initialize().then((function(){ri(e,ui)[o.PLATFORM]=new C(ri(e,ai)),ri(e,ui)[o.PLAYER]=new W(ri(e,ai)),ri(e,ui)[o.GAME]=new J(ri(e,ai)),ri(e,ui)[o.STORAGE]=new it(ri(e,ai)),ri(e,ui)[o.ADVERTISEMENT]=new Zt(ri(e,ai)),ri(e,ui)[o.SOCIAL]=new te(ri(e,ai)),ri(e,ui)[o.DEVICE]=new ae(ri(e,ai)),ri(e,ui)[o.LEADERBOARD]=new pe(ri(e,ai)),ri(e,ui)[o.PAYMENTS]=new ve(ri(e,ai)),ri(e,ui)[o.REMOTE_CONFIG]=new we(ri(e,ai)),ri(e,ui)[o.CLIPBOARD]=new Ie(ri(e,ai)),ti(e,oi,!0),console.info("%c InstantGamesBridge v.".concat(e.version," initialized. "),"background: #01A5DA; color: white"),ri(e,ii)&&(ri(e,ii).resolve(),ti(e,ii,null))}))),ri(this,ii).promise)}},{key:"overrideModule",value:function(e,r){"object"===Ko(r)&&(ri(this,si)[e]=r,"function"==typeof r.initialize&&r.initialize(t))}}],h&&qo(r.prototype,h),Object.defineProperty(r,"prototype",{writable:!1}),e}()},258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(954);window.bridge=new t.Z,window.instantGamesBridge=window.bridge})()})();