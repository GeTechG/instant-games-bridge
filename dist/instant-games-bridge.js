(()=>{var t={258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t={VK:"vk",VK_PLAY:"vk_play",OK:"ok",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",PLAYGAMA:"playgama",WORTAL:"wortal",MOCK:"mock"},e={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments",REMOTE_CONFIG:"remote_config",CLIPBOARD:"clipboard"},n={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},o={VISIBLE:"visible",HIDDEN:"hidden"},i={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},a={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},u={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},s={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},c={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},l={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},f={INITIALIZE:"initialize",AUTHORIZE_PLAYER:"authorize_player",SHARE:"share",INVITE_FRIENDS:"invite_friends",JOIN_COMMUNITY:"join_community",CREATE_POST:"create_post",ADD_TO_HOME_SCREEN:"add_to_home_screen",ADD_TO_FAVORITES:"add_to_favorites",RATE:"rate",SET_LEADERBOARD_SCORE:"set_leaderboard_score",GET_LEADERBOARD_SCORE:"get_leaderboard_score",GET_LEADERBOARD_ENTRIES:"get_leaderboard_entries",GET_PURCHASES:"get_purchases",GET_CATALOG:"get_catalog",PURCHASE:"purchase",CONSUME_PURCHASE:"consume_purchase",GET_REMOTE_CONFIG:"get_remote_config",GET_STORAGE_DATA:"get_storage_data",SHOW_LEADERBOARD_NATIVE_POPUP:"show_leaderboard_native_popup",CLIPBOARD_WRITE:"clipboard_write",ADBLOCK_DETECT:"adblock_detect"},p={message:"Before using the SDK you must initialize it"},y={message:"Storage not supported"},h={message:"Storage not available"},d={message:"GameDistribution Game ID is undefined"},m={message:"VK Play Game ID is undefined"},v={message:"OK Game params are not found"},_={message:"Message is too long"};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:String(e)}function w(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function P(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,A(t,e,"set"),r),r}function E(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,A(t,e,"get"))}function A(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var O=new WeakMap,k=new WeakMap,T=new WeakMap;const D=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,O,{writable:!0,value:void 0}),w(this,k,{writable:!0,value:void 0}),w(this,T,{writable:!0,value:void 0}),P(this,O,new Promise((function(t,r){P(e,k,t),P(e,T,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return E(this,O)}},{key:"resolve",value:function(t){E(this,k).call(this,t)}},{key:"reject",value:function(t){E(this,T).call(this,t)}}])&&g(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function j(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:String(e)}const L=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=j(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&R(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B(n.key),n)}}function B(t){var e=function(t,e){if("object"!=N(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==N(e)?e:String(e)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}const G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(n);if(o){var r=F(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z(n.key),n)}}function z(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:String(e)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}const V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(n);if(o){var r=x(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&H(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);var Y=r(258),Z=r.n(Y);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function q(t){var e=function(t,e){if("object"!=K(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==K(e)?e:String(e)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(u,t);var e,r,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(o);if(i){var r=$(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t))._platformBridge.on(n.VISIBILITY_STATE_CHANGED,(function(t){return e.emit(n.VISIBILITY_STATE_CHANGED,t)})),e}return e=u,(r=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&J(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(L);Z().mixin(Q.prototype);const tt=Q;function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nt(n.key),n)}}function nt(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==et(e)?e:String(e)}function ot(t,e){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ot(t,e)}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}const at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=it(n);if(o){var r=it(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){if(e){var r=e[this._platformBridge.platformId];if(r)return this.get(t,r)}var n=e;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.getDataFromStorage(t,n):Promise.reject()}},{key:"set",value:function(t,e,r){if(r){var n=r[this._platformBridge.platformId];if(n)return this.set(t,e,n)}var o=r;return o||(o=this.defaultType),this._platformBridge.isStorageAvailable(o)?this._platformBridge.setDataToStorage(t,e,o):Promise.reject()}},{key:"delete",value:function(t,e){if(e){var r=e[this._platformBridge.platformId];if(r)return this.delete(t,r)}var n=e;return n||(n=this.defaultType),this._platformBridge.isStorageAvailable(n)?this._platformBridge.deleteDataFromStorage(t,n):Promise.reject()}}])&&rt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ct(n.key),n)}}function ct(t){var e=function(t,e){if("object"!=ut(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ut(e)?e:String(e)}function lt(t,e){pt(t,e),e.add(t)}function ft(t,e,r){pt(t,e),e.set(t,r)}function pt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ht(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,mt(t,e,"set"),r),r}function dt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,mt(t,e,"get"))}function mt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var vt="created",_t="completed",bt=new WeakMap,gt=new WeakMap,St=new WeakMap,wt=new WeakMap,Pt=new WeakSet,Et=new WeakSet,At=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lt(this,Et),lt(this,Pt),ft(this,bt,{writable:!0,value:0}),ft(this,gt,{writable:!0,value:0}),ft(this,St,{writable:!0,value:vt}),ft(this,wt,{writable:!0,value:0}),ht(this,bt,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return dt(this,St)}},{key:"start",value:function(){var t=this;dt(this,St)!==vt&&dt(this,St)!==_t||(ht(this,gt,dt(this,bt)),yt(this,Pt,Ot).call(this,"started"),ht(this,wt,setInterval((function(){ht(t,gt,dt(t,gt)-1),t.emit("time_left_changed",dt(t,gt)),dt(t,gt)<=0&&(yt(t,Et,kt).call(t),yt(t,Pt,Ot).call(t,_t))}),1e3)))}},{key:"stop",value:function(){yt(this,Et,kt).call(this),yt(this,Pt,Ot).call(this,"stopped")}}])&&st(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ot(t){ht(this,St,t),this.emit("state_changed",dt(this,St))}function kt(){ht(this,gt,0),clearInterval(dt(this,wt))}Z().mixin(At.prototype);const Tt=At;function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function It(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rt(n.key),n)}}function Rt(t){var e=function(t,e){if("object"!=Dt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dt(e)?e:String(e)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}function Ct(t,e){Mt(t,e),e.add(t)}function Bt(t,e,r){Mt(t,e),e.set(t,r)}function Mt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ft(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Ht(t,e,"set"),r),r}function Gt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Wt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ht(t,e,"get"))}function Ht(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var zt=new WeakMap,Ut=new WeakMap,xt=new WeakSet,Vt=new WeakSet,Yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(l,t);var e,r,o,s,c=(o=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nt(o);if(s){var r=Nt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lt(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Ct(Lt(e=c.call(this,t)),Vt),Ct(Lt(e),xt),Bt(Lt(e),zt,{writable:!0,value:void 0}),Bt(Lt(e),Ut,{writable:!0,value:60}),e._platformBridge.on(n.INTERSTITIAL_STATE_CHANGED,(function(t){t===i.CLOSED&&Wt(Lt(e),Ut)>0&&Gt(Lt(e),xt,Zt).call(Lt(e)),e.emit(n.INTERSTITIAL_STATE_CHANGED,t)})),e._platformBridge.on(n.REWARDED_STATE_CHANGED,(function(t){return e.emit(n.REWARDED_STATE_CHANGED,t)})),e._platformBridge.on(n.BANNER_STATE_CHANGED,(function(t){return e.emit(n.BANNER_STATE_CHANGED,t)})),e}return e=l,(r=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return Wt(this,Ut)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return void this.setMinimumDelayBetweenInterstitial(e)}var r=Dt(t),n=Wt(this,Ut);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t,10),Number.isNaN(n))return;break;default:return}Ft(this,Ut,n),Wt(this,zt)&&(Wt(this,zt).stop(),Gt(this,xt,Zt).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}this.bannerState!==u.LOADING&&this.bannerState!==u.SHOWN&&(this._platformBridge._setBannerState(u.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(u.FAILED))}},{key:"hideBanner",value:function(){this.bannerState!==u.LOADING&&this.bannerState!==u.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!Gt(this,Vt,Kt).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(i.LOADING),!Wt(this,zt)||Wt(this,zt).state===_t||r?this._platformBridge.showInterstitial(t):this._platformBridge._setInterstitialState(i.FAILED)}}},{key:"showRewarded",value:function(t){if(!Gt(this,Vt,Kt).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showRewarded(e)}this._platformBridge._setRewardedState(a.LOADING),this._platformBridge.showRewarded(t)}}},{key:"isAdBlockDetected",value:function(){return this._platformBridge.isAdBlockDetected()}}])&&It(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(L);function Zt(){Ft(this,zt,new Tt(Wt(this,Ut))),Wt(this,zt).start()}function Kt(){return this.interstitialState===i.LOADING||this.interstitialState===i.OPENED||!![a.LOADING,a.OPENED,a.REWARDED].includes(this.rewardedState)}Z().mixin(Yt.prototype);const Jt=Yt;function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$t(n.key),n)}}function $t(t){var e=function(t,e){if("object"!=qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:String(e)}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}const ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(n);if(o){var r=te(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.inviteFriends(e)}return this._platformBridge.inviteFriends(t)}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Xt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oe(n.key),n)}}function oe(t){var e=function(t,e){if("object"!=re(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==re(e)?e:String(e)}function ie(t,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ie(t,e)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}const ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ie(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ae(n);if(o){var r=ae(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&ne(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function le(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:String(e)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fe(t,e)}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}const ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pe(n);if(o){var r=pe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&ce(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function de(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,me(n.key),n)}}function me(t){var e=function(t,e){if("object"!=he(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==he(e)?e:String(e)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ve(t,e)}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}const be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_e(n);if(o){var r=_e(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===he(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isPaymentsSupported}},{key:"purchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.purchase(e)}return this._platformBridge.purchase(t)}},{key:"getPurchases",value:function(){return this._platformBridge.getPaymentsPurchases()}},{key:"getCatalog",value:function(){return this._platformBridge.getPaymentsCatalog()}},{key:"consumePurchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.consumePurchase(e)}return this._platformBridge.consumePurchase(t)}}])&&de(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function ge(t){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,we(n.key),n)}}function we(t){var e=function(t,e){if("object"!=ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ge(e)?e:String(e)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ee(t)}const Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ee(n);if(o){var r=Ee(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ge(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:"get",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.get(e)}return this._platformBridge.getRemoteConfig(t)}}])&&Se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Te(n.key),n)}}function Te(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Oe(e)?e:String(e)}function De(t,e){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},De(t,e)}function Ie(t){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ie(t)}const Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ie(n);if(o){var r=Ie(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isClipboardSupported}},{key:"read",value:function(){return this._platformBridge.clipboardRead()}},{key:"write",value:function(t){return this._platformBridge.clipboardWrite(t)}}])&&ke(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Le(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Ce(t,e,r){return(e=Be(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Be(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==je(e)?e:String(e)}function Me(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Fe=new WeakMap,Ge=function(){function e(t){var r,i,a,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"_isInitialized",!1),Ce(this,"_platformSdk",null),Ce(this,"_isPlayerAuthorized",!1),Ce(this,"_playerId",null),Ce(this,"_playerName",null),Ce(this,"_playerPhotos",[]),Ce(this,"_visibilityState",null),Ce(this,"_localStorage",null),Ce(this,"_defaultStorageType",s.LOCAL_STORAGE),Ce(this,"_platformStorageCachedData",null),Ce(this,"_isBannerSupported",!1),Ce(this,"_interstitialState",null),Ce(this,"_rewardedState",null),Ce(this,"_bannerState",null),a={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,i=Fe),i.set(r,a);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?o.VISIBLE:o.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?o.VISIBLE:o.HIDDEN,u.emit(n.VISIBILITY_STATE_CHANGED,u._visibilityState)})),t&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(r),!0).forEach((function(e){Ce(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))}var r,l;return r=e,(l=[{key:"platformId",get:function(){return t.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return c.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return c.TABLET}return c.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"isPaymentsSupported",get:function(){return!1}},{key:"isRemoteConfigSupported",get:function(){return!1}},{key:"isClipboardSupported",get:function(){return!0}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(){return Promise.resolve()}},{key:"authorizePlayer",value:function(){return Promise.reject()}},{key:"isStorageSupported",value:function(t){switch(t){case s.LOCAL_STORAGE:return null!==this._localStorage;case s.PLATFORM_INTERNAL:default:return!1}}},{key:"isStorageAvailable",value:function(t){switch(t){case s.LOCAL_STORAGE:return null!==this._localStorage;case s.PLATFORM_INTERNAL:default:return!1}}},{key:"getDataFromStorage",value:function(t,e){if(e===s.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(y)}return Promise.reject(y)}},{key:"setDataToStorage",value:function(t,e,r){if(r===s.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(y)}return Promise.reject(y)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===s.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(y)}return Promise.reject(y)}},{key:"showBanner",value:function(){this._setBannerState(u.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(u.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(i.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(a.FAILED)}},{key:"isAdBlockDetected",value:function(){var t=document.createElement("div");t.className="textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox",t.style.position="absolute",t.style.left="-9999px",t.style.width="1px",t.style.height="1px",document.body.appendChild(t);var e={method:"HEAD",mode:"no-cors"};return new Promise((function(r){fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e).then((function(e){e.redirected?r(e.redirected):window.setTimeout((function(){var e,n=0===t.offsetHeight||"none"===(null===(e=window.getComputedStyle(t))||void 0===e?void 0:e.display);r(n),t.remove()}),100)})).catch((function(){r(!0)}))}))}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(){return Promise.reject()}},{key:"purchase",value:function(){return Promise.reject()}},{key:"getPaymentsPurchases",value:function(){return Promise.reject()}},{key:"getPaymentsCatalog",value:function(){return Promise.reject()}},{key:"consumePurchase",value:function(){return Promise.reject()}},{key:"getRemoteConfig",value:function(){return Promise.reject()}},{key:"clipboardRead",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:"clipboardWrite",value:function(t){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(t):Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){this._localStorage.setItem(t,"object"===je(e)?JSON.stringify(e):e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==i.FAILED||(this._interstitialState=t,this.emit(n.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==a.FAILED||(this._rewardedState=t,this.emit(n.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==u.FAILED||(this._bannerState=t,this.emit(n.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new D;return Me(this,Fe)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return Me(this,Fe)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){Me(this,Fe)[t]&&(Me(this,Fe)[t].resolve(e),delete Me(this,Fe)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){Me(this,Fe)[t]&&(Me(this,Fe)[t].reject(e),delete Me(this,Fe)[t])}}])&&Ne(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),e}();Z().mixin(Ge.prototype);const We=Ge;var He=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))},ze=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length<=0?Promise.resolve():new Promise((function(t){var r=setInterval((function(){for(var n=window,o=0;o<e.length;o++){var i=n[e[o]];if(!i)return;n=i}t(),clearInterval(r)}),100)}))};function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function Ve(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ue(e)?e:String(e)}function Ye(){return Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Je(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ye.apply(this,arguments)}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(t)}function qe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xe(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function $e(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Qe(t,e,"get"))}function Qe(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var tr=new WeakMap,er=new WeakSet;function rr(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const nr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(y,e);var r,n,o,l,p=(o=y,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Je(o);if(l){var r=Je(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}(this,t)});function y(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return qe(e=Ke(t=p.call.apply(p,[this].concat(o))),r=er),r.add(e),function(t,e,r){qe(t,e),e.set(t,{writable:!0,value:void 0})}(Ke(t),tr),t}return r=y,(n=[{key:"platformId",get:function(){return t.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var e=t.searchParams.get("language"),r=0;try{r=parseInt(e,10)}catch(t){r=0}switch(r){case 0:default:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return Ye(Je(y.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):Ye(Je(y.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){switch($e(this,tr)){case"html5_ios":case"html5_android":case"html5_mobile":return c.MOBILE;case"web":return c.DESKTOP;default:return Ye(Je(y.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===$e(this,tr)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===c.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(f.INITIALIZE);if(!o){o=this._createPromiseDecorator(f.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=tr,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,Qe(e,r,"set"),n)),He("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){ze("vkBridge").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){t._isBannerSupported=!0,t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName="".concat(e.first_name," ").concat(e.last_name),e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=s.PLATFORM_INTERNAL,t._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL||Ye(Je(y.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL||Ye(Je(y.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){var o=Array.isArray(t)?t:[t];r._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){var n=[];return o.forEach((function(t){var e=r.keys.findIndex((function(e){return e.key===t}));if(e<0)n.push(null);else if(""!==r.keys[e].value){var o;try{o=JSON.parse(r.keys[e].value)}catch(t){o=r.keys[e].value}n.push(o)}else n.push(null)})),void e(n)}if(""!==r.keys[0].value){var i;try{i=JSON.parse(r.keys[0].value)}catch(t){i=r.keys[0].value}e(i)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?n(t.error_data.error_reason):n()}))})):Ye(Je(y.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===s.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a={key:t[i],value:e[i]};"string"!=typeof e[i]&&(a.value=JSON.stringify(e[i])),o.push(this._platformSdk.send("VKWebAppStorageSet",a))}return Promise.all(o)}var u={key:t,value:e};return"string"!=typeof e&&(u.value=JSON.stringify(e)),new Promise((function(t,e){n._platformSdk.send("VKWebAppStorageSet",u).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return Ye(Je(y.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===s.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this.setDataToStorage(t[n],"",e));return Promise.all(r)}return this.setDataToStorage(t,"",e)}return Ye(Je(y.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(u.SHOWN):e._setBannerState(u.FAILED)})).catch((function(){e._setBannerState(u.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(u.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(i.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?i.CLOSED:i.FAILED)})).catch((function(){t._setInterstitialState(i.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(a.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED)})).catch((function(){t._setRewardedState(a.FAILED)}))}))}},{key:"inviteFriends",value:function(){return Xe(this,er,rr).call(this,f.INVITE_FRIENDS,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e,10),Number.isNaN(e))?Promise.reject():Xe(this,er,rr).call(this,f.JOIN_COMMUNITY,"VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public".concat(e))}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),Xe(this,er,rr).call(this,f.SHARE,"VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),Xe(this,er,rr).call(this,f.CREATE_POST,"VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?Xe(this,er,rr).call(this,f.ADD_TO_HOME_SCREEN,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return Xe(this,er,rr).call(this,f.ADD_TO_FAVORITES,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),Xe(this,er,rr).call(this,f.SHOW_LEADERBOARD_NATIVE_POPUP,"VKWebAppShowLeaderBoardBox",e)}},{key:"clipboardWrite",value:function(t){return Xe(this,er,rr).call(this,f.CLIPBOARD_WRITE,"VKWebAppCopyText",{text:t})}}])&&xe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),y}(We);function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ir(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=sr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sr(n.key),n)}}function sr(t){var e=function(t,e){if("object"!=or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==or(e)?e:String(e)}function cr(){return cr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},cr.apply(this,arguments)}function lr(t,e){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lr(t,e)}function fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pr(t)}function yr(t,e,r){hr(t,e),e.set(t,r)}function hr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,_r(t,e,"set"),r),r}function mr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function vr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,_r(t,e,"get"))}function _r(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var br=new WeakMap,gr=new WeakMap,Sr=new WeakMap,wr=new WeakMap,Pr=new WeakSet;function Er(t){var e=this;return new Promise((function(r){var n={scopes:!1};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode(),e._defaultStorageType=e._isPlayerAuthorized?s.PLATFORM_INTERNAL:s.LOCAL_STORAGE;var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var n=t.getPhoto("small"),o=t.getPhoto("medium"),i=t.getPhoto("large");n&&e._playerPhotos.push(n),o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),dr(e,gr,t)})).finally((function(){r()}))}))}const Ar=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(h,e);var r,n,o,p,y=(o=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pr(o);if(p){var r=pr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fr(t)}(this,t)});function h(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return hr(e=fr(t=y.call.apply(y,[this].concat(o))),r=Pr),r.add(e),yr(fr(t),br,{writable:!0,value:!1}),yr(fr(t),gr,{writable:!0,value:null}),yr(fr(t),Sr,{writable:!0,value:null}),yr(fr(t),wr,{writable:!0,value:null}),t}return r=h,(n=[{key:"platformId",get:function(){return t.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():cr(pr(h.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():cr(pr(h.prototype),"platformTld",this)}},{key:"deviceType",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case c.DESKTOP:return c.DESKTOP;case c.MOBILE:return c.MOBILE;case c.TABLET:return c.TABLET;case c.TV:return c.TV;default:return cr(pr(h.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return vr(this,br)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"isRemoteConfigSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("https://yandex.ru/games/sdk/v2").then((function(){ze("YaGames","init").then((function(){window.YaGames.init().then((function(e){var r;t._platformSdk=e;var n=mr(t,Pr,Er).call(t),o=null===(r=t._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:"",engineVersion:"",pluginName:"instant-games-bridge",pluginVersion:"1.14.0"}),i=t._platformSdk.shortcut.canShowPrompt().then((function(e){dr(t,br,e.canShow)})),a=new Promise((function(t){setTimeout(t,1e3)})),s=Promise.race([i,a]),c=t._platformSdk.getLeaderboards().then((function(e){dr(t,Sr,e)})),l=t._platformSdk.getPayments().then((function(e){dr(t,wr,e)}));t._isBannerSupported=!0;var p=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(u.SHOWN)}));Promise.all([n,o,s,c,l,p]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var e;return t===l.GAME_READY?(null===(e=this._platformSdk.features.LoadingAPI)||void 0===e||e.ready(),Promise.resolve()):cr(pr(h.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._isPlayerAuthorized?mr(this,Pr,Er).call(this,t).then((function(){e._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)})):this._platformSdk.auth.openAuthDialog().then((function(){mr(e,Pr,Er).call(e,t).then((function(){e._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL||cr(pr(h.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL?this._isPlayerAuthorized:cr(pr(h.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?this._isPlayerAuthorized?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else vr(r,gr)?vr(r,gr).getData().then((function(n){if(r._platformStorageCachedData=n,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])})).catch((function(t){n(t)})):n()})):Promise.reject():cr(pr(h.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===s.PLATFORM_INTERNAL?new Promise((function(r,o){if(vr(n,gr)){var i=null!==n._platformStorageCachedData?ar({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;vr(n,gr).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))}else o()})):cr(pr(h.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){if(vr(r,gr)){var o=null!==r._platformStorageCachedData?ar({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];vr(r,gr).setData(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}else n()})):cr(pr(h.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(){var t=this;this._platformSdk.adv.showBannerAdv().then((function(e){e.stickyAdvIsShowing?t._setBannerState(u.SHOWN):t._setBannerState(u.FAILED)})).catch((function(){t._setBannerState(u.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(u.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(i.OPENED)},onClose:function(e){e?t._setInterstitialState(i.CLOSED):t._setInterstitialState(i.FAILED)},onError:function(t){console.error(t)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(a.OPENED)},onRewarded:function(){t._setRewardedState(a.REWARDED)},onClose:function(){t._setRewardedState(a.CLOSED)},onError:function(){t._setRewardedState(a.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(f.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(f.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(f.ADD_TO_HOME_SCREEN):t._resolvePromiseDecorator(f.ADD_TO_HOME_SCREEN)})).catch((function(e){t._rejectPromiseDecorator(f.ADD_TO_HOME_SCREEN,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(f.RATE);return e||(e=this._createPromiseDecorator(f.RATE),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(f.RATE):t._rejectPromiseDecorator(f.RATE)})).catch((function(e){t._rejectPromiseDecorator(f.RATE,e)})):t._rejectPromiseDecorator(f.RATE,e.reason)})).catch((function(e){t._rejectPromiseDecorator(f.RATE,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(vr(this,Sr)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(f.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.SET_LEADERBOARD_SCORE),"string"==typeof t.score&&(t.score=parseInt(t.score,10)),vr(this,Sr).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(f.SET_LEADERBOARD_SCORE)})).catch((function(t){e._rejectPromiseDecorator(f.SET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!vr(this,Sr)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(f.GET_LEADERBOARD_SCORE),vr(this,Sr).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(f.GET_LEADERBOARD_SCORE,t.score)})).catch((function(t){e._rejectPromiseDecorator(f.GET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!vr(this,Sr)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);if(!r){r=this._createPromiseDecorator(f.GET_LEADERBOARD_ENTRIES);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround,10)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop,10)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),vr(this,Sr).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(f.GET_LEADERBOARD_ENTRIES,r)})).catch((function(t){e._rejectPromiseDecorator(f.GET_LEADERBOARD_ENTRIES,t)}))}return r.promise}},{key:"purchase",value:function(t){var e=this;if(!vr(this,wr)||!t.id)return Promise.reject();var r=this._getPromiseDecorator(f.PURCHASE);return r||(r=this._createPromiseDecorator(f.PURCHASE),vr(this,wr).purchase(t).then((function(t){e._resolvePromiseDecorator(f.PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(f.PURCHASE,t)}))),r.promise}},{key:"getPaymentsPurchases",value:function(){var t=this;if(!vr(this,wr))return Promise.reject();var e=this._getPromiseDecorator(f.GET_PURCHASES);return e||(e=this._createPromiseDecorator(f.GET_PURCHASES),vr(this,wr).getPurchases().then((function(e){t._resolvePromiseDecorator(f.GET_PURCHASES,e)})).catch((function(e){t._rejectPromiseDecorator(f.GET_PURCHASES,e)}))),e.promise}},{key:"getPaymentsCatalog",value:function(){var t=this;if(!vr(this,wr))return Promise.reject();var e=this._getPromiseDecorator(f.GET_CATALOG);return e||(e=this._createPromiseDecorator(f.GET_CATALOG),vr(this,wr).getCatalog().then((function(e){t._resolvePromiseDecorator(f.GET_CATALOG,e)})).catch((function(e){t._rejectPromiseDecorator(f.GET_CATALOG,e)}))),e.promise}},{key:"consumePurchase",value:function(t){var e=this;if(!vr(this,wr)||!t.purchaseToken)return Promise.reject();var r=this._getPromiseDecorator(f.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(f.CONSUME_PURCHASE),vr(this,wr).consumePurchase(t.purchaseToken).then((function(t){e._resolvePromiseDecorator(f.CONSUME_PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(f.CONSUME_PURCHASE,t)}))),r.promise}},{key:"getRemoteConfig",value:function(t){var e=this;if(!this._platformSdk)return Promise.reject();if(t&&(null==t||!t.defaultFlags)&&(null==t||!t.clientFeatures))return Promise.reject();var r=this._getPromiseDecorator(f.GET_REMOTE_CONFIG);return r||(r=this._createPromiseDecorator(f.GET_REMOTE_CONFIG),(t?this._platformSdk.getFlags(t):this._platformSdk.getFlags()).then((function(t){e._resolvePromiseDecorator(f.GET_REMOTE_CONFIG,t)})).catch((function(t){e._rejectPromiseDecorator(f.GET_REMOTE_CONFIG,t)}))),r.promise}},{key:"clipboardWrite",value:function(t){var e=this,r=this._getPromiseDecorator(f.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(f.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(t).then((function(){e._resolvePromiseDecorator(f.CLIPBOARD_WRITE,!0)})).catch((function(t){e._rejectPromiseDecorator(f.CLIPBOARD_WRITE,t)}))),r.promise}}])&&ur(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),h}(We);class Or extends Error{}function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Dr(t){var e=function(t,e){if("object"!=kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kr(e)?e:String(e)}function Ir(){return Ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ir.apply(this,arguments)}function Rr(t,e){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rr(t,e)}function jr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}function Nr(t,e,r){Cr(t,e),e.set(t,r)}function Cr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Br(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Mr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Gr(t,e,"set"),r),r}function Fr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Gr(t,e,"get"))}function Gr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}Or.prototype.name="InvalidTokenError";var Wr=new WeakMap,Hr=new WeakMap,zr=new WeakMap,Ur=new WeakSet;function xr(){var t=this;return Fr(this,Hr)?new Promise((function(e,r){t._platformSdk.user.getUserToken().then((function(r){var n=function(t,e){if("string"!=typeof t)throw new Or("Invalid token specified: must be a string");e||(e={});const r=!0===e.header?0:1,n=t.split(".")[r];if("string"!=typeof n)throw new Or(`Invalid token specified: missing part #${r+1}`);let o;try{o=function(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(t){return decodeURIComponent(atob(t).replace(/(.)/g,((t,e)=>{let r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(e)}catch(t){return atob(e)}}(n)}catch(t){throw new Or(`Invalid token specified: invalid base64 for part #${r+1} (${t.message})`)}try{return JSON.parse(o)}catch(t){throw new Or(`Invalid token specified: invalid json for part #${r+1} (${t.message})`)}}(r);t._isPlayerAuthorized=!0,t._defaultStorageType=s.PLATFORM_INTERNAL,n.userId&&(t._playerId=n.userId),n.username&&(t._playerName=n.username),n.profilePictureUrl&&(t._playerPhotos=[n.profilePictureUrl]),e()})).catch((function(t){r(t)}))})):Promise.reject()}const Vr=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rr(t,e)}(h,e);var r,n,o,p,y=(o=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(o);if(p){var r=Lr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}(this,t)});function h(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return Cr(e=jr(t=y.call.apply(y,[this].concat(o))),r=Ur),r.add(e),Nr(jr(t),Wr,{writable:!0,value:!1}),Nr(jr(t),Hr,{writable:!0,value:!1}),Nr(jr(t),zr,{writable:!0,value:{adStarted:function(){Fr(jr(t),Wr)?t._setRewardedState(a.OPENED):t._setInterstitialState(i.OPENED)},adFinished:function(){Fr(jr(t),Wr)?(t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setInterstitialState(i.CLOSED)},adError:function(){Fr(jr(t),Wr)?t._setRewardedState(a.FAILED):t._setInterstitialState(i.FAILED)}}}),t}return r=h,(n=[{key:"platformId",get:function(){return t.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return Fr(this,Hr)?this._platformSdk.user.systemInfo.countryCode.toLowerCase():Ir(Lr(h.prototype),"platformLanguage",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return Fr(this,Hr)}},{key:"deviceType",get:function(){if(Fr(this,Hr)){var t=this._platformSdk.user.systemInfo.device.type.toLowerCase();if([c.DESKTOP,c.MOBILE,c.TABLET].includes(t))return t}return Ir(Lr(h.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("https://sdk.crazygames.com/crazygames-sdk-v3.js").then((function(){ze("CrazyGames","SDK","init").then((function(){t._platformSdk=window.CrazyGames.SDK,t._defaultStorageType=s.LOCAL_STORAGE,t._isBannerSupported=!0,t._platformSdk.init().then((function(){Mr(t,Hr,t._platformSdk.user.isUserAccountAvailable);var e=Br(t,Ur,xr).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(f.INITIALIZE)}))}))}))}))),e.promise}},{key:"authorizePlayer",value:function(){var t=this;if(!Fr(this,Hr))return Promise.reject();if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.user.showAuthPrompt().then((function(){Br(t,Ur,xr).call(t).then((function(){t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}))})).catch((function(e){t._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,e)}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case l.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case l.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case l.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case l.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case l.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return Ir(Lr(h.prototype),"sendMessage",this).call(this,t)}}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL||Ir(Lr(h.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL||Ir(Lr(h.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e){if(Array.isArray(t)){var n=[];t.forEach((function(t){var e=r._platformSdk.data.getItem(t);try{e=JSON.parse(e)}catch(t){}n.push(e)})),e(n)}var o=r._platformSdk.data.getItem(t);try{o=JSON.parse(o)}catch(t){}e(o)})):Ir(Lr(h.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===s.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=e[i];"string"!=typeof e[i]&&(a=JSON.stringify(e[i])),o.push(this._platformSdk.data.setItem(t[i],a))}return Promise.all(o)}var u=e;return"string"!=typeof e&&(u=JSON.stringify(e)),new Promise((function(e,r){n._platformSdk.data.setItem(t,u).then((function(){e()})).catch((function(t){r(t)}))}))}return Ir(Lr(h.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?Array.isArray(t)?(t.forEach((function(t){return r._platformSdk.data.removeItem(t)})),Promise.resolve()):(this._platformSdk.data.removeItem(t),Promise.resolve()):Ir(Lr(h.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.banner.requestResponsiveBanner([t.containerId]).then((function(){e._setBannerState(u.SHOWN)})).catch((function(){e._setBannerState(u.FAILED)})):this._setBannerState(u.FAILED)}},{key:"hideBanner",value:function(){this._platformSdk.banner.clearAllBanners(),this._setBannerState(u.HIDDEN)}},{key:"showInterstitial",value:function(){Mr(this,Wr,!1),this._platformSdk.ad.requestAd("midgame",Fr(this,zr))}},{key:"showRewarded",value:function(){Mr(this,Wr,!0),this._platformSdk.ad.requestAd("rewarded",Fr(this,zr))}},{key:"isAdBlockDetected",value:function(){var t=this;return new Promise((function(e){t._platformSdk.ad.hasAdblock().then((function(t){e(t)}))}))}}])&&Tr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),h}(We);function Yr(t){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(t)}function Zr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=qr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Jr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qr(n.key),n)}}function qr(t){var e=function(t,e){if("object"!=Yr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Yr(e)?e:String(e)}function Xr(){return Xr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Xr.apply(this,arguments)}function $r(t,e){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$r(t,e)}function Qr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tn(t)}var en=new WeakSet;function rn(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r){if(r&&1===r.length){var n=r[0];t._playerName=n.full_name,""!==n.avatar&&(t._playerPhotos=[n.avatar])}e()}))}))}const nn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$r(t,e)}(l,e);var r,n,o,u,c=(o=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tn(o);if(u){var r=tn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qr(t)}(this,t)});function l(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=Qr(t=c.call.apply(c,[this].concat(o))),r=en),r.add(e),t}return r=l,(n=[{key:"platformId",get:function(){return t.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new window.AgRuSdk,t._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(e,r){"rewarded"===e.type?null===r?e.status?t._setRewardedState(a.OPENED):(e.reward&&t._setRewardedState(a.REWARDED),t._setRewardedState(a.CLOSED)):t._setRewardedState(a.FAILED):null===r?e.status?t._setInterstitialState(i.OPENED):t._setInterstitialState(i.CLOSED):t._setInterstitialState(i.FAILED)}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,en,rn).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?s.PLATFORM_INTERNAL:s.LOCAL_STORAGE,t._resolvePromiseDecorator(f.INITIALIZE)}))}))),e.promise}},{key:"authorizePlayer",value:function(){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(e,r){null===r?t._resolvePromiseDecorator(f.AUTHORIZE_PLAYER):t._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,r)}))),e.promise}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL||Xr(tn(l.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL?this._isPlayerAuthorized:Xr(tn(l.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else r._isPlayerAuthorized?r._platformSdk.getSaveData((function(o,i){if(null===i){if(r._platformStorageCachedData=o||{},Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var s=void 0===r._platformStorageCachedData[t[u]]?null:r._platformStorageCachedData[t[u]];a.push(s)}return void e(a)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else n(i)})):n()})):Xr(tn(l.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===s.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?Kr({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.setSaveData(i,(function(t,e){null===e&&(n._platformStorageCachedData=i,r()),o(e)}))}else o()})):Xr(tn(l.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?Kr({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.setSaveData(o,(function(t,i){null===i&&(r._platformStorageCachedData=o,e()),n(i)}))}else n()})):Xr(tn(l.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&Jr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(We);function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,un(n.key),n)}}function un(t){var e=function(t,e){if("object"!=on(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=on(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==on(e)?e:String(e)}function sn(t,e){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sn(t,e)}function cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function fn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,yn(t,e,"set"),r),r}function pn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,yn(t,e,"get"))}function yn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var hn=new WeakMap;const dn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(p,e);var r,n,o,c,l=(o=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ln(o);if(c){var r=ln(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===on(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cn(t)}(this,t)});function p(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=cn(t=l.call.apply(l,[this].concat(i))),n={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=hn),r.set(e,n),t}return r=p,(n=[{key:"platformId",get:function(){return t.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(f.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(f.INITIALIZE),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(f.INITIALIZE);break;case"SDK_GAME_START":pn(e,hn)?e._setRewardedState(a.CLOSED):e._setInterstitialState(i.CLOSED);break;case"SDK_GAME_PAUSE":pn(e,hn)?e._setRewardedState(a.OPENED):e._setInterstitialState(i.OPENED);break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(a.REWARDED)}}},this._defaultStorageType=s.LOCAL_STORAGE,this._isBannerSupported=!0,He("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(f.INITIALIZE,d);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(u.SHOWN)})).catch((function(){e._setBannerState(u.FAILED)})):this._setBannerState(u.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(u.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;fn(this,hn,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){t._setInterstitialState(i.FAILED)})):this._setInterstitialState(i.FAILED)}},{key:"showRewarded",value:function(){var t=this;fn(this,hn,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(){t._setRewardedState(a.FAILED)})):this._setRewardedState(a.FAILED)}}])&&an(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),p}(We);function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_n(n.key),n)}}function _n(t){var e=function(t,e){if("object"!=mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mn(e)?e:String(e)}function bn(t,e){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bn(t,e)}function gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}function wn(t,e){Pn(t,e),e.add(t)}function Pn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function En(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,On(t,e,"get"))}function An(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,On(t,e,"set"),r),r}function On(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function kn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var Tn=new WeakMap,Dn=new WeakSet,In=new WeakSet,Rn=new WeakSet,jn=new WeakSet,Ln=new WeakSet,Nn=new WeakSet;function Cn(t){var e=t.code&&"AdsNotFound"===t.code;switch(t.type){case"adCompleted":En(this,Tn)?(this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED)):this._setInterstitialState(i.CLOSED);break;case"adError":En(this,Tn)?this._setRewardedState(a.FAILED):this._setInterstitialState(i.FAILED);break;case"adDismissed":En(this,Tn)?this._setRewardedState(e?a.FAILED:a.CLOSED):this._setInterstitialState(e?i.FAILED:i.CLOSED)}}function Bn(t){t&&"ok"===t.status&&(this._isPlayerAuthorized=2===t.loginStatus||3===t.loginStatus),this._isPlayerAuthorized?this._platformSdk.userProfile():(this._isInitialized=!0,this._resolvePromiseDecorator(f.INITIALIZE))}function Mn(t){"ok"===t.status&&(this._playerId=t.uid,this._playerName=t.nick,this._playerPhotos=[t.avatar]),this._isInitialized=!0,this._resolvePromiseDecorator(f.INITIALIZE)}function Fn(t){"ok"===t.status?(this._resolvePromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.reloadWindow()):this._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,t.errmsg)}function Gn(t){0!==(null==t?void 0:t.length)?this._resolvePromiseDecorator(f.GET_CATALOG,t):this._rejectPromiseDecorator(f.GET_CATALOG)}function Wn(t){t&&t.uid?this._resolvePromiseDecorator(f.PURCHASE,t.uid):this._rejectPromiseDecorator(f.PURCHASE)}const Hn=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bn(t,e)}(c,e);var r,n,o,u,s=(o=c,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sn(o);if(u){var r=Sn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gn(t)}(this,t)});function c(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return wn(gn(t=s.call.apply(s,[this].concat(i))),Nn),wn(gn(t),Ln),wn(gn(t),jn),wn(gn(t),Rn),wn(gn(t),In),wn(gn(t),Dn),n={writable:!0,value:!1},Pn(e=gn(t),r=Tn),r.set(e,n),t}return r=c,(n=[{key:"platformId",get:function(){return t.VK_PLAY}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isClipboardSupported",get:function(){return!1}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);if(!e)if(e=this._createPromiseDecorator(f.INITIALIZE),this._options&&this._options.gameId){var r=this._options.gameId,n={appid:r,userProfileCallback:function(e){return kn(t,Rn,Mn).call(t,e)},getLoginStatusCallback:function(e){return kn(t,In,Bn).call(t,e)},registerUserCallback:function(e){return kn(t,jn,Fn).call(t,e)},adsCallback:function(e){return kn(t,Dn,Cn).call(t,e)},getGameInventoryItemsCallback:function(e){return kn(t,Ln,Gn).call(t,e)},paymentReceivedCallback:function(e){return kn(t,Nn,Wn).call(t,e)}};He("https://vkplay.ru/app/".concat(r,"/static/mailru.core.js")).then((function(){ze("iframeApi").then((function(){window.iframeApi(n).then((function(e){t._platformSdk=e,t._platformSdk.getLoginStatus()}))}))}))}else this._rejectPromiseDecorator(f.INITIALIZE,m);return e.promise}},{key:"showInterstitial",value:function(){var t=this;An(this,Tn,!1),this._platformSdk.showAds({interstitial:!0}).then((function(){t._setInterstitialState(i.OPENED)})).catch((function(){t._setInterstitialState(i.FAILED)}))}},{key:"showRewarded",value:function(){var t=this;An(this,Tn,!0),this._platformSdk.showAds({interstitial:!1}).then((function(){t._setRewardedState(a.OPENED)})).catch((function(){t._setRewardedState(a.FAILED)}))}},{key:"authorizePlayer",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.registerUser()),t}},{key:"getPaymentsCatalog",value:function(){var t=this._getPromiseDecorator(f.GET_CATALOG);return t||(t=this._createPromiseDecorator(f.GET_CATALOG),this._platformSdk.getGameInventoryItems()),t.promise}},{key:"purchase",value:function(t){if(!t)return Promise.reject();var e=this._getPromiseDecorator(f.PURCHASE);return e||(e=this._createPromiseDecorator(f.PURCHASE),this._platformSdk.paymentFrameItem(t)),e.promise}}])&&vn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(We);function zn(t){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(t)}function Un(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(r),!0).forEach((function(e){Qn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,to(n.key),n)}}function Yn(){return Yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Yn.apply(this,arguments)}function Zn(t,e){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zn(t,e)}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t){return Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jn(t)}function qn(t,e){$n(t,e),e.add(t)}function Xn(t,e,r){$n(t,e),e.set(t,r)}function $n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qn(t,e,r){return(e=to(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function to(t){var e=function(t,e){if("object"!=zn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zn(e)?e:String(e)}function eo(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function ro(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var no="AUTHORIZED",oo={VALUABLE_ACCESS:"VALUABLE_ACCESS",PHOTO_CONTENT:"PHOTO_CONTENT"},io=new WeakMap,ao=new WeakMap,uo=new WeakMap,so=new WeakSet,co=new WeakSet,lo=new WeakSet,fo=new WeakSet,po=new WeakSet,yo=new WeakSet,ho=new WeakSet,mo=new WeakSet,vo=new WeakSet,_o=new WeakSet,bo=new WeakSet,go=new WeakSet,So=new WeakSet,wo=new WeakSet,Po=new WeakSet,Eo=new WeakSet;function Ao(){return{userProfile:{fields:"uid,name,pic50x50,pic128x128,pic_base",method:"users.getCurrentUser"},hasAppPermission:function(t){return{method:"users.hasAppPermission",ext_perm:t}}}}function Oo(){var t=this;return{userProfileCallback:function(e,r,n){return eo(t,so,To).call(t,e,r,n)},hasValueAccessCallback:function(e,r,n){return eo(t,lo,Io).call(t,r,n)}}}function ko(){var t=this;return{showPermissions:function(){return eo(t,fo,Ro).call(t)},loadAd:function(e){return eo(t,po,jo).call(t,e)},showLoadedAd:function(e,r){return eo(t,yo,Lo).call(t,r)},showAd:function(e,r){return eo(t,ho,No).call(t,r)},requestBannerAds:function(e,r){return eo(t,mo,Co).call(t,e,r)},showBannerAds:function(e,r){return eo(t,_o,Mo).call(t,r)},hideBannerAds:function(e,r){return eo(t,vo,Bo).call(t,r)},setBannerFormat:function(e){return eo(t,bo,Fo).call(t,e)},showInvite:function(e){return eo(t,go,Go).call(t,e)},showRatingDialog:function(e,r){return eo(t,So,Wo).call(t,e,r)},joinGroup:function(e,r){return eo(t,wo,Ho).call(t,e,r)},showLoginSuggestion:function(e,r){return eo(t,co,Do).call(t,e,r)},postMediatopic:function(e,r){return eo(t,Po,zo).call(t,e,r)},isAdBlockEnabled:function(e,r){return eo(t,Eo,Uo).call(t,e,r)}}}function To(t,e){"ok"===t&&(this._playerId=e.uid,this._playerName=e.name,this._playerPhotos=[e.pic50x50,e.pic128x128,e.pic_base]),this._isInitialized=!0,this._platformSdk.Client.call(ro(this,io).hasAppPermission(oo.VALUABLE_ACCESS),ro(this,ao).hasValueAccessCallback)}function Do(t,e){if("error"===t)return this._isPlayerAuthorized=!1,void this._rejectPromiseDecorator(f.AUTHORIZE_PLAYER,e);this._isPlayerAuthorized=!0,this._resolvePromiseDecorator(f.AUTHORIZE_PLAYER)}function Io(t){if(this._hasValuableAccessPermission=!!t,this._defaultStorageType=this._hasValuableAccessPermission?s.PLATFORM_INTERNAL:s.LOCAL_STORAGE,this._hasValuableAccessPermission||this._hasValuableAccessPermissionShowed)this._resolvePromiseDecorator(f.INITIALIZE);else{var e=Object.values(oo).map((function(t){return'"'.concat(t,'"')})).join(",");this._platformSdk.UI.showPermissions("[".concat(e,"]"))}}function Ro(){this._hasValuableAccessPermissionShowed=!0,this._platformSdk.Client.call(ro(this,io).hasAppPermission(oo.VALUABLE_ACCESS),ro(this,ao).hasValueAccessCallback)}function jo(t){"error"===t?this._setRewardedState(a.FAILED):(this._setRewardedState(a.OPENED),this._platformSdk.UI.showLoadedAd())}function Lo(t){switch(t){case"complete":this._setRewardedState(a.REWARDED),this._setRewardedState(a.CLOSED);break;case"skip":this._setRewardedState(a.CLOSED);break;default:this._setRewardedState(a.FAILED)}}function No(t){switch(t){case"ready":case"ad_prepared":break;case"ad_shown":this._setInterstitialState(i.OPENED),this._setInterstitialState(i.CLOSED);break;default:this._setInterstitialState(i.FAILED)}}function Co(t,e){if("error"!==t)switch(e){case"ad_loaded":this._platformSdk.invokeUIMethod("showBannerAds");break;case"banner_shown":case"ad_shown":this._setBannerState(u.SHOWN);break;case"hidden_by_user":this._setBannerState(u.HIDDEN)}else this._setBannerState(u.FAILED)}function Bo(t){t?this._setBannerState(u.HIDDEN):this._setBannerState(u.FAILED)}function Mo(t){t||this._setBannerState(u.FAILED)}function Fo(t){"error"===t?this._setBannerState(u.FAILED):this.showBanner(this._platformBannerOptions)}function Go(t){"error"===t?this._rejectPromiseDecorator(f.INVITE_FRIENDS):this._resolvePromiseDecorator(f.INVITE_FRIENDS)}function Wo(t,e){"error"===t?this._rejectPromiseDecorator(f.RATE,e):this._resolvePromiseDecorator(f.RATE)}function Ho(t,e){"error"===t?this._rejectPromiseDecorator(f.JOIN_COMMUNITY,e):this._resolvePromiseDecorator(f.JOIN_COMMUNITY)}function zo(t,e){"error"===t?this._rejectPromiseDecorator(f.CREATE_POST,e):this._resolvePromiseDecorator(f.CREATE_POST)}function Uo(t,e){"ok"===t?(console.log("data ok",e),this._resolvePromiseDecorator(f.ADBLOCK_DETECT,e)):(console.log("data not ok",e),this._rejectPromiseDecorator(f.ADBLOCK_DETECT,e))}const xo=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zn(t,e)}(l,e);var r,n,o,u,c=(o=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jn(o);if(u){var r=Jn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kn(t)}(this,t)});function l(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return qn(Kn(t=c.call.apply(c,[this].concat(r))),Eo),qn(Kn(t),Po),qn(Kn(t),wo),qn(Kn(t),So),qn(Kn(t),go),qn(Kn(t),bo),qn(Kn(t),_o),qn(Kn(t),vo),qn(Kn(t),mo),qn(Kn(t),ho),qn(Kn(t),yo),qn(Kn(t),po),qn(Kn(t),fo),qn(Kn(t),lo),qn(Kn(t),co),qn(Kn(t),so),Xn(Kn(t),uo,{get:ko,set:void 0}),Xn(Kn(t),ao,{get:Oo,set:void 0}),Xn(Kn(t),io,{get:Ao,set:void 0}),Qn(Kn(t),"_hasValuableAccessPermission",!1),Qn(Kn(t),"_hasValuableAccessPermissionShowed",!1),Qn(Kn(t),"_platformBannerOptions",{}),t}return r=l,(n=[{key:"platformId",get:function(){return t.OK}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isBannerSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isRateSupported",get:function(){return!0}},{key:"isClipboardSupported",get:function(){return!1}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("//api.ok.ru/js/fapi5.js").then((function(){ze("FAPI").then((function(){t._platformSdk=window.FAPI,window.API_callback=function(e,r,n){return ro(t,uo)[e](r,n)};var e=t._platformSdk.Util.getRequestParameters()||{};e.api_server&&e.apiconnection?t._platformSdk.init(e.api_server,e.apiconnection,(function(){var e,r=null===(e=t._platformSdk)||void 0===e?void 0:e.saved_state;t._isPlayerAuthorized=!r||r===no,t._isPlayerAuthorized?t._platformSdk.Client.call(ro(t,io).userProfile,ro(t,ao).userProfileCallback):(t._isInitialized=!0,t._resolvePromiseDecorator(f.INITIALIZE))}),(function(){t._rejectPromiseDecorator(f.INITIALIZE)})):t._rejectPromiseDecorator(f.INITIALIZE,v)}))}))),e.promise}},{key:"authorizePlayer",value:function(){if(this._isPlayerAuthorized)return Promise.resolve();var t=this._getPromiseDecorator(f.AUTHORIZE_PLAYER);return t||(t=this._createPromiseDecorator(f.AUTHORIZE_PLAYER),this._platformSdk.UI.showLoginSuggestion(no)),t.promise}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL||Yn(Jn(l.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL?this._hasValuableAccessPermission:Yn(Jn(l.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?this._hasValuableAccessPermission?new Promise((function(e,n){var o=Array.isArray(t)?t:[t],i={method:"storage.get",keys:o,scope:"CUSTOM"};r._platformSdk.Client.call(i,(function(r,i,a){if(i){var u,s=i.data||{};if(Array.isArray(t)){var c=[];return o.forEach((function(t){if(""!==s[t]&&void 0!==s[t]){var e;try{e=JSON.parse(s[t])}catch(r){e=s[t]}c.push(e)}else c.push(null)})),void e(c)}if(""===s[t]||void 0===s[t])return void e(null);try{u=JSON.parse(s[t])}catch(e){u=s[t]}e(u)}else n(a)}))})):Promise.reject(h):Yn(Jn(l.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===s.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(h);for(var o=Array.isArray(t)?t:[t],i=Array.isArray(t)?e:[e],a=[],u=function(){var t=o[c],e=i[c];"string"!=typeof e&&(e=JSON.stringify(e));var r={method:"storage.set",key:t,value:e},u=new Promise((function(t,e){n._platformSdk.Client.call(r,(function(r,n){n?t():e()}))}));a.push(u)},c=0;c<o.length;c++)u();return Promise.all(a)}return Yn(Jn(l.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;if(e===s.PLATFORM_INTERNAL){if(!this._hasValuableAccessPermission)return Promise.reject(h);for(var n=Array.isArray(t)?t:[t],o=[],i=function(){var t={method:"storage.set",key:n[a]},e=new Promise((function(e,n){r._platformSdk.Client.call(t,(function(t,r){r?e():n()}))}));o.push(e)},a=0;a<n.length;a++)i();return Promise.all(o)}return Yn(Jn(l.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){try{this._platformSdk.UI.showAd()}catch(t){this._setInterstitialState(i.FAILED)}}},{key:"showRewarded",value:function(){try{this._platformSdk.UI.loadAd()}catch(t){this._setRewardedState(a.FAILED)}}},{key:"showBanner",value:function(t){if(t){if("string"==typeof t.layoutType)return this._platformBannerOptions=xn(xn({},t),{},{layoutType:null}),void this._platformSdk.invokeUIMethod("setBannerFormat",t.layoutType);if("string"==typeof t.position)return void this._platformSdk.invokeUIMethod("requestBannerAds",t.position)}this._platformSdk.invokeUIMethod("requestBannerAds","bottom")}},{key:"hideBanner",value:function(){this._platformSdk.invokeUIMethod("hideBannerAds")}},{key:"isAdBlockDetected",value:function(){var t=this._getPromiseDecorator(f.ADBLOCK_DETECT);return t||(t=this._createPromiseDecorator(f.ADBLOCK_DETECT),this._platformSdk.invokeUIMethod("isAdBlockEnabled")),t.promise}},{key:"inviteFriends",value:function(t){var e=(t||{}).text;if(!t||"string"!=typeof e)return Promise.reject();var r=this._getPromiseDecorator(f.INVITE_FRIENDS);return r||(r=this._createPromiseDecorator(f.INVITE_FRIENDS),e.length>120?this._rejectPromiseDecorator(f.INVITE_FRIENDS,_):this._platformSdk.UI.showInvite(e)),r.promise}},{key:"rate",value:function(){var t=this._getPromiseDecorator(f.RATE);return t||(t=this._createPromiseDecorator(f.RATE),this._platformSdk.UI.showRatingDialog()),t.promise}},{key:"createPost",value:function(t){if(!t||null==t||!t.media)return Promise.reject();var e,r=this._getPromiseDecorator(f.CREATE_POST);return r||(r=this._createPromiseDecorator(f.CREATE_POST),this._platformSdk.UI.postMediatopic(t,null!==(e=t.status)&&void 0!==e&&e)),r.promise}},{key:"joinCommunity",value:function(t){if(!t||null==t||!t.groupId)return Promise.reject();var e,r=this._getPromiseDecorator(f.JOIN_COMMUNITY);return r||(r=this._createPromiseDecorator(f.JOIN_COMMUNITY),this._platformSdk.UI.joinGroup(t.groupId,null!==(e=t.enableMessages)&&void 0!==e&&e)),r.promise}}])&&Vn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),l}(We);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zo(n.key),n)}}function Zo(t){var e=function(t,e){if("object"!=Vo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vo(e)?e:String(e)}function Ko(t,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ko(t,e)}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}const qo=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ko(t,e)}(c,e);var r,n,o,u,s=(o=c,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jo(o);if(u){var r=Jo(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.apply(this,arguments)}return r=c,(n=[{key:"platformId",get:function(){return t.PLAYGAMA}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("https://developer.playgama.com/sdk/v1.js").then((function(){ze("PLAYGAMA_SDK").then((function(){t._platformSdk=window.PLAYGAMA_SDK,t._isInitialized=!0,t._resolvePromiseDecorator(f.INITIALIZE)}))}))),e.promise}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.advService.showInterstitial({onOpen:function(){t._setInterstitialState(i.OPENED)},onEmpty:function(){t._setInterstitialState(i.FAILED)},onClose:function(){t._setInterstitialState(i.CLOSED)},onError:function(){t._setInterstitialState(i.FAILED)}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.advService.showRewarded({onOpen:function(){t._setRewardedState(a.OPENED)},onRewarded:function(){t._setRewardedState(a.REWARDED)},onEmpty:function(){t._setRewardedState(a.FAILED)},onClose:function(){t._setRewardedState(a.CLOSED)},onError:function(){t._setRewardedState(a.FAILED)}})}}])&&Yo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),c}(We);function Xo(t){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function $o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$o(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=ei(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ei(n.key),n)}}function ei(t){var e=function(t,e){if("object"!=Xo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xo(e)?e:String(e)}function ri(){return ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ii(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ri.apply(this,arguments)}function ni(t,e){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ni(t,e)}function oi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(t)}function ai(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ui(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,si(t,e,"get"))}function si(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var ci=new WeakMap,li=new WeakSet;function fi(){this._playerId=this._platformSdk.player.getId(),this._playerName=this._platformSdk.player.getName(),this._playerPhotos=[this._platformSdk.player.getPhoto()]}const pi=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(y,e);var r,n,o,c,p=(o=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ii(o);if(c){var r=ii(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}(this,t)});function y(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ai(e=oi(t=p.call.apply(p,[this].concat(o))),r=li),r.add(e),function(t,e,r){ai(t,e),e.set(t,{writable:!0,value:void 0})}(oi(t),ci),t}return r=y,(n=[{key:"platformId",get:function(){return t.WORTAL}},{key:"platformLanguage",get:function(){if(this._platformSdk){var t=this._platformSdk.session.getLocale();if(t)return t.toLowerCase().slice(0,2)}return ri(ii(y.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){var t=this._platformSdk.session.getDevice();return t?t.toLowerCase():ri(ii(y.prototype),"deviceType",this)}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(f.INITIALIZE);return e||(e=this._createPromiseDecorator(f.INITIALIZE),He("https://storage.googleapis.com/cdn-wortal-ai/v2/wortal-core.js").then((function(){ze("Wortal","initializeAsync").then((function(){window.Wortal.initializeAsync().then((function(){var e,r,n;t._platformSdk=window.Wortal,e=t,r=ci,n=t._platformSdk.getSupportedAPIs(),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,si(e,r,"set"),n),t._isBannerSupported=ui(t,ci).includes("ads.showBanner"),t._platformSdk.player.onLogin(function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,li,fi)),t._isInitialized=!0,t._resolvePromiseDecorator(f.INITIALIZE)}))}))}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case l.GAMEPLAY_STARTED:return this._platformSdk.session.gameplayStart(),Promise.resolve();case l.GAMEPLAY_STOPPED:return this._platformSdk.session.gameplayStop(),Promise.resolve();case l.GAME_READY:return this._platformSdk.setLoadingProgress(100),this._platformSdk.startGameAsync(),Promise.resolve();case l.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.session.happyTime(),Promise.resolve();default:return ri(ii(y.prototype),"sendMessage",this).call(this,t)}}},{key:"showBanner",value:function(t){var e="bottom";t&&"string"==typeof t.position&&(e=t.position),this._platformSdk.ads.showBanner(!0,e),this._setBannerState(u.SHOWN)}},{key:"hideBanner",value:function(){this._platformSdk.ads.showBanner(!1),this._setBannerState(u.HIDDEN)}},{key:"showInterstitial",value:function(t){var e=this,r="next",n="NextLevel";t&&(t.placement&&(r=t.placement),t.description&&(n=t.description)),this._platformSdk.ads.showInterstitial(r,n,(function(){e._setInterstitialState(i.OPENED)}),(function(){e._setInterstitialState(i.CLOSED)}),(function(){e._setInterstitialState(i.FAILED)}))}},{key:"showRewarded",value:function(t){var e=this,r="Bonus";t&&t.description&&(r=t.description),this._platformSdk.ads.showRewarded(r,(function(){e._setRewardedState(a.OPENED)}),(function(){e._setRewardedState(a.CLOSED)}),(function(){e._setRewardedState(a.CLOSED)}),(function(){e._setRewardedState(a.REWARDED)}),(function(){e._setRewardedState(a.FAILED)}))}},{key:"isStorageSupported",value:function(t){return t===s.PLATFORM_INTERNAL?ui(this,ci).includes("player.setDataAsync"):ri(ii(y.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===s.PLATFORM_INTERNAL?ui(this,ci).includes("player.setDataAsync"):ri(ii(y.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){var o=Array.isArray(t)?t:[t];r._platformSdk.player.getDataAsync(o).then((function(n){if(r._platformStorageCachedData||(r._platformStorageCachedData={}),Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===n[t[i]]?null:n[t[i]];o.push(a),r._platformStorageCachedData[t[i]]=a}e(o)}else{var u=void 0===n[t]?null:n[t];r._platformStorageCachedData[t]=u,e(u)}})).catch((function(t){return n(t)}))})):ri(ii(y.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===s.PLATFORM_INTERNAL?new Promise((function(r,o){var i=null!==n._platformStorageCachedData?Qo({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.player.setDataAsync(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){return o(t)}))})):ri(ii(y.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===s.PLATFORM_INTERNAL?new Promise((function(e,n){var o=null!==r._platformStorageCachedData?Qo({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.player.setDataAsync(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){return n(t)}))})):ri(ii(y.prototype),"deleteDataFromStorage",this).call(this,t,e)}}])&&ti(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),y}(We);function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function hi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function di(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mi(n.key),n)}}function mi(t){var e=function(t,e){if("object"!=yi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yi(e)?e:String(e)}function vi(t,e){bi(t,e),e.add(t)}function _i(t,e,r){bi(t,e),e.set(t,r)}function bi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gi(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Pi(t,e,"set"),r),r}function Si(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function wi(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Pi(t,e,"get"))}function Pi(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Ei=new WeakMap,Ai=new WeakMap,Oi=new WeakMap,ki=new WeakMap,Ti=new WeakSet,Di=new WeakSet,Ii=new WeakSet;function Ri(){var e=t.MOCK;if(this._options&&this._options.forciblySetPlatformId)e=Si(this,Di,ji).call(this,this._options.forciblySetPlatformId.toLowerCase());else{var r=new URL(window.location.href),n=["y","a","n","d","e","x",".","n","e","t"].join("");r.searchParams.has("platform_id")?e=Si(this,Di,ji).call(this,r.searchParams.get("platform_id").toLowerCase()):r.hostname.includes(n)||r.hash.includes("yandex")?e=t.YANDEX:r.hostname.includes("crazygames.")||r.hostname.includes("1001juegos.com")?e=t.CRAZY_GAMES:r.hostname.includes("gamedistribution.com")?e=t.GAME_DISTRIBUTION:r.hostname.includes("wortal.ai")?e=t.WORTAL:r.searchParams.has("api_id")&&r.searchParams.has("viewer_id")&&r.searchParams.has("auth_key")?e=t.VK:r.searchParams.has("app_id")&&r.searchParams.has("player_id")&&r.searchParams.has("game_sid")&&r.searchParams.has("auth_key")&&(e=t.ABSOLUTE_GAMES)}switch(e){case t.VK:gi(this,Oi,new nr(this._options&&this._options.platforms&&this._options.platforms[t.VK]));break;case t.VK_PLAY:gi(this,Oi,new Hn(this._options&&this._options.platforms&&this._options.platforms[t.VK_PLAY]));break;case t.YANDEX:gi(this,Oi,new Ar(this._options&&this._options.platforms&&this._options.platforms[t.YANDEX]));break;case t.CRAZY_GAMES:gi(this,Oi,new Vr(this._options&&this._options.platforms&&this._options.platforms[t.CRAZY_GAMES]));break;case t.ABSOLUTE_GAMES:gi(this,Oi,new nn(this._options&&this._options.platforms&&this._options.platforms[t.ABSOLUTE_GAMES]));break;case t.GAME_DISTRIBUTION:gi(this,Oi,new dn(this._options&&this._options.platforms&&this._options.platforms[t.GAME_DISTRIBUTION]));break;case t.OK:gi(this,Oi,new xo(this._options&&this._options.platforms&&this._options.platforms[t.OK]));break;case t.PLAYGAMA:gi(this,Oi,new qo(this._options&&this._options.platforms&&this._options.platforms[t.PLAYGAMA]));break;case t.WORTAL:gi(this,Oi,new pi(this._options&&this._options.platforms&&this._options.platforms[t.WORTAL]));break;default:gi(this,Oi,new We)}}function ji(e){for(var r=Object.values(t),n=0;n<r.length;n++)if(e===r[n])return e;return t.MOCK}function Li(t){return wi(this,Ei)||console.error(p),wi(this,ki)[t]}const Ni=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),vi(this,Ii),vi(this,Di),vi(this,Ti),_i(this,Ei,{writable:!0,value:!1}),_i(this,Ai,{writable:!0,value:null}),_i(this,Oi,{writable:!0,value:null}),_i(this,ki,{writable:!0,value:{}})}var f,p;return f=r,p=[{key:"version",get:function(){return"1.14.0"}},{key:"isInitialized",get:function(){return wi(this,Ei)}},{key:"platform",get:function(){return Si(this,Ii,Li).call(this,e.PLATFORM)}},{key:"player",get:function(){return Si(this,Ii,Li).call(this,e.PLAYER)}},{key:"game",get:function(){return Si(this,Ii,Li).call(this,e.GAME)}},{key:"storage",get:function(){return Si(this,Ii,Li).call(this,e.STORAGE)}},{key:"advertisement",get:function(){return Si(this,Ii,Li).call(this,e.ADVERTISEMENT)}},{key:"social",get:function(){return Si(this,Ii,Li).call(this,e.SOCIAL)}},{key:"device",get:function(){return Si(this,Ii,Li).call(this,e.DEVICE)}},{key:"leaderboard",get:function(){return Si(this,Ii,Li).call(this,e.LEADERBOARD)}},{key:"payments",get:function(){return Si(this,Ii,Li).call(this,e.PAYMENTS)}},{key:"remoteConfig",get:function(){return Si(this,Ii,Li).call(this,e.REMOTE_CONFIG)}},{key:"clipboard",get:function(){return Si(this,Ii,Li).call(this,e.CLIPBOARD)}},{key:"PLATFORM_ID",get:function(){return t}},{key:"PLATFORM_MESSAGE",get:function(){return l}},{key:"MODULE_NAME",get:function(){return e}},{key:"EVENT_NAME",get:function(){return n}},{key:"INTERSTITIAL_STATE",get:function(){return i}},{key:"REWARDED_STATE",get:function(){return a}},{key:"BANNER_STATE",get:function(){return u}},{key:"STORAGE_TYPE",get:function(){return s}},{key:"VISIBILITY_STATE",get:function(){return o}},{key:"DEVICE_TYPE",get:function(){return c}},{key:"initialize",value:function(t){var r=this;return wi(this,Ei)?Promise.resolve():(wi(this,Ai)||(gi(this,Ai,new D),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hi(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=mi(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),Si(this,Ti,Ri).call(this),wi(this,Oi).initialize().then((function(){wi(r,ki)[e.PLATFORM]=new G(wi(r,Oi)),wi(r,ki)[e.PLAYER]=new V(wi(r,Oi)),wi(r,ki)[e.GAME]=new tt(wi(r,Oi)),wi(r,ki)[e.STORAGE]=new at(wi(r,Oi)),wi(r,ki)[e.ADVERTISEMENT]=new Jt(wi(r,Oi)),wi(r,ki)[e.SOCIAL]=new ee(wi(r,Oi)),wi(r,ki)[e.DEVICE]=new ue(wi(r,Oi)),wi(r,ki)[e.LEADERBOARD]=new ye(wi(r,Oi)),wi(r,ki)[e.PAYMENTS]=new be(wi(r,Oi)),wi(r,ki)[e.REMOTE_CONFIG]=new Ae(wi(r,Oi)),wi(r,ki)[e.CLIPBOARD]=new Re(wi(r,Oi)),gi(r,Ei,!0),console.info("%c InstantGamesBridge v.".concat(r.version," initialized. "),"background: #01A5DA; color: white"),wi(r,Ai)&&(wi(r,Ai).resolve(),gi(r,Ai,null))}))),wi(this,Ai).promise)}}],p&&di(f.prototype,p),Object.defineProperty(f,"prototype",{writable:!1}),r}();window.bridge=new Ni,window.instantGamesBridge=window.bridge})()})();