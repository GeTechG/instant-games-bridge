/*! For license information please see instant-games-bridge.js.LICENSE.txt */
(()=>{var t={432:(t,e,r)=>{"use strict";r.d(e,{Z:()=>fo});var n={VK:"vk",VK_PLAY:"vk_play",YANDEX:"yandex",CRAZY_GAMES:"crazy_games",ABSOLUTE_GAMES:"absolute_games",GAME_DISTRIBUTION:"game_distribution",MOCK:"mock"},o={PLATFORM:"platform",PLAYER:"player",GAME:"game",STORAGE:"storage",ADVERTISEMENT:"advertisement",SOCIAL:"social",DEVICE:"device",LEADERBOARD:"leaderboard",PAYMENTS:"payments",REMOTE_CONFIG:"remote_config",CLIPBOARD:"clipboard"},i={INTERSTITIAL_STATE_CHANGED:"interstitial_state_changed",REWARDED_STATE_CHANGED:"rewarded_state_changed",BANNER_STATE_CHANGED:"banner_state_changed",VISIBILITY_STATE_CHANGED:"visibility_state_changed"},a={VISIBLE:"visible",HIDDEN:"hidden"},u={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed"},c={LOADING:"loading",OPENED:"opened",CLOSED:"closed",FAILED:"failed",REWARDED:"rewarded"},s={LOADING:"loading",SHOWN:"shown",HIDDEN:"hidden",FAILED:"failed"},l={LOCAL_STORAGE:"local_storage",PLATFORM_INTERNAL:"platform_internal"},f={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet",TV:"tv"},p={GAME_READY:"game_ready",IN_GAME_LOADING_STARTED:"in_game_loading_started",IN_GAME_LOADING_STOPPED:"in_game_loading_stopped",GAMEPLAY_STARTED:"gameplay_started",GAMEPLAY_STOPPED:"gameplay_stopped",PLAYER_GOT_ACHIEVEMENT:"player_got_achievement"},y={INITIALIZE:"initialize",AUTHORIZE_PLAYER:"authorize_player",SHARE:"share",INVITE_FRIENDS:"invite_friends",JOIN_COMMUNITY:"join_community",CREATE_POST:"create_post",ADD_TO_HOME_SCREEN:"add_to_home_screen",ADD_TO_FAVORITES:"add_to_favorites",RATE:"rate",SET_LEADERBOARD_SCORE:"set_leaderboard_score",GET_LEADERBOARD_SCORE:"get_leaderboard_score",GET_LEADERBOARD_ENTRIES:"get_leaderboard_entries",GET_PURCHASES:"get_purchases",GET_CATALOG:"get_catalog",PURCHASE:"purchase",CONSUME_PURCHASE:"consume_purchase",GET_REMOTE_CONFIG:"get_remote_config",SHOW_LEADERBOARD_NATIVE_POPUP:"show_leaderboard_native_popup",GET_ADVERTISEMENT:"get_advertisement",GET_PROFILE:"get_profile",GET_LOGIN_STATUS:"get_login_status",CLIPBOARD_WRITE:"clipboard_write"},h={message:"Before using the SDK you must initialize it"},d={message:"Storage not supported"},m={message:"GameDistribution Game ID is undefined"};function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function b(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:String(e)}function g(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function S(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,w(t,e,"set"),r),r}function E(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,w(t,e,"get"))}function w(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var P=new WeakMap,O=new WeakMap,A=new WeakMap;const T=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,P,{writable:!0,value:void 0}),g(this,O,{writable:!0,value:void 0}),g(this,A,{writable:!0,value:void 0}),S(this,P,new Promise((function(t,r){S(e,O,t),S(e,A,r)})))}var e,r;return e=t,(r=[{key:"promise",get:function(){return E(this,P)}},{key:"resolve",value:function(t){E(this,O).call(this,t)}},{key:"reject",value:function(t){E(this,A).call(this,t)}}])&&_(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:String(e)}const R=function(){function t(e){var r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=void 0,(n=I(n="_platformBridge"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._platformBridge=e}var e,r;return e=t,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N(n.key),n)}}function N(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==j(e)?e:String(e)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}const G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(n);if(o){var r=C(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}},{key:"tld",get:function(){return this._platformBridge.platformTld}},{key:"sendMessage",value:function(t){return this._platformBridge.sendMessage(t)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:String(e)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}const z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(n);if(o){var r=H(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.authorize(e)}return this._platformBridge.authorizePlayer(t)}}])&&F(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);var U=r(258),V=r.n(U);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z(n.key),n)}}function Z(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:String(e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(u,t);var e,r,n,o,a=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(n);if(o){var r=J(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t))._platformBridge.on(i.VISIBILITY_STATE_CHANGED,(function(t){return e.emit(i.VISIBILITY_STATE_CHANGED,t)})),e}return e=u,(r=[{key:"visibilityState",get:function(){return this._platformBridge.visibilityState}}])&&K(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(R);V().mixin(X.prototype);const Q=X;function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function et(t){var e=function(t,e){if("object"!=$(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:String(e)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}function it(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var at=new WeakMap;const ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(n);if(o){var r=ot(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}(this,t)});function a(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return e=nt(t=i.call.apply(i,[this].concat(u))),n={writable:!0,value:[]},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=at),r.set(e,n),t}return e=a,(r=[{key:"defaultType",get:function(){return this._platformBridge.defaultStorageType}},{key:"isSupported",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageSupported(t)}},{key:"isAvailable",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.isSupported(e)}return this._platformBridge.isStorageAvailable(t)}},{key:"get",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.get(t,n)}var o=e;o||(o=this.defaultType);var i=it(this,at)[o];return i&&void 0!==i[t]?Promise.resolve(i[t]):this._platformBridge.getDataFromStorage(t,o).then((function(e){return r._addToCache(o,t,e),e}))}},{key:"set",value:function(t,e,r){var n=this;if(r){var o=r[this._platformBridge.platformId];if(o)return this.set(t,e,o)}var i=r;return i||(i=this.defaultType),this._platformBridge.setDataToStorage(t,e,i).then((function(){return n._addToCache(i,t,e)}))}},{key:"delete",value:function(t,e){var r=this;if(e){var n=e[this._platformBridge.platformId];if(n)return this.delete(t,n)}var o=e;return o||(o=this.defaultType),this._platformBridge.deleteDataFromStorage(t,o).then((function(){return r._deleteFromCache(o,t)}))}},{key:"_addToCache",value:function(t,e,r){if(it(this,at)[t]||(it(this,at)[t]=[]),Array.isArray(e))for(var n=0;n<e.length;n++)it(this,at)[t][e[n]]=r[e[n]];else it(this,at)[t][e]=r}},{key:"_deleteFromCache",value:function(t,e){if(it(this,at)[t])if(Array.isArray(e))for(var r=0;r<e.length;r++)delete it(this,at)[t][e[r]];else delete it(this,at)[t][e]}}])&&tt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lt(n.key),n)}}function lt(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ct(e)?e:String(e)}function ft(t,e){yt(t,e),e.add(t)}function pt(t,e,r){yt(t,e),e.set(t,r)}function yt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ht(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function dt(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,vt(t,e,"set"),r),r}function mt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,vt(t,e,"get"))}function vt(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var _t="created",bt="completed",gt=new WeakMap,St=new WeakMap,Et=new WeakMap,wt=new WeakMap,Pt=new WeakSet,Ot=new WeakSet,At=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ft(this,Ot),ft(this,Pt),pt(this,gt,{writable:!0,value:0}),pt(this,St,{writable:!0,value:0}),pt(this,Et,{writable:!0,value:_t}),pt(this,wt,{writable:!0,value:0}),dt(this,gt,e)}var e,r;return e=t,(r=[{key:"state",get:function(){return mt(this,Et)}},{key:"start",value:function(){var t=this;mt(this,Et)!==_t&&mt(this,Et)!==bt||(dt(this,St,mt(this,gt)),ht(this,Pt,Tt).call(this,"started"),dt(this,wt,setInterval((function(){dt(t,St,mt(t,St)-1),t.emit("time_left_changed",mt(t,St)),mt(t,St)<=0&&(ht(t,Ot,kt).call(t),ht(t,Pt,Tt).call(t,bt))}),1e3)))}},{key:"stop",value:function(){ht(this,Ot,kt).call(this),ht(this,Pt,Tt).call(this,"stopped")}}])&&st(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Tt(t){dt(this,Et,t),this.emit("state_changed",mt(this,Et))}function kt(){dt(this,St,0),clearInterval(mt(this,wt))}V().mixin(At.prototype);const Dt=At;function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jt(n.key),n)}}function jt(t){var e=function(t,e){if("object"!=It(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==It(e)?e:String(e)}function Lt(t,e){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lt(t,e)}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bt(t)}function Ct(t,e){Mt(t,e),e.add(t)}function Gt(t,e,r){Mt(t,e),e.set(t,r)}function Mt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ft(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,Ht(t,e,"set"),r),r}function xt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Wt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ht(t,e,"get"))}function Ht(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var zt=new WeakMap,Ut=new WeakMap,Vt=new WeakSet,Yt=new WeakSet,Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(l,t);var e,r,n,o,a=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bt(n);if(o){var r=Bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nt(t)}(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),Ct(Nt(e=a.call(this,t)),Yt),Ct(Nt(e),Vt),Gt(Nt(e),zt,{writable:!0,value:void 0}),Gt(Nt(e),Ut,{writable:!0,value:60}),e._platformBridge.on(i.INTERSTITIAL_STATE_CHANGED,(function(t){t===u.CLOSED&&Wt(Nt(e),Ut)>0&&xt(Nt(e),Vt,Zt).call(Nt(e)),e.emit(i.INTERSTITIAL_STATE_CHANGED,t)})),e._platformBridge.on(i.REWARDED_STATE_CHANGED,(function(t){return e.emit(i.REWARDED_STATE_CHANGED,t)})),e._platformBridge.on(i.BANNER_STATE_CHANGED,(function(t){return e.emit(i.BANNER_STATE_CHANGED,t)})),e}return e=l,(r=[{key:"isBannerSupported",get:function(){return this._platformBridge.isBannerSupported}},{key:"bannerState",get:function(){return this._platformBridge.bannerState}},{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return Wt(this,Ut)}},{key:"setMinimumDelayBetweenInterstitial",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(void 0!==e)return void this.setMinimumDelayBetweenInterstitial(e)}var r=It(t),n=Wt(this,Ut);switch(r){case"number":n=t;break;case"string":if(n=parseInt(t,10),Number.isNaN(n))return;break;default:return}Ft(this,Ut,n),Wt(this,zt)&&(Wt(this,zt).stop(),xt(this,Vt,Zt).call(this))}},{key:"showBanner",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showBanner(e)}this.bannerState!==s.LOADING&&this.bannerState!==s.SHOWN&&(this._platformBridge._setBannerState(s.LOADING),this.isBannerSupported?this._platformBridge.showBanner(t):this._platformBridge._setBannerState(s.FAILED))}},{key:"hideBanner",value:function(){this.bannerState!==s.LOADING&&this.bannerState!==s.HIDDEN&&this.isBannerSupported&&this._platformBridge.hideBanner()}},{key:"showInterstitial",value:function(t){if(!xt(this,Yt,qt).call(this)){if(t){var e=t[this._platformBridge.platformId];if(e)return void this.showInterstitial(e)}var r=!1;t&&"boolean"==typeof t.ignoreDelay&&(r=t.ignoreDelay),this._platformBridge._setInterstitialState(u.LOADING),!Wt(this,zt)||Wt(this,zt).state===bt||r?this._platformBridge.showInterstitial():this._platformBridge._setInterstitialState(u.FAILED)}}},{key:"showRewarded",value:function(){xt(this,Yt,qt).call(this)||(this._platformBridge._setRewardedState(c.LOADING),this._platformBridge.showRewarded())}}])&&Rt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(R);function Zt(){Ft(this,zt,new Dt(Wt(this,Ut))),Wt(this,zt).start()}function qt(){return this.interstitialState===u.LOADING||this.interstitialState===u.OPENED||!![c.LOADING,c.OPENED,c.REWARDED].includes(this.rewardedState)}V().mixin(Kt.prototype);const Jt=Kt;function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$t(n.key),n)}}function $t(t){var e=function(t,e){if("object"!=Xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xt(e)?e:String(e)}function te(t,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},te(t,e)}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}const re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&te(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ee(n);if(o){var r=ee(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"isExternalLinksAllowed",get:function(){return this._platformBridge.isExternalLinksAllowed}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.joinCommunity(e)}return this._platformBridge.joinCommunity(t)}},{key:"share",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.share(e)}return this._platformBridge.share(t)}},{key:"createPost",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.createPost(e)}return this._platformBridge.createPost(t)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Qt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t,e){if("object"!=ne(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ne(e)?e:String(e)}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ae(t,e)}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}const ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ue(n);if(o){var r=ue(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&oe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fe(n.key),n)}}function fe(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:String(e)}function pe(t,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pe(t,e)}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}const he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ye(n);if(o){var r=ye(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.setScore(e)}return this._platformBridge.setLeaderboardScore(t)}},{key:"getScore",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getScore(e)}return this._platformBridge.getLeaderboardScore(t)}},{key:"getEntries",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.getEntries(e)}return this._platformBridge.getLeaderboardEntries(t)}},{key:"showNativePopup",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.showNativePopup(e)}return this._platformBridge.showLeaderboardNativePopup(t)}}])&&le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ve(n.key),n)}}function ve(t){var e=function(t,e){if("object"!=de(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==de(e)?e:String(e)}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}const ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=be(n);if(o){var r=be(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isPaymentsSupported}},{key:"purchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.purchase(e)}return this._platformBridge.purchase(t)}},{key:"getPurchases",value:function(){return this._platformBridge.getPaymentsPurchases()}},{key:"getCatalog",value:function(){return this._platformBridge.getPaymentsCatalog()}},{key:"consumePurchase",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.consumePurchase(e)}return this._platformBridge.consumePurchase(t)}}])&&me(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,we(n.key),n)}}function we(t){var e=function(t,e){if("object"!=Se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Se(e)?e:String(e)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}function Oe(t){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oe(t)}const Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Oe(n);if(o){var r=Oe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isRemoteConfigSupported}},{key:"get",value:function(t){if(t){var e=t[this._platformBridge.platformId];if(e)return this.get(e)}return this._platformBridge.getRemoteConfig(t)}}])&&Ee(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function Te(t){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(t)}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,De(n.key),n)}}function De(t){var e=function(t,e){if("object"!=Te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Te(e)?e:String(e)}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ie(t,e)}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}const je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Re(n);if(o){var r=Re(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return e=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isClipboardSupported}},{key:"read",value:function(){return this._platformBridge.clipboardRead()}},{key:"write",value:function(t){return this._platformBridge.clipboardWrite(t)}}])&&ke(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ge(n.key),n)}}function Ce(t,e,r){return(e=Ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ge(t){var e=function(t,e){if("object"!=Le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Le(e)?e:String(e)}function Me(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Fe=new WeakMap,xe=function(){function t(e){var r,n,o,u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(this,"_isInitialized",!1),Ce(this,"_platformSdk",null),Ce(this,"_isPlayerAuthorized",!1),Ce(this,"_playerId",null),Ce(this,"_playerName",null),Ce(this,"_playerPhotos",[]),Ce(this,"_visibilityState",null),Ce(this,"_localStorage",null),Ce(this,"_defaultStorageType",l.LOCAL_STORAGE),Ce(this,"_platformStorageCachedData",null),Ce(this,"_isBannerSupported",!1),Ce(this,"_interstitialState",null),Ce(this,"_rewardedState",null),Ce(this,"_bannerState",null),o={writable:!0,value:{}},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,n=Fe),n.set(r,o);try{this._localStorage=window.localStorage}catch(t){}this._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,document.addEventListener("visibilitychange",(function(){u._visibilityState="visible"===document.visibilityState?a.VISIBLE:a.HIDDEN,u.emit(i.VISIBILITY_STATE_CHANGED,u._visibilityState)})),e&&(this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach((function(e){Ce(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},e))}var e,r;return e=t,(r=[{key:"platformId",get:function(){return n.MOCK}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var t=navigator.language;return"string"==typeof t?t.substring(0,2).toLowerCase():"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"platformTld",get:function(){return null}},{key:"visibilityState",get:function(){return this._visibilityState}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"defaultStorageType",get:function(){return this._defaultStorageType}},{key:"isBannerSupported",get:function(){return this._isBannerSupported}},{key:"bannerState",get:function(){return this._bannerState}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"isExternalLinksAllowed",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var t=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(t))return f.MOBILE;if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(t))return f.TABLET}return f.DESKTOP}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"isPaymentsSupported",get:function(){return!1}},{key:"isRemoteConfigSupported",get:function(){return!1}},{key:"isClipboardSupported",get:function(){return!0}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"sendMessage",value:function(){return Promise.resolve()}},{key:"authorizePlayer",value:function(){return Promise.reject()}},{key:"isStorageSupported",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"isStorageAvailable",value:function(t){return t===l.LOCAL_STORAGE&&null!==this._localStorage}},{key:"getDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this._getDataFromLocalStorage(t[n]));return Promise.resolve(r)}var o=this._getDataFromLocalStorage(t);return Promise.resolve(o)}return Promise.reject(d)}return Promise.reject(d)}},{key:"setDataToStorage",value:function(t,e,r){if(r===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var n=0;n<t.length;n++)this._setDataToLocalStorage(t[n],e[n]);return Promise.resolve()}return this._setDataToLocalStorage(t,e),Promise.resolve()}return Promise.reject(d)}return Promise.reject(d)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.LOCAL_STORAGE){if(this._localStorage){if(Array.isArray(t)){for(var r=0;r<t.length;r++)this._deleteDataFromLocalStorage(t[r]);return Promise.resolve()}return this._deleteDataFromLocalStorage(t),Promise.resolve()}return Promise.reject(d)}return Promise.reject(d)}},{key:"showBanner",value:function(){this._setBannerState(s.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(s.HIDDEN)}},{key:"showInterstitial",value:function(){this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){this._setRewardedState(c.FAILED)}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardScore",value:function(){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(){return Promise.reject()}},{key:"purchase",value:function(){return Promise.reject()}},{key:"getPaymentsPurchases",value:function(){return Promise.reject()}},{key:"getPaymentsCatalog",value:function(){return Promise.reject()}},{key:"consumePurchase",value:function(){return Promise.reject()}},{key:"getRemoteConfig",value:function(){return Promise.reject()}},{key:"clipboardRead",value:function(){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.readText():Promise.reject()}},{key:"clipboardWrite",value:function(t){return window.navigator&&window.navigator.clipboard?window.navigator.clipboard.writeText(t):Promise.reject()}},{key:"_getDataFromLocalStorage",value:function(t){var e=this._localStorage.getItem(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},{key:"_setDataToLocalStorage",value:function(t,e){this._localStorage.setItem(t,"object"===Le(e)?JSON.stringify(e):e)}},{key:"_deleteDataFromLocalStorage",value:function(t){this._localStorage.removeItem(t)}},{key:"_setInterstitialState",value:function(t){this._interstitialState===t&&t!==u.FAILED||(this._interstitialState=t,this.emit(i.INTERSTITIAL_STATE_CHANGED,this._interstitialState))}},{key:"_setRewardedState",value:function(t){this._rewardedState===t&&t!==c.FAILED||(this._rewardedState=t,this.emit(i.REWARDED_STATE_CHANGED,this._rewardedState))}},{key:"_setBannerState",value:function(t){this._bannerState===t&&t!==s.FAILED||(this._bannerState=t,this.emit(i.BANNER_STATE_CHANGED,this._bannerState))}},{key:"_createPromiseDecorator",value:function(t){var e=new T;return Me(this,Fe)[t]=e,e}},{key:"_getPromiseDecorator",value:function(t){return Me(this,Fe)[t]}},{key:"_resolvePromiseDecorator",value:function(t,e){Me(this,Fe)[t]&&(Me(this,Fe)[t].resolve(e),delete Me(this,Fe)[t])}},{key:"_rejectPromiseDecorator",value:function(t,e){Me(this,Fe)[t]&&(Me(this,Fe)[t].reject(e),delete Me(this,Fe)[t])}}])&&Be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();V().mixin(xe.prototype);const We=xe;var He=function(t){return new Promise((function(e){var r=document.createElement("script");r.src=t,r.addEventListener("load",e),document.head.appendChild(r)}))},ze=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length<=0?Promise.resolve():new Promise((function(t){var r=setInterval((function(){for(var n=window,o=0;o<e.length;o++){var i=n[e[o]];if(!i)return;n=i}t(),clearInterval(r)}),100)}))};function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ye(n.key),n)}}function Ye(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ue(e)?e:String(e)}function Ke(){return Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Je(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ke.apply(this,arguments)}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(t){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(t)}function Xe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qe(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function $e(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,tr(t,e,"get"))}function tr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var er=new WeakMap,rr=new WeakSet;function nr(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"result",i=this._getPromiseDecorator(t);return i||(i=this._createPromiseDecorator(t),this._platformSdk.send(e,n).then((function(e){e[o]?r._resolvePromiseDecorator(t):r._rejectPromiseDecorator(t)})).catch((function(e){r._rejectPromiseDecorator(t,e)}))),i.promise}const or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(p,t);var e,r,o,i,a=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Je(o);if(i){var r=Je(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qe(t)}(this,t)});function p(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Xe(e=qe(t=a.call.apply(a,[this].concat(o))),r=rr),r.add(e),function(t,e,r){Xe(t,e),e.set(t,{writable:!0,value:void 0})}(qe(t),er),t}return e=p,(r=[{key:"platformId",get:function(){return n.VK}},{key:"platformLanguage",get:function(){var t=new URL(window.location.href);if(t.searchParams.has("language")){var e=t.searchParams.get("language"),r=0;try{r=parseInt(e,10)}catch(t){r=0}switch(r){case 0:default:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}}return Ke(Je(p.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var t=new URL(window.location.href);return t.searchParams.has("hash")?t.searchParams.get("hash"):Ke(Je(p.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){switch($e(this,er)){case"html5_ios":case"html5_android":case"html5_mobile":return f.MOBILE;case"web":return f.DESKTOP;default:return Ke(Je(p.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return"html5_android"===$e(this,er)}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return this.deviceType===f.MOBILE}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o=this._getPromiseDecorator(y.INITIALIZE);if(!o){o=this._createPromiseDecorator(y.INITIALIZE);var i=new URL(window.location.href);i.searchParams.has("platform")&&(e=this,r=er,n=i.searchParams.get("platform"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(e,tr(e,r,"set"),n)),He("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){ze("vkBridge").then((function(){t._platformSdk=window.vkBridge,t._platformSdk.send("VKWebAppInit").then((function(){t._isBannerSupported=!0,t._platformSdk.send("VKWebAppGetUserInfo").then((function(e){e&&(t._playerId=e.id,t._playerName="".concat(e.first_name," ").concat(e.last_name),e.photo_100&&t._playerPhotos.push(e.photo_100),e.photo_200&&t._playerPhotos.push(e.photo_200),e.photo_max_orig&&t._playerPhotos.push(e.photo_max_orig))})).finally((function(){t._isInitialized=!0,t._defaultStorageType=l.PLATFORM_INTERNAL,t._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))}return o.promise}},{key:"authorizePlayer",value:function(){return Promise.resolve()}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||Ke(Je(p.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL||Ke(Je(p.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){var o=Array.isArray(t)?t:[t];r._platformSdk.send("VKWebAppStorageGet",{keys:o}).then((function(r){if(Array.isArray(t)){var n=[];return o.forEach((function(t){var e=r.keys.findIndex((function(e){return e.key===t}));if(e<0)n.push(null);else if(""!==r.keys[e].value){var o;try{o=JSON.parse(r.keys[e].value)}catch(t){o=r.keys[e].value}n.push(o)}else n.push(null)})),void e(n)}if(""!==r.keys[0].value){var i;try{i=JSON.parse(r.keys[0].value)}catch(t){i=r.keys[0].value}e(i)}else e(null)})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?n(t.error_data.error_reason):n()}))})):Ke(Je(p.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;if(r===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a={key:t[i],value:e[i]};"string"!=typeof e[i]&&(a.value=JSON.stringify(e[i])),o.push(this._platformSdk.send("VKWebAppStorageSet",a))}return Promise.all(o)}var u={key:t,value:e};return"string"!=typeof e&&(u.value=JSON.stringify(e)),new Promise((function(t,e){n._platformSdk.send("VKWebAppStorageSet",u).then((function(){t()})).catch((function(t){t&&t.error_data&&t.error_data.error_reason?e(t.error_data.error_reason):e()}))}))}return Ke(Je(p.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){if(e===l.PLATFORM_INTERNAL){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)r.push(this.setDataToStorage(t[n],"",e));return Promise.all(r)}return this.setDataToStorage(t,"",e)}return Ke(Je(p.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(t){var e=this,r="bottom",n="resize",o=!1;t&&("string"==typeof t.position&&(r=t.position),"string"==typeof t.layoutType&&(n=t.layoutType),"boolean"==typeof t.canClose&&(o=t.canClose)),this._platformSdk.send("VKWebAppShowBannerAd",{banner_location:r,layout_type:n,can_close:o}).then((function(t){t.result?e._setBannerState(s.SHOWN):e._setBannerState(s.FAILED)})).catch((function(){e._setBannerState(s.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.send("VKWebAppHideBannerAd").then((function(e){e.result&&t._setBannerState(s.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((function(e){e.result&&t._setInterstitialState(u.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(e){t._setInterstitialState(e.result?u.CLOSED:u.FAILED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}))}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.send("VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result&&t._setRewardedState(c.OPENED)})).finally((function(){t._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(e){e.result?(t._setRewardedState(c.REWARDED),t._setRewardedState(c.CLOSED)):t._setRewardedState(c.FAILED)})).catch((function(){t._setRewardedState(c.FAILED)}))}))}},{key:"inviteFriends",value:function(){return Qe(this,rr,nr).call(this,y.INVITE_FRIENDS,"VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(t){if(!t||!t.groupId)return Promise.reject();var e=t.groupId;return"string"==typeof e&&(e=parseInt(e,10),Number.isNaN(e))?Promise.reject():Qe(this,rr,nr).call(this,y.JOIN_COMMUNITY,"VKWebAppJoinGroup",{group_id:e}).then((function(){window.open("https://vk.com/public".concat(e))}))}},{key:"share",value:function(t){var e={};return t&&t.link&&(e.link=t.link),Qe(this,rr,nr).call(this,y.SHARE,"VKWebAppShare",e,"type")}},{key:"createPost",value:function(t){var e={};return t&&t.message&&(e.message=t.message),t&&t.attachments&&(e.attachments=t.attachments),Qe(this,rr,nr).call(this,y.CREATE_POST,"VKWebAppShowWallPostBox",e,"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?Qe(this,rr,nr).call(this,y.ADD_TO_HOME_SCREEN,"VKWebAppAddToHomeScreen"):Promise.reject()}},{key:"addToFavorites",value:function(){return Qe(this,rr,nr).call(this,y.ADD_TO_FAVORITES,"VKWebAppAddToFavorites")}},{key:"showLeaderboardNativePopup",value:function(t){if(!this.isLeaderboardNativePopupSupported)return Promise.reject();if(!t||!t.userResult)return Promise.reject();var e={user_result:t.userResult};return"boolean"==typeof t.global&&(e.global=t.global?1:0),Qe(this,rr,nr).call(this,y.SHOW_LEADERBOARD_NATIVE_POPUP,"VKWebAppShowLeaderBoardBox",e)}},{key:"clipboardWrite",value:function(t){return Qe(this,rr,nr).call(this,y.CLIPBOARD_WRITE,"VKWebAppCopyText",{text:t})}}])&&Ve(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(We);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=sr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sr(n.key),n)}}function sr(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ir(e)?e:String(e)}function lr(){return lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},lr.apply(this,arguments)}function fr(t,e){return fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fr(t,e)}function pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(t)}function hr(t,e,r){dr(t,e),e.set(t,r)}function dr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mr(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,br(t,e,"set"),r),r}function vr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function _r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,br(t,e,"get"))}function br(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var gr=new WeakMap,Sr=new WeakMap,Er=new WeakMap,wr=new WeakMap,Pr=new WeakSet;function Or(t){var e=this;return new Promise((function(r){var n={scopes:!1};t&&"boolean"==typeof t.scopes&&(n.scopes=t.scopes),e._platformSdk.getPlayer(n).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode(),e._defaultStorageType=e._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE;var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var n=t.getPhoto("small"),o=t.getPhoto("medium"),i=t.getPhoto("large");n&&e._playerPhotos.push(n),o&&e._playerPhotos.push(o),i&&e._playerPhotos.push(i),mr(e,Sr,t)})).finally((function(){r()}))}))}const Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fr(t,e)}(h,t);var e,r,o,i,a=(o=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yr(o);if(i){var r=yr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}(this,t)});function h(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return dr(e=pr(t=a.call.apply(a,[this].concat(o))),r=Pr),r.add(e),hr(pr(t),gr,{writable:!0,value:!1}),hr(pr(t),Sr,{writable:!0,value:null}),hr(pr(t),Er,{writable:!0,value:null}),hr(pr(t),wr,{writable:!0,value:null}),t}return e=h,(r=[{key:"platformId",get:function(){return n.YANDEX}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang.toLowerCase():lr(yr(h.prototype),"platformLanguage",this)}},{key:"platformTld",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.tld.toLowerCase():lr(yr(h.prototype),"platformTld",this)}},{key:"deviceType",get:function(){switch(this._platformSdk&&this._platformSdk.deviceInfo.type){case f.DESKTOP:return f.DESKTOP;case f.MOBILE:return f.MOBILE;case f.TABLET:return f.TABLET;case f.TV:return f.TV;default:return lr(yr(h.prototype),"deviceType",this)}}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return _r(this,gr)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"isPaymentsSupported",get:function(){return!0}},{key:"isRemoteConfigSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);return e||(e=this._createPromiseDecorator(y.INITIALIZE),He("https://yandex.ru/games/sdk/v2").then((function(){ze("YaGames","init").then((function(){window.YaGames.init().then((function(e){var r;t._platformSdk=e;var n=vr(t,Pr,Or).call(t),o=null===(r=t._platformSdk.features.PluginEngineDataReporterAPI)||void 0===r?void 0:r.report({engineName:"",engineVersion:"",pluginName:"instant-games-bridge",pluginVersion:"1.12.0"}),i=t._platformSdk.getStorage().then((function(e){t._localStorage=e})),a=t._platformSdk.shortcut.canShowPrompt().then((function(e){mr(t,gr,e.canShow)})),u=new Promise((function(t){setTimeout(t,1e3)})),c=Promise.race([a,u]),l=t._platformSdk.getLeaderboards().then((function(e){mr(t,Er,e)})),f=t._platformSdk.getPayments().then((function(e){mr(t,wr,e)}));t._isBannerSupported=!0;var p=t._platformSdk.adv.getBannerAdvStatus().then((function(e){e.stickyAdvIsShowing&&t._setBannerState(s.SHOWN)}));Promise.all([n,i,c,l,p,f,o]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),e.promise}},{key:"sendMessage",value:function(t){var e;return t===p.GAME_READY?(null===(e=this._platformSdk.features.LoadingAPI)||void 0===e||e.ready(),Promise.resolve()):lr(yr(h.prototype),"sendMessage",this).call(this,t)}},{key:"authorizePlayer",value:function(t){var e=this,r=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return r||(r=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._isPlayerAuthorized?vr(this,Pr,Or).call(this,t).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)})):this._platformSdk.auth.openAuthDialog().then((function(){vr(e,Pr,Or).call(e,t).then((function(){e._resolvePromiseDecorator(y.AUTHORIZE_PLAYER)}))})).catch((function(t){e._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t)}))),r.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||lr(yr(h.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:lr(yr(h.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else _r(r,Sr)?_r(r,Sr).getData().then((function(n){if(r._platformStorageCachedData=n,Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}e(o)}else e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])})).catch((function(t){n(t)})):n()})):lr(yr(h.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(_r(n,Sr)){var i=null!==n._platformStorageCachedData?ur({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;_r(n,Sr).setData(i).then((function(){n._platformStorageCachedData=i,r()})).catch((function(t){o(t)}))}else o()})):lr(yr(h.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(_r(r,Sr)){var o=null!==r._platformStorageCachedData?ur({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];_r(r,Sr).setData(o).then((function(){r._platformStorageCachedData=o,e()})).catch((function(t){n(t)}))}else n()})):lr(yr(h.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showBanner",value:function(){var t=this;this._platformSdk.adv.showBannerAdv().then((function(e){e.stickyAdvIsShowing?t._setBannerState(s.SHOWN):t._setBannerState(s.FAILED)})).catch((function(){t._setBannerState(s.FAILED)}))}},{key:"hideBanner",value:function(){var t=this;this._platformSdk.adv.hideBannerAdv().then((function(e){e.stickyAdvIsShowing||t._setBannerState(s.HIDDEN)}))}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._setInterstitialState(u.OPENED)},onClose:function(e){e?t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)},onError:function(t){console.error(t)}}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._setRewardedState(c.OPENED)},onRewarded:function(){t._setRewardedState(c.REWARDED)},onClose:function(){t._setRewardedState(c.CLOSED)},onError:function(){t._setRewardedState(c.FAILED)}}})}},{key:"addToHomeScreen",value:function(){var t=this;if(!this.isAddToHomeScreenSupported)return Promise.reject();var e=this._getPromiseDecorator(y.ADD_TO_HOME_SCREEN);return e||(e=this._createPromiseDecorator(y.ADD_TO_HOME_SCREEN),this._platformSdk.shortcut.showPrompt().then((function(e){"accepted"!==e.outcome?t._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN):t._resolvePromiseDecorator(y.ADD_TO_HOME_SCREEN)})).catch((function(e){t._rejectPromiseDecorator(y.ADD_TO_HOME_SCREEN,e)}))),e.promise}},{key:"rate",value:function(){var t=this,e=this._getPromiseDecorator(y.RATE);return e||(e=this._createPromiseDecorator(y.RATE),this._platformSdk.feedback.canReview().then((function(e){e.value?t._platformSdk.feedback.requestReview().then((function(e){e.feedbackSent?t._resolvePromiseDecorator(y.RATE):t._rejectPromiseDecorator(y.RATE)})).catch((function(e){t._rejectPromiseDecorator(y.RATE,e)})):t._rejectPromiseDecorator(y.RATE,e.reason)})).catch((function(e){t._rejectPromiseDecorator(y.RATE,e)}))),e.promise}},{key:"setLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!(_r(this,Er)&&t&&t.score&&t.leaderboardName))return Promise.reject();var r=this._getPromiseDecorator(y.SET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(y.SET_LEADERBOARD_SCORE),"string"==typeof t.score&&(t.score=parseInt(t.score,10)),_r(this,Er).setLeaderboardScore(t.leaderboardName,t.score).then((function(){e._resolvePromiseDecorator(y.SET_LEADERBOARD_SCORE)})).catch((function(t){e._rejectPromiseDecorator(y.SET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardScore",value:function(t){var e=this;if(!this._isPlayerAuthorized)return Promise.reject();if(!_r(this,Er)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(y.GET_LEADERBOARD_SCORE);return r||(r=this._createPromiseDecorator(y.GET_LEADERBOARD_SCORE),_r(this,Er).getLeaderboardPlayerEntry(t.leaderboardName).then((function(t){e._resolvePromiseDecorator(y.GET_LEADERBOARD_SCORE,t.score)})).catch((function(t){e._rejectPromiseDecorator(y.GET_LEADERBOARD_SCORE,t)}))),r.promise}},{key:"getLeaderboardEntries",value:function(t){var e=this;if(!_r(this,Er)||!t||!t.leaderboardName)return Promise.reject();var r=this._getPromiseDecorator(y.GET_LEADERBOARD_ENTRIES);if(!r){r=this._createPromiseDecorator(y.GET_LEADERBOARD_ENTRIES);var n={includeUser:!1,quantityAround:5,quantityTop:5};"boolean"==typeof t.includeUser&&(n.includeUser=t.includeUser),"string"==typeof t.quantityAround&&(t.quantityAround=parseInt(t.quantityAround,10)),"number"==typeof t.quantityAround&&(n.quantityAround=t.quantityAround),"string"==typeof t.quantityTop&&(t.quantityTop=parseInt(t.quantityTop,10)),"number"==typeof t.quantityTop&&(n.quantityTop=t.quantityTop),_r(this,Er).getLeaderboardEntries(t.leaderboardName,n).then((function(t){var r=null;t&&t.entries.length>0&&(r=t.entries.map((function(t){var e=[],r=t.player.getAvatarSrc("small"),n=t.player.getAvatarSrc("medium"),o=t.player.getAvatarSrc("large");return r&&e.push(r),n&&e.push(n),o&&e.push(o),{id:t.player.uniqueID,score:t.score,rank:t.rank,name:t.player.publicName,photos:e}}))),e._resolvePromiseDecorator(y.GET_LEADERBOARD_ENTRIES,r)})).catch((function(t){e._rejectPromiseDecorator(y.GET_LEADERBOARD_ENTRIES,t)}))}return r.promise}},{key:"purchase",value:function(t){var e=this;if(!_r(this,wr)||!t)return Promise.reject();var r=this._getPromiseDecorator(y.PURCHASE);return r||(r=this._createPromiseDecorator(y.PURCHASE),_r(this,wr).purchase({id:t}).then((function(t){e._resolvePromiseDecorator(y.PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(y.PURCHASE,t)}))),r.promise}},{key:"getPaymentsPurchases",value:function(){var t=this;if(!_r(this,wr))return Promise.reject();var e=this._getPromiseDecorator(y.GET_PURCHASES);return e||(e=this._createPromiseDecorator(y.GET_PURCHASES),_r(this,wr).getPurchases().then((function(e){t._resolvePromiseDecorator(y.GET_PURCHASES,e)})).catch((function(e){t._rejectPromiseDecorator(y.GET_PURCHASES,e)}))),e.promise}},{key:"getPaymentsCatalog",value:function(){var t=this;if(!_r(this,wr))return Promise.reject();var e=this._getPromiseDecorator(y.GET_CATALOG);return e||(e=this._createPromiseDecorator(y.GET_CATALOG),_r(this,wr).getCatalog().then((function(e){t._resolvePromiseDecorator(y.GET_CATALOG,e)})).catch((function(e){t._rejectPromiseDecorator(y.GET_CATALOG,e)}))),e.promise}},{key:"consumePurchase",value:function(t){var e=this;if(!_r(this,wr)||!t)return Promise.reject();var r=this._getPromiseDecorator(y.CONSUME_PURCHASE);return r||(r=this._createPromiseDecorator(y.CONSUME_PURCHASE),_r(this,wr).consumePurchase(t).then((function(t){e._resolvePromiseDecorator(y.CONSUME_PURCHASE,t)})).catch((function(t){e._rejectPromiseDecorator(y.CONSUME_PURCHASE,t)}))),r.promise}},{key:"getRemoteConfig",value:function(t){var e=this;if(!this._platformSdk)return Promise.reject();if(t&&(null==t||!t.defaultFlags)&&(null==t||!t.clientFeatures))return Promise.reject();var r=this._getPromiseDecorator(y.GET_REMOTE_CONFIG);return r||(r=this._createPromiseDecorator(y.GET_REMOTE_CONFIG),(t?this._platformSdk.getFlags(t):this._platformSdk.getFlags()).then((function(t){e._resolvePromiseDecorator(y.GET_REMOTE_CONFIG,t)})).catch((function(t){e._rejectPromiseDecorator(y.GET_REMOTE_CONFIG,t)}))),r.promise}},{key:"clipboardWrite",value:function(t){var e=this,r=this._getPromiseDecorator(y.CLIPBOARD_WRITE);return r||(r=this._createPromiseDecorator(y.CLIPBOARD_WRITE),this._platformSdk.clipboard.writeText(t).then((function(){e._resolvePromiseDecorator(y.CLIPBOARD_WRITE,!0)})).catch((function(t){e._rejectPromiseDecorator(y.CLIPBOARD_WRITE,t)}))),r.promise}}])&&cr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(We);function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function kr(){kr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),u=new I(n||[]);return o(a,"_invoke",{value:A(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",y="suspendedYield",h="executing",d="completed",m={};function v(){}function _(){}function b(){}var g={};s(g,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==r&&n.call(E,a)&&(g=E);var w=b.prototype=v.prototype=Object.create(g);function P(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,i,a,u){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Tr(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function A(e,r,n){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:y,s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Tr(e)+" is not iterable")}return _.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:_,configurable:!0}),_.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},P(O.prototype),s(O.prototype,u,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(w),s(w,c,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Dr(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Ir(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dr(i,n,o,a,u,"next",t)}function u(t){Dr(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jr(n.key),n)}}function jr(t){var e=function(t,e){if("object"!=Tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tr(e)?e:String(e)}function Lr(){return Lr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Lr.apply(this,arguments)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}function Br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cr(t){return Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cr(t)}function Gr(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Mr(t,e,"get"))}function Mr(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Fr=new WeakMap;const xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(d,t);var e,r,o,i,a,h=(i=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cr(i);if(a){var r=Cr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Br(t)}(this,t)});function d(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=Br(t=h.call.apply(h,[this].concat(i))),n={writable:!0,value:null},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=Fr),r.set(e,n),t}return e=d,r=[{key:"platformId",get:function(){return n.CRAZY_GAMES}},{key:"platformLanguage",get:function(){return Gr(this,Fr)?Gr(this,Fr).countryCode.toLowerCase():Lr(Cr(d.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){if(Gr(this,Fr)){var t=Gr(this,Fr).device.type.toLowerCase();if([f.DESKTOP,f.MOBILE,f.TABLET].includes(t))return t}return Lr(Cr(d.prototype),"deviceType",this)}},{key:"isExternalLinksAllowed",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);return e||(e=this._createPromiseDecorator(y.INITIALIZE),He("https://sdk.crazygames.com/crazygames-sdk-v3.js").then((function(){ze("CrazyGames","SDK").then(Ir(kr().mark((function e(){var r;return kr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.CrazyGames.SDK.init();case 3:t._platformSdk=window.CrazyGames.SDK,t._defaultStorageType=l.LOCAL_STORAGE,n=t,o=Fr,i=null===(r=t._platformSdk)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.systemInfo,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(n,Mr(n,o,"set"),i),t._isBannerSupported=!0,t._resolvePromiseDecorator(y.INITIALIZE),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t._rejectPromiseDecorator(y.INITIALIZE);case 13:case"end":return e.stop()}var n,o,i}),e,null,[[0,10]])}))))}))),e.promise}},{key:"sendMessage",value:function(t){switch(t){case p.IN_GAME_LOADING_STARTED:return this._platformSdk.game.loadingStart(),Promise.resolve();case p.IN_GAME_LOADING_STOPPED:return this._platformSdk.game.loadingStop(),Promise.resolve();case p.GAMEPLAY_STARTED:return this._platformSdk.game.gameplayStart(),Promise.resolve();case p.GAMEPLAY_STOPPED:return this._platformSdk.game.gameplayStop(),Promise.resolve();case p.PLAYER_GOT_ACHIEVEMENT:return this._platformSdk.game.happytime(),Promise.resolve();default:return Lr(Cr(d.prototype),"sendMessage",this).call(this,t)}}},{key:"showBanner",value:(o=Ir(kr().mark((function t(e){return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.containerId||"string"!=typeof e.containerId){t.next=12;break}return t.prev=1,t.next=4,this._platformSdk.banner.requestResponsiveBanner([e.containerId]);case 4:this._setBannerState(s.SHOWN),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),this._setBannerState(s.FAILED);case 10:t.next=13;break;case 12:this._setBannerState(s.FAILED);case 13:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(t){return o.apply(this,arguments)})},{key:"hideBanner",value:function(){this._platformSdk.banner.clearAllBanners(),this._setBannerState(s.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;this._platformSdk.ad.requestAd("midgame",{adStarted:function(){t._setInterstitialState(u.OPENED)},adFinished:function(){t._setInterstitialState(u.CLOSED)},adError:function(){t._setInterstitialState(u.FAILED)}})}},{key:"showRewarded",value:function(){var t=this;this._platformSdk.ad.requestAd("rewarded",{adStarted:function(){t._setRewardedState(c.OPENED)},adFinished:function(){t._setRewardedState(c.REWARDED),t._setRewardedState(c.CLOSED)},adError:function(){t._setRewardedState(c.FAILED)}})}}],r&&Rr(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),d}(We);function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Vr(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vr(n.key),n)}}function Vr(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wr(e)?e:String(e)}function Yr(){return Yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qr(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Yr.apply(this,arguments)}function Kr(t,e){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kr(t,e)}function Zr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qr(t)}var Jr=new WeakSet;function Xr(){var t=this;return this._playerId=this._platformSdk.options.player_id,this._isPlayerAuthorized="false"===this._platformSdk.options.guest,new Promise((function(e){t._platformSdk.getUsers([t._playerId],(function(r){if(r&&1===r.length){var n=r[0];t._playerName=n.full_name,""!==n.avatar&&(t._playerPhotos=[n.avatar])}e()}))}))}const Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}(s,t);var e,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qr(o);if(i){var r=qr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zr(t)}(this,t)});function s(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=Zr(t=a.call.apply(a,[this].concat(o))),r=Jr),r.add(e),t}return e=s,(r=[{key:"platformId",get:function(){return n.ABSOLUTE_GAMES}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e=this._getPromiseDecorator(y.INITIALIZE);return e||(e=this._createPromiseDecorator(y.INITIALIZE),He("https://unpkg.com/@agru/sdk/dist/umd/index.min.js").then((function(){t._platformSdk=new window.AgRuSdk,t._platformSdk.on(window.AgRuSdkMethods.ShowCampaign,(function(e,r){"rewarded"===e.type?null===r?e.status?t._setRewardedState(c.OPENED):(e.reward&&t._setRewardedState(c.REWARDED),t._setRewardedState(c.CLOSED)):t._setRewardedState(c.FAILED):null===r?e.status?t._setInterstitialState(u.OPENED):t._setInterstitialState(u.CLOSED):t._setInterstitialState(u.FAILED)}));var e=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}(t,Jr,Xr).call(t);Promise.all([e]).finally((function(){t._isInitialized=!0,t._defaultStorageType=t._isPlayerAuthorized?l.PLATFORM_INTERNAL:l.LOCAL_STORAGE,t._resolvePromiseDecorator(y.INITIALIZE)}))}))),e.promise}},{key:"authorizePlayer",value:function(){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),this._platformSdk.authorize((function(e,r){null===r?t._resolvePromiseDecorator(y.AUTHORIZE_PLAYER):t._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,r)}))),e.promise}},{key:"isStorageSupported",value:function(t){return t===l.PLATFORM_INTERNAL||Yr(qr(s.prototype),"isStorageSupported",this).call(this,t)}},{key:"isStorageAvailable",value:function(t){return t===l.PLATFORM_INTERNAL?this._isPlayerAuthorized:Yr(qr(s.prototype),"isStorageAvailable",this).call(this,t)}},{key:"getDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._platformStorageCachedData){if(Array.isArray(t)){for(var o=[],i=0;i<t.length;i++){var a=void 0===r._platformStorageCachedData[t[i]]?null:r._platformStorageCachedData[t[i]];o.push(a)}return void e(o)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else r._isPlayerAuthorized?r._platformSdk.getSaveData((function(o,i){if(null===i){if(r._platformStorageCachedData=o||{},Array.isArray(t)){for(var a=[],u=0;u<t.length;u++){var c=void 0===r._platformStorageCachedData[t[u]]?null:r._platformStorageCachedData[t[u]];a.push(c)}return void e(a)}e(void 0===r._platformStorageCachedData[t]?null:r._platformStorageCachedData[t])}else n(i)})):n()})):Yr(qr(s.prototype),"getDataFromStorage",this).call(this,t,e)}},{key:"setDataToStorage",value:function(t,e,r){var n=this;return r===l.PLATFORM_INTERNAL?new Promise((function(r,o){if(n._isPlayerAuthorized){var i=null!==n._platformStorageCachedData?zr({},n._platformStorageCachedData):{};if(Array.isArray(t))for(var a=0;a<t.length;a++)i[t[a]]=e[a];else i[t]=e;n._platformSdk.setSaveData(i,(function(t,e){null===e&&(n._platformStorageCachedData=i,r()),o(e)}))}else o()})):Yr(qr(s.prototype),"setDataToStorage",this).call(this,t,e,r)}},{key:"deleteDataFromStorage",value:function(t,e){var r=this;return e===l.PLATFORM_INTERNAL?new Promise((function(e,n){if(r._isPlayerAuthorized){var o=null!==r._platformStorageCachedData?zr({},r._platformStorageCachedData):{};if(Array.isArray(t))for(var i=0;i<t.length;i++)delete o[t[i]];else delete o[t];r._platformSdk.setSaveData(o,(function(t,i){null===i&&(r._platformStorageCachedData=o,e()),n(i)}))}else n()})):Yr(qr(s.prototype),"deleteDataFromStorage",this).call(this,t,e)}},{key:"showInterstitial",value:function(){this._platformSdk.showCampaign("default")}},{key:"showRewarded",value:function(){this._platformSdk.showCampaign("rewarded")}}])&&Ur(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(We);function $r(t){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(t)}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,en(n.key),n)}}function en(t){var e=function(t,e){if("object"!=$r(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$r(e)?e:String(e)}function rn(t,e){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rn(t,e)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function an(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,cn(t,e,"set"),r),r}function un(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,cn(t,e,"get"))}function cn(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var sn=new WeakMap;const ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e)}(f,t);var e,r,o,i,a=(o=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(o);if(i){var r=on(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}(this,t)});function f(){var t,e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=nn(t=a.call.apply(a,[this].concat(i))),n={writable:!0,value:!1},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,r=sn),r.set(e,n),t}return e=f,(r=[{key:"platformId",get:function(){return n.GAME_DISTRIBUTION}},{key:"initialize",value:function(){if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(y.INITIALIZE);if(!t)if(t=this._createPromiseDecorator(y.INITIALIZE),this._options&&"string"==typeof this._options.gameId){var e=this;window.GD_OPTIONS={gameId:this._options.gameId,onEvent:function(t){switch(t.name){case"SDK_READY":e._platformSdk=window.gdsdk,e._platformSdk.preloadAd("rewarded"),e._isInitialized=!0,e._resolvePromiseDecorator(y.INITIALIZE);break;case"SDK_GAME_START":un(e,sn)?e._setRewardedState(c.CLOSED):e._setInterstitialState(u.CLOSED);break;case"SDK_GAME_PAUSE":un(e,sn)?e._setRewardedState(c.OPENED):e._setInterstitialState(u.OPENED);break;case"SDK_REWARDED_WATCH_COMPLETE":e._setRewardedState(c.REWARDED)}}},this._defaultStorageType=l.LOCAL_STORAGE,this._isBannerSupported=!0,He("https://html5.api.gamedistribution.com/main.min.js")}else this._rejectPromiseDecorator(y.INITIALIZE,m);return t.promise}},{key:"showBanner",value:function(t){var e=this;t&&t.containerId&&"string"==typeof t.containerId?this._platformSdk.showAd("display",{containerId:t.containerId}).then((function(){e._setBannerState(s.SHOWN)})).catch((function(){e._setBannerState(s.FAILED)})):this._setBannerState(s.FAILED)}},{key:"hideBanner",value:function(){this._setBannerState(s.HIDDEN)}},{key:"showInterstitial",value:function(){var t=this;an(this,sn,!1),this._platformSdk?this._platformSdk.showAd().catch((function(){t._setInterstitialState(u.FAILED)})):this._setInterstitialState(u.FAILED)}},{key:"showRewarded",value:function(){var t=this;an(this,sn,!0),this._platformSdk?this._platformSdk.showAd("rewarded").catch((function(){t._setRewardedState(c.FAILED)})):this._setRewardedState(c.FAILED)}}])&&tn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(We);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function pn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bn(n.key),n)}}function yn(t,e){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yn(t,e)}function hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}function mn(t,e){_n(t,e),e.add(t)}function vn(t,e,r){_n(t,e),e.set(t,r)}function _n(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bn(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fn(e)?e:String(e)}function gn(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function Sn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,En(t,e,"get"))}function En(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var wn=new WeakMap,Pn=new WeakMap,On=new WeakSet,An=new WeakSet,Tn=new WeakSet,kn=new WeakSet,Dn=new WeakSet,In=new WeakSet,Rn=new WeakSet,jn=new WeakSet,Ln=new WeakSet;function Nn(){var t=this;return{appid:Sn(this,Pn),userProfileCallback:function(e){return gn(t,On,Bn).call(t,e)},getLoginStatusCallback:function(e){return gn(t,An,Cn).call(t,e)},registerUserCallback:function(e){return gn(t,Tn,Gn).call(t,e)},adsCallback:function(e){return gn(t,kn,Mn).call(t,e)},getGameInventoryItemsCallback:function(e){return gn(t,Dn,Fn).call(t,e)},paymentReceivedCallback:function(e){return gn(t,In,xn).call(t,e)},paymentWindowClosedCallback:function(e){return gn(t,Rn,Wn).call(t,e)}}}function Bn(t){"error"!==t.status?this._resolvePromiseDecorator(y.GET_PROFILE,{_playerId:t.uid,_playerName:t.nick,_playerPhotos:[t.avatar]}):this._rejectPromiseDecorator(y.GET_PROFILE,t.errmsg)}function Cn(t){"error"!==t.status?this._resolvePromiseDecorator(y.GET_LOGIN_STATUS,t):this._rejectPromiseDecorator(y.GET_LOGIN_STATUS,t.errmsg)}function Gn(t){"error"!==t.status?this._resolvePromiseDecorator(y.AUTHORIZE_PLAYER):this._rejectPromiseDecorator(y.AUTHORIZE_PLAYER,t.errmsg)}function Mn(t){"adError"!==t.type?this._resolvePromiseDecorator(y.GET_ADVERTISEMENT):this._rejectPromiseDecorator(y.GET_ADVERTISEMENT,t.code)}function Fn(t){0!==(null==t?void 0:t.length)?this._resolvePromiseDecorator(y.GET_CATALOG,t):this._rejectPromiseDecorator(y.GET_CATALOG)}function xn(t){null!=t&&t.uid?this._resolvePromiseDecorator(y.PURCHASE):this._rejectPromiseDecorator(y.PURCHASE)}function Wn(){this._resolvePromiseDecorator(y.PURCHASE)}function Hn(){var t=this,e=this._getPromiseDecorator(y.GET_PROFILE);return e||(e=this._createPromiseDecorator(y.GET_PROFILE),this._platformSdk.userProfile()),e.promise.then((function(e){var r=e._playerId,n=e._playerName,o=e._playerPhotos;t._playerId=r,t._playerName=n,t._playerPhotos=o}))}function zn(){var t=this,e=this._getPromiseDecorator(y.GET_LOGIN_STATUS);return e||(e=this._createPromiseDecorator(y.GET_LOGIN_STATUS),this._platformSdk.getLoginStatus()),e.promise.then((function(e){t._loginStatus=e.loginStatus,t._isPlayerAuthorized=2===e.loginStatus||3===e.loginStatus}))}const Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yn(t,e)}(s,t);var e,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(o);if(i){var r=dn(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hn(t)}(this,t)});function s(){var t,e,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return mn(hn(t=a.call.apply(a,[this].concat(o))),Ln),mn(hn(t),jn),mn(hn(t),Rn),mn(hn(t),In),mn(hn(t),Dn),mn(hn(t),kn),mn(hn(t),Tn),mn(hn(t),An),mn(hn(t),On),vn(hn(t),wn,{get:Nn,set:void 0}),e=hn(t),0,(r=bn(r="_loginStatus"))in e?Object.defineProperty(e,r,{value:0,enumerable:!0,configurable:!0,writable:!0}):e[r]=0,vn(hn(t),Pn,{writable:!0,value:null}),t}return e=s,(r=[{key:"platformId",get:function(){return n.VK_PLAY}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"initialize",value:function(){var t=this;if(this._isInitialized)return Promise.resolve();var e,r,n,o,i=this._getPromiseDecorator(y.INITIALIZE);return i||(i=this._createPromiseDecorator(y.INITIALIZE),r=this,n=Pn,o=this._options.gameId,function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(r,En(r,n,"set"),o),He((e=Sn(this,Pn),"//vkplay.ru/app/".concat(e,"/static/mailru.core.js"))).then((function(){ze("iframeApi").then((function(){window.iframeApi||t._rejectPromiseDecorator(y.INITIALIZE,"Cannot find iframeApi function"),window.iframeApi(Sn(t,wn)).then((function(e){t._platformSdk=e;var r=gn(t,Ln,zn).call(t),n=gn(t,jn,Hn).call(t);Promise.all([r,n]).finally((function(){t._isInitialized=!0,t._resolvePromiseDecorator(y.INITIALIZE)}))}))}))}))),i.promise}},{key:"getPaymentsCatalog",value:function(){var t=this._getPromiseDecorator(y.GET_CATALOG);return t||(t=this._createPromiseDecorator(y.GET_CATALOG),this._platformSdk.getGameInventoryItems()),t.promise}},{key:"purchase",value:function(t){if(!t)return Promise.reject();var e=this._getPromiseDecorator(y.PURCHASE);return e||(e=this._createPromiseDecorator(y.PURCHASE),this._platformSdk.paymentFrameItem(t)),e.promise}},{key:"showInterstitial",value:function(){var t=this,e=this._getPromiseDecorator(y.GET_ADVERTISEMENT);e||(e=this._createPromiseDecorator(y.GET_ADVERTISEMENT),this._platformSdk.showAds({interstitial:!0}),this._setInterstitialState(u.OPENED)),e.promise.then((function(){t._setInterstitialState(u.CLOSED)})).catch((function(){t._setInterstitialState(u.FAILED)}))}},{key:"showRewarded",value:function(){var t=this,e=this._getPromiseDecorator(y.GET_ADVERTISEMENT);e||(e=this._createPromiseDecorator(y.GET_ADVERTISEMENT),this._platformSdk.showAds({interstitial:!1}),this._setRewardedState(c.OPENED)),e.promise.then((function(){t._setRewardedState(c.REWARDED),t._setRewardedState(c.CLOSED)})).catch((function(){t._setRewardedState(c.FAILED)}))}},{key:"authorizePlayer",value:function(){var t=this;if(this._isPlayerAuthorized)return Promise.resolve();var e=this._getPromiseDecorator(y.AUTHORIZE_PLAYER);return e||(e=this._createPromiseDecorator(y.AUTHORIZE_PLAYER),0===this._loginStatus&&this._platformSdk.authUser(),1===this._loginStatus&&this._platformSdk.registerUser()),e.promise.then((function(){return t._platformSdk.reloadWindow()}))}}])&&pn(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(We);function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function Yn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zn(n.key),n)}}function Zn(t){var e=function(t,e){if("object"!=Vn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vn(e)?e:String(e)}function qn(t,e){Xn(t,e),e.add(t)}function Jn(t,e,r){Xn(t,e),e.set(t,r)}function Xn(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qn(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,eo(t,e,"set"),r),r}function $n(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function to(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,eo(t,e,"get"))}function eo(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}t=r.hmd(t);var ro=new WeakMap,no=new WeakMap,oo=new WeakMap,io=new WeakMap,ao=new WeakMap,uo=new WeakSet,co=new WeakSet;function so(){var t=n.MOCK;if(this._options&&this._options.forciblySetPlatformId)switch(this._options.forciblySetPlatformId){case n.VK:t=n.VK;break;case n.YANDEX:t=n.YANDEX;break;case n.CRAZY_GAMES:t=n.CRAZY_GAMES;break;case n.ABSOLUTE_GAMES:t=n.ABSOLUTE_GAMES;break;case n.GAME_DISTRIBUTION:t=n.GAME_DISTRIBUTION;break;default:t=n.MOCK}else{var e=new URL(window.location.href),r=["y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(r)||e.hash.includes("yandex")?t=n.YANDEX:e.hostname.includes("crazygames.")||e.hostname.includes("1001juegos.com")?t=n.CRAZY_GAMES:e.hostname.includes("gamedistribution.com")?t=n.GAME_DISTRIBUTION:e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?t=n.VK:e.searchParams.has("app_id")&&e.searchParams.has("player_id")&&e.searchParams.has("game_sid")&&e.searchParams.has("auth_key")?t=n.ABSOLUTE_GAMES:e.hostname.includes("github.io")&&(t=n.VK_PLAY)}switch(t){case n.VK:Qn(this,oo,new or(this._options&&this._options.platforms&&this._options.platforms[n.VK]));break;case n.YANDEX:Qn(this,oo,new Ar(this._options&&this._options.platforms&&this._options.platforms[n.YANDEX]));break;case n.CRAZY_GAMES:Qn(this,oo,new xr(this._options&&this._options.platforms&&this._options.platforms[n.CRAZY_GAMES]));break;case n.ABSOLUTE_GAMES:Qn(this,oo,new Qr(this._options&&this._options.platforms&&this._options.platforms[n.ABSOLUTE_GAMES]));break;case n.GAME_DISTRIBUTION:Qn(this,oo,new ln(this._options&&this._options.platforms&&this._options.platforms[n.GAME_DISTRIBUTION]));break;case n.VK_PLAY:Qn(this,oo,new Un(this._options&&this._options.platforms&&this._options.platforms[n.VK_PLAY]));break;default:Qn(this,oo,new We)}}function lo(t){return to(this,ro)||console.error(h),to(this,ao)[t]?to(this,ao)[t]:to(this,io)[t]}const fo=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qn(this,co),qn(this,uo),Jn(this,ro,{writable:!0,value:!1}),Jn(this,no,{writable:!0,value:null}),Jn(this,oo,{writable:!0,value:null}),Jn(this,io,{writable:!0,value:{}}),Jn(this,ao,{writable:!0,value:{}})}var r,y;return r=e,y=[{key:"version",get:function(){return"1.12.0"}},{key:"isInitialized",get:function(){return to(this,ro)}},{key:"platform",get:function(){return $n(this,co,lo).call(this,o.PLATFORM)}},{key:"player",get:function(){return $n(this,co,lo).call(this,o.PLAYER)}},{key:"game",get:function(){return $n(this,co,lo).call(this,o.GAME)}},{key:"storage",get:function(){return $n(this,co,lo).call(this,o.STORAGE)}},{key:"advertisement",get:function(){return $n(this,co,lo).call(this,o.ADVERTISEMENT)}},{key:"social",get:function(){return $n(this,co,lo).call(this,o.SOCIAL)}},{key:"device",get:function(){return $n(this,co,lo).call(this,o.DEVICE)}},{key:"leaderboard",get:function(){return $n(this,co,lo).call(this,o.LEADERBOARD)}},{key:"payments",get:function(){return $n(this,co,lo).call(this,o.PAYMENTS)}},{key:"remoteConfig",get:function(){return $n(this,co,lo).call(this,o.REMOTE_CONFIG)}},{key:"clipboard",get:function(){return $n(this,co,lo).call(this,o.CLIPBOARD)}},{key:"PLATFORM_ID",get:function(){return n}},{key:"PLATFORM_MESSAGE",get:function(){return p}},{key:"MODULE_NAME",get:function(){return o}},{key:"EVENT_NAME",get:function(){return i}},{key:"INTERSTITIAL_STATE",get:function(){return u}},{key:"REWARDED_STATE",get:function(){return c}},{key:"BANNER_STATE",get:function(){return s}},{key:"STORAGE_TYPE",get:function(){return l}},{key:"VISIBILITY_STATE",get:function(){return a}},{key:"DEVICE_TYPE",get:function(){return f}},{key:"initialize",value:function(t){var e=this;return to(this,ro)?Promise.resolve():(to(this,no)||(Qn(this,no,new T),this._options=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(r),!0).forEach((function(e){var n,o,i;n=t,o=e,i=r[e],(o=Zn(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),$n(this,uo,so).call(this),to(this,oo).initialize().then((function(){to(e,io)[o.PLATFORM]=new G(to(e,oo)),to(e,io)[o.PLAYER]=new z(to(e,oo)),to(e,io)[o.GAME]=new Q(to(e,oo)),to(e,io)[o.STORAGE]=new ut(to(e,oo)),to(e,io)[o.ADVERTISEMENT]=new Jt(to(e,oo)),to(e,io)[o.SOCIAL]=new re(to(e,oo)),to(e,io)[o.DEVICE]=new ce(to(e,oo)),to(e,io)[o.LEADERBOARD]=new he(to(e,oo)),to(e,io)[o.PAYMENTS]=new ge(to(e,oo)),to(e,io)[o.REMOTE_CONFIG]=new Ae(to(e,oo)),to(e,io)[o.CLIPBOARD]=new je(to(e,oo)),Qn(e,ro,!0),console.info("%c InstantGamesBridge v.".concat(e.version," initialized. "),"background: #01A5DA; color: white"),to(e,no)&&(to(e,no).resolve(),Qn(e,no,null))}))),to(this,no).promise)}},{key:"overrideModule",value:function(e,r){"object"===Vn(r)&&(to(this,ao)[e]=r,"function"==typeof r.initialize&&r.initialize(t))}}],y&&Kn(r.prototype,y),Object.defineProperty(r,"prototype",{writable:!1}),e}()},258:t=>{!function(e){t.exports=e;var r="listeners",n={on:function(t,e){return a(this,t).push(e),this},once:function(t,e){var r=this;return n.originalListener=e,a(r,t).push(n),r;function n(){i.call(r,t,n),e.apply(this,arguments)}},off:i,emit:function(t,e){var r=this,n=a(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach((function(t){t.call(r)}));else if(2===o)n.forEach((function(t){t.call(r,e)}));else{var i=Array.prototype.slice.call(arguments,1);n.forEach((function(t){t.apply(r,i)}))}return!!n.length}};function o(t){for(var e in n)t[e]=n[e];return t}function i(t,e){var n,o=this;if(arguments.length){if(e){if(n=a(o,t,!0)){if(!(n=n.filter((function(t){return t!==e&&t.originalListener!==e}))).length)return i.call(o,t);o[r][t]=n}}else if((n=o[r])&&(delete n[t],!Object.keys(n).length))return i.call(o)}else delete o[r];return o}function a(t,e,n){if(!n||t[r]){var o=t[r]||(t[r]={});return o[e]||(o[e]=[])}}o(e.prototype),e.mixin=o}((function t(){if(!(this instanceof t))return new t}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(432);window.bridge=new t.Z,window.instantGamesBridge=window.bridge})()})();