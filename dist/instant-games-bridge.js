(()=>{var e={258:e=>{!function(t){e.exports=t;var n={on:function(e,t){return o(this,e).push(t),this},once:function(e,t){var n=this;return r.originalListener=t,o(n,e).push(r),n;function r(){i.call(n,e,r),t.apply(this,arguments)}},off:i,emit:function(e,t){var n=this,r=o(n,e,!0);if(!r)return!1;var i=arguments.length;if(1===i)r.forEach(u);else if(2===i)r.forEach(l);else{var a=Array.prototype.slice.call(arguments,1);r.forEach(c)}return!!r.length;function u(e){e.call(n)}function l(e){e.call(n,t)}function c(e){e.apply(n,a)}}};function r(e){for(var t in n)e[t]=n[t];return e}function i(e,t){var n,r=this;if(arguments.length){if(t){if(n=o(r,e,!0)){if(!(n=n.filter(a)).length)return i.call(r,e);r.listeners[e]=n}}else if((n=r.listeners)&&(delete n[e],!Object.keys(n).length))return i.call(r)}else delete r.listeners;return r;function a(e){return e!==t&&e.originalListener!==t}}function o(e,t,n){if(!n||e.listeners){var r=e.listeners||(e.listeners={});return r[t]||(r[t]=[])}}r(t.prototype),t.mixin=r}((function e(){if(!(this instanceof e))return new e}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(258),t=n.n(e);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"language",get:function(){var e=navigator.language;return"string"==typeof e?e.substring(0,2):"en"}},{key:"payload",get:function(){return new URL(window.location.href).searchParams.get("payload")}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){l(e,t),t.add(e)}function u(e,t,n){l(e,t),t.set(e,n)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var p="created",w="completed",y=new WeakMap,v=new WeakMap,d=new WeakMap,b=new WeakMap,m=new WeakSet,g=new WeakSet,k=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,g),a(this,m),u(this,y,{writable:!0,value:0}),u(this,v,{writable:!0,value:0}),u(this,d,{writable:!0,value:p}),u(this,b,{writable:!0,value:0}),s(this,y,t)}var t,n;return t=e,(n=[{key:"state",get:function(){return f(this,d)}},{key:"start",value:function(){var e=this;switch(f(this,d)){case p:case w:s(this,v,f(this,y)),c(this,m,O).call(this,"started"),s(this,b,setInterval((function(){s(e,v,f(e,v)-1),e.emit("time_left_changed",f(e,v)),f(e,v)<=0&&(c(e,g,j).call(e),c(e,m,O).call(e,w))}),1e3))}}},{key:"stop",value:function(){c(this,g,j).call(this),c(this,m,O).call(this,"stopped")}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){s(this,d,e),this.emit("state_changed",f(this,d))}function j(){s(this,v,0),clearInterval(f(this,b))}t().mixin(k.prototype);const P=k;function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){W(e,t),t.set(e,n)}function W(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function _(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,R(e,t,"set"),n),n}function M(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,R(e,t,"get"))}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var x="interstitial_state_changed",C="rewarded_state_changed",D="opened",I="closed",z="failed",A="opened",G="closed",B="failed",N="rewarded",J=new WeakMap,L=new WeakMap,V=new WeakMap,K=new WeakSet,U=function(){function e(t){var n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,n=K),n.add(this),E(this,J,{writable:!0,value:void 0}),E(this,L,{writable:!0,value:void 0}),E(this,V,{writable:!0,value:60}),_(this,J,t),M(this,J).on(x,(function(e){return r.emit(x,e)})),M(this,J).on(C,(function(e){return r.emit(C,e)}))}var t,n;return t=e,(n=[{key:"interstitialState",get:function(){return M(this,J).interstitialState}},{key:"rewardedState",get:function(){return M(this,J).rewardedState}},{key:"setMinimumDelayBetweenInterstitial",value:function(e){_(this,V,e),M(this,L)&&(M(this,L).stop(),T(this,K,F).call(this))}},{key:"showInterstitial",value:function(e){var t=!1;return e&&(t=e.ignoreDelay),M(this,L)&&M(this,L).state!==w&&!t?Promise.reject("The minimum delay between interstitials has not passed"):(M(this,V)>0&&T(this,K,F).call(this),M(this,J).showInterstitial())}},{key:"showRewarded",value:function(){return M(this,J).showRewarded()}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(){_(this,L,new P(M(this,V))),M(this,L).start()}t().mixin(U.prototype);const Y=U;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Z(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){re(e,t),t.add(e)}function ne(e,t,n){re(e,t),t.set(e,n)}function re(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ie(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ue(e,t,"set"),n),n}function oe(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function ae(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ue(e,t,"get"))}function ue(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var le="game_data",ce=new WeakMap,se=new WeakMap,fe=new WeakMap,he=new WeakSet,pe=new WeakSet,we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ee(r);if(i){var n=ee(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Z(this,e)});function a(){var e;H(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te($(e=o.call.apply(o,[this].concat(n))),pe),te($(e),he),ne($(e),ce,{writable:!0,value:void 0}),ne($(e),se,{writable:!0,value:void 0}),ne($(e),fe,{writable:!0,value:void 0}),e}return t=a,(n=[{key:"id",get:function(){return"mock"}},{key:"sdk",get:function(){return{}}},{key:"interstitialState",get:function(){return ae(this,ce)}},{key:"rewardedState",get:function(){return ae(this,se)}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"showInterstitial",value:function(){var e=this;return new Promise((function(t){t(),oe(e,he,ye).call(e,D),oe(e,he,ye).call(e,I)}))}},{key:"showRewarded",value:function(){var e=this;return new Promise((function(t){t(),oe(e,pe,ve).call(e,A),oe(e,pe,ve).call(e,N),oe(e,pe,ve).call(e,G)}))}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(n){if(ae(t,fe))void 0===ae(t,fe)[e]?n(null):n(ae(t,fe)[e]);else{try{var r=localStorage.getItem(le);r&&ie(t,fe,JSON.parse(r))}catch(e){}ae(t,fe)&&void 0!==ae(t,fe)[e]?n(ae(t,fe)[e]):n(null)}}))}},{key:"setGameData",value:function(e,t){var n=this;return ae(this,fe)||ie(this,fe,{}),ae(this,fe)[e]=t,new Promise((function(e){try{localStorage.setItem(le,JSON.stringify(ae(n,fe)))}catch(e){}e()}))}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function ye(e){ie(this,ce,e),this.emit(x,ae(this,ce))}function ve(e){ie(this,se,e),this.emit(C,ae(this,se))}t().mixin(we.prototype);const de=we;function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function ge(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Oe(e,t,"set"),n),n}function ke(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Oe(e,t,"get"))}function Oe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var je=new WeakMap,Pe=new WeakMap,Se=new WeakMap;const Ee=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,je,{writable:!0,value:void 0}),me(this,Pe,{writable:!0,value:void 0}),me(this,Se,{writable:!0,value:void 0}),ge(this,je,new Promise((function(e,n){ge(t,Pe,e),ge(t,Se,n)})))}var t,n;return t=e,(n=[{key:"promise",get:function(){return ke(this,je)}},{key:"resolve",value:function(){ke(this,Pe).call(this)}},{key:"reject",value:function(){ke(this,Se).call(this)}}])&&be(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var We=function(e){return new Promise((function(t){var n=document.createElement("script");n.src=e,n.addEventListener("load",t),document.head.appendChild(n)}))};function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(){return Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=xe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Re.apply(this,arguments)}function xe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ce(e,t)}function De(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function Ae(e,t){Be(e,t),t.add(e)}function Ge(e,t,n){Be(e,t),t.set(e,n)}function Be(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ne(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function Je(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ve(e,t,"set"),n),n}function Le(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ve(e,t,"get"))}function Ve(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ke=new WeakMap,Ue=new WeakMap,Fe=new WeakMap,Ye=new WeakMap,qe=new WeakMap,He=new WeakMap,Qe=new WeakMap,Xe=new WeakSet,Ze=new WeakSet,$e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ze(r);if(i){var n=ze(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return De(this,e)});function a(){var e;_e(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ae(Ie(e=o.call.apply(o,[this].concat(n))),Ze),Ae(Ie(e),Xe),Ge(Ie(e),Ke,{writable:!0,value:void 0}),Ge(Ie(e),Ue,{writable:!0,value:void 0}),Ge(Ie(e),Fe,{writable:!0,value:void 0}),Ge(Ie(e),Ye,{writable:!0,value:void 0}),Ge(Ie(e),qe,{writable:!0,value:void 0}),Ge(Ie(e),He,{writable:!0,value:void 0}),Ge(Ie(e),Qe,{writable:!0,value:void 0}),e}return t=a,(n=[{key:"id",get:function(){return"vk"}},{key:"sdk",get:function(){return Le(this,Ke)}},{key:"language",get:function(){var e=new URL(window.location.href);if(e.searchParams.has("language"))switch(e.searchParams.get("language")){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}return Re(ze(a.prototype),"language",this)}},{key:"payload",get:function(){var e=new URL(window.location.href);return e.searchParams.has("hash")?e.searchParams.get("hash"):Re(ze(a.prototype),"payload",this)}},{key:"interstitialState",get:function(){return Le(this,Ye)}},{key:"rewardedState",get:function(){return Le(this,qe)}},{key:"initialize",value:function(){var e=this;return Le(this,Ue)?Promise.resolve():(Le(this,Fe)||(Je(this,Fe,new Ee),We("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){Je(e,Ke,window.vkBridge),Le(e,Ke).send("VKWebAppInit").then((function(){Je(e,Ue,!0),Le(e,Fe)&&(Le(e,Fe).resolve(),Je(e,Fe,null))}))}))),Le(this,Fe).promise)}},{key:"showInterstitial",value:function(){var e=this;return Le(this,He)||(Je(this,He,new Ee),Le(this,Ke).send("VKWebAppShowNativeAds",{ad_format:"preloader"}).then((function(t){t.result?(Le(e,He)&&(Le(e,He).resolve(),Je(e,He,null)),Ne(e,Xe,et).call(e,D),Ne(e,Xe,et).call(e,I)):(Le(e,He)&&(Le(e,He).reject(),Je(e,He,null)),Ne(e,Xe,et).call(e,z))})).catch((function(t){Le(e,He)&&(Le(e,He).reject(t),Je(e,He,null)),Ne(e,Xe,et).call(e,z)}))),Le(this,He).promise}},{key:"showRewarded",value:function(){var e=this;return Le(this,Qe)||(Je(this,Qe,new Ee),Le(this,Ke).send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(t){t.result?(Le(e,Qe)&&(Le(e,Qe).resolve(),Je(e,Qe,null)),Ne(e,Ze,tt).call(e,A),Ne(e,Ze,tt).call(e,N),Ne(e,Ze,tt).call(e,G)):(Le(e,Qe)&&(Le(e,Qe).reject(),Je(e,Qe,null)),Ne(e,Ze,tt).call(e,B))})).catch((function(t){Le(e,Qe)&&(Le(e,Qe).reject(t),Je(e,Qe,null)),Ne(e,Ze,tt).call(e,B)}))),Le(this,Qe).promise}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(n){Le(t,Ke).send("VKWebAppStorageGet",{keys:[e]}).then((function(e){if(""!==e.keys[0].value){var t;try{t=JSON.parse(e.keys[0].value)}catch(n){t=e.keys[0].value}n(t)}else n(null)})).catch((function(){n(null)}))}))}},{key:"setGameData",value:function(e,t){var n=this;return new Promise((function(r){var i={key:e,value:t};"string"!=typeof t&&(i.value=JSON.stringify(t)),Le(n,Ke).send("VKWebAppStorageSet",i).then((function(){r()}))}))}}])&&Me(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function et(e){Le(this,Ye)!==e&&(Je(this,Ye,e),this.emit(x,Le(this,Ye)))}function tt(e){Le(this,qe)!==e&&(Je(this,qe,e),this.emit(C,Le(this,qe)))}t().mixin($e.prototype);const nt=$e;function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(){return at="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ut(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},at.apply(this,arguments)}function ut(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ft(e)););return e}function lt(e,t){return lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lt(e,t)}function ct(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function ht(e,t){wt(e,t),t.add(e)}function pt(e,t,n){wt(e,t),t.set(e,n)}function wt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yt(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function vt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,bt(e,t,"set"),n),n}function dt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bt(e,t,"get"))}function bt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var mt="game_data",gt=new WeakMap,kt=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Pt=new WeakMap,St=new WeakMap,Et=new WeakMap,Wt=new WeakMap,Tt=new WeakMap,_t=new WeakMap,Mt=new WeakSet,Rt=new WeakSet,xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(r);if(i){var n=ft(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ct(this,e)});function a(){var e;it(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(st(e=o.call.apply(o,[this].concat(n))),Rt),ht(st(e),Mt),pt(st(e),gt,{writable:!0,value:void 0}),pt(st(e),kt,{writable:!0,value:void 0}),pt(st(e),Ot,{writable:!0,value:void 0}),pt(st(e),jt,{writable:!0,value:void 0}),pt(st(e),Pt,{writable:!0,value:void 0}),pt(st(e),St,{writable:!0,value:void 0}),pt(st(e),Et,{writable:!0,value:void 0}),pt(st(e),Wt,{writable:!0,value:void 0}),pt(st(e),Tt,{writable:!0,value:void 0}),pt(st(e),_t,{writable:!0,value:void 0}),e}return t=a,(n=[{key:"id",get:function(){return"yandex"}},{key:"sdk",get:function(){return dt(this,gt)}},{key:"language",get:function(){return dt(this,gt)?dt(this,gt).environment.i18n.lang:at(ft(a.prototype),"language",this)}},{key:"interstitialState",get:function(){return dt(this,jt)}},{key:"rewardedState",get:function(){return dt(this,Pt)}},{key:"initialize",value:function(){var e=this;return dt(this,kt)?Promise.resolve():(dt(this,Ot)||(vt(this,Ot,new Ee),We("https://yandex.ru/games/sdk/v2").then((function(){window.YaGames.init().then((function(t){vt(e,gt,t),dt(e,gt).getPlayer({scopes:!1}).then((function(t){vt(e,Wt,t),vt(e,kt,!0),dt(e,Ot)&&(dt(e,Ot).resolve(),vt(e,Ot,null))})).catch((function(t){dt(e,gt).getStorage().then((function(t){vt(e,Tt,t),vt(e,kt,!0),dt(e,Ot)&&(dt(e,Ot).resolve(),vt(e,Ot,null))}))}))}))}))),dt(this,Ot).promise)}},{key:"showInterstitial",value:function(){var e=this;return dt(this,jt)===D?Promise.reject():(dt(this,St)||(vt(this,St,new Ee),dt(this,gt).adv.showFullscreenAdv({callbacks:{onOpen:function(){dt(e,St)&&(dt(e,St).resolve(),vt(e,St,null)),yt(e,Mt,Ct).call(e,D)},onClose:function(t){t?yt(e,Mt,Ct).call(e,I):(dt(e,St)&&(dt(e,St).reject(),vt(e,St,null)),yt(e,Mt,Ct).call(e,z))}}})),dt(this,St).promise)}},{key:"showRewarded",value:function(){var e=this;return dt(this,Pt)===A||dt(this,Pt)===N?Promise.reject():(dt(this,Et)||(vt(this,Et,new Ee),dt(this,gt).adv.showRewardedVideo({callbacks:{onOpen:function(){dt(e,Et)&&(dt(e,Et).resolve(),vt(e,Et,null)),yt(e,Rt,Dt).call(e,A)},onRewarded:function(){yt(e,Rt,Dt).call(e,N)},onClose:function(){yt(e,Rt,Dt).call(e,G)},onError:function(t){dt(e,Et)&&(dt(e,Et).reject(t),vt(e,Et,null)),yt(e,Rt,Dt).call(e,B)}}})),dt(this,Et).promise)}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(n){if(dt(t,_t))void 0===dt(t,_t)[e]?n(null):n(dt(t,_t)[e]);else if(dt(t,Wt))dt(t,Wt).getData().then((function(r){vt(t,_t,r),void 0===dt(t,_t)[e]?n(null):n(dt(t,_t)[e])})).catch((function(){n(null)}));else{if(dt(t,Tt)){var r=dt(t,Tt).getItem(mt);r&&vt(t,_t,JSON.parse(r))}else try{var i=localStorage.getItem(mt);i&&vt(t,_t,JSON.parse(i))}catch(e){}void 0===dt(t,_t)[e]?n(null):n(dt(t,_t)[e])}}))}},{key:"setGameData",value:function(e,t){var n=this;return dt(this,_t)||vt(this,_t,{}),dt(this,_t)[e]=t,new Promise((function(e){if(dt(n,Wt))dt(n,Wt).setData(dt(n,_t)).then((function(){e()}));else if(dt(n,Tt))dt(n,Tt).setItem(mt,JSON.stringify(dt(n,_t))),e();else{try{localStorage.setItem(mt,JSON.stringify(dt(n,_t)))}catch(e){}e()}}))}}])&&ot(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function Ct(e){dt(this,jt)!==e&&(vt(this,jt,e),this.emit(x,dt(this,jt)))}function Dt(e){dt(this,Pt)!==e&&(vt(this,Pt,e),this.emit(C,dt(this,Pt)))}t().mixin(xt.prototype);const It=xt;function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Gt(e,t,"get"))}function Gt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Bt=new WeakMap;const Nt=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i={writable:!0,value:void 0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=Bt),r.set(n,i),function(e,t,n){(function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}})(e,Gt(e,t,"set"),n)}(this,Bt,t)}var t,n;return t=e,(n=[{key:"getData",value:function(e){return At(this,Bt).getGameData(e)}},{key:"setData",value:function(e,t){return At(this,Bt).setGameData(e,t)}}])&&zt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){Vt(e,t),t.set(e,n)}function Vt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ft(e,t,"set"),n),n}function Ut(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ft(e,t,"get"))}function Ft(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Yt=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Qt=new WeakMap,Xt=new WeakSet;function Zt(){var e=new URL(window.location.href),t=["g","a","m","e","s",".","s","3",".","y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(t)?Kt(this,qt,new It):e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?Kt(this,qt,new nt):Kt(this,qt,new de)}const $t=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vt(this,t=Xt),t.add(this),Lt(this,Yt,{writable:!0,value:!1}),Lt(this,qt,{writable:!0,value:void 0}),Lt(this,Ht,{writable:!0,value:void 0}),Lt(this,Qt,{writable:!0,value:void 0})}var t,n;return t=e,(n=[{key:"version",get:function(){return"1.1.1"}},{key:"isInitialized",get:function(){return Ut(this,Yt)}},{key:"platform",get:function(){return Ut(this,qt)}},{key:"advertisement",get:function(){return Ut(this,Ht)}},{key:"game",get:function(){return Ut(this,Qt)}},{key:"initialize",value:function(){var e=this;return Ut(this,Yt)?Promise.resolve():new Promise((function(t){(function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n})(e,Xt,Zt).call(e),Ut(e,qt).initialize().then((function(){Kt(e,Ht,new Y(Ut(e,qt))),Kt(e,Qt,new Nt(Ut(e,qt))),Kt(e,Yt,!0),console.log("%c InstantGamesBridge v."+e.version+" initialized. ","background: #01A5DA; color: white"),t()}))}))}}])&&Jt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.instantGamesBridge=new $t})()})();