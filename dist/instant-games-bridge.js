(()=>{var e={258:e=>{!function(t){e.exports=t;var r={on:function(e,t){return i(this,e).push(t),this},once:function(e,t){var r=this;return o.originalListener=t,i(r,e).push(o),r;function o(){n.call(r,e,o),t.apply(this,arguments)}},off:n,emit:function(e,t){var r=this,o=i(r,e,!0);if(!o)return!1;var n=arguments.length;if(1===n)o.forEach(u);else if(2===n)o.forEach(c);else{var a=Array.prototype.slice.call(arguments,1);o.forEach(s)}return!!o.length;function u(e){e.call(r)}function c(e){e.call(r,t)}function s(e){e.apply(r,a)}}};function o(e){for(var t in r)e[t]=r[t];return e}function n(e,t){var r,o=this;if(arguments.length){if(t){if(r=i(o,e,!0)){if(!(r=r.filter(a)).length)return n.call(o,e);o.listeners[e]=r}}else if((r=o.listeners)&&(delete r[e],!Object.keys(r).length))return n.call(o)}else delete o.listeners;return o;function a(e){return e!==t&&e.originalListener!==t}}function i(e,t,r){if(!r||e.listeners){var o=e.listeners||(e.listeners={});return o[t]||(o[t]=[])}}o(t.prototype),t.mixin=o}((function e(){if(!(this instanceof e))return new e}))}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{Z:()=>Ce});var t="platform",o="player",n="game",i="advertisement",a="social",u="device",c="leaderboard",s="interstitial_state_changed",l="rewarded_state_changed",f="closed",p="failed",h="closed",d="failed";function y(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function v(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,w(e,t,"set"),r),r}function b(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,w(e,t,"get"))}function w(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var _=new WeakMap,g=new WeakMap,P=new WeakMap;const S=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,_,{writable:!0,value:void 0}),m(this,g,{writable:!0,value:void 0}),m(this,P,{writable:!0,value:void 0}),v(this,_,new Promise((function(e,r){v(t,g,e),v(t,P,r)})))}var t,r;return t=e,(r=[{key:"promise",get:function(){return b(this,_)}},{key:"resolve",value:function(e){b(this,g).call(this,e)}},{key:"reject",value:function(e){b(this,P).call(this,e)}}])&&y(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var k=r(258),O=r.n(k);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function D(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var R="initialize",A=new WeakMap,L=function(){function e(t){var r,o,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"LOCAL_STORAGE_GAME_DATA_KEY","game_data"),T(this,"_isInitialized",!1),T(this,"_platformSdk",null),T(this,"_localStorage",null),T(this,"_isPlayerAuthorized",!1),T(this,"_playerId",null),T(this,"_playerName",null),T(this,"_playerPhotos",[]),T(this,"_gameData",null),T(this,"_interstitialState",null),T(this,"_rewardedState",null),n={writable:!0,value:{}},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,o=A),o.set(r,n),t&&(this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t));try{this._localStorage=window.localStorage}catch(e){}}var t,r;return t=e,(r=[{key:"platformId",get:function(){return"mock"}},{key:"platformSdk",get:function(){return this._platformSdk}},{key:"platformLanguage",get:function(){var e=navigator.language;return"string"==typeof e?e.substring(0,2):"en"}},{key:"platformPayload",get:function(){return new URL(window.location.href).searchParams.get("payload")}},{key:"isPlayerAuthorizationSupported",get:function(){return!1}},{key:"isPlayerAuthorized",get:function(){return this._isPlayerAuthorized}},{key:"playerId",get:function(){return this._playerId}},{key:"playerName",get:function(){return this._playerName}},{key:"playerPhotos",get:function(){return this._playerPhotos}},{key:"interstitialState",get:function(){return this._interstitialState}},{key:"rewardedState",get:function(){return this._rewardedState}},{key:"isInviteFriendsSupported",get:function(){return!1}},{key:"isJoinCommunitySupported",get:function(){return!1}},{key:"isShareSupported",get:function(){return!1}},{key:"isCreatePostSupported",get:function(){return!1}},{key:"isAddToHomeScreenSupported",get:function(){return!1}},{key:"isAddToFavoritesSupported",get:function(){return!1}},{key:"isRateSupported",get:function(){return!1}},{key:"deviceType",get:function(){if(navigator&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if(/android|webos|iphone|ipod|blackberry|iemobile|opera mini/i.test(e))return"mobile";if(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/.test(e))return"tablet"}return"desktop"}},{key:"isLeaderboardSupported",get:function(){return!1}},{key:"isLeaderboardNativePopupSupported",get:function(){return!1}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!1}},{key:"isLeaderboardSetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetScoreSupported",get:function(){return!1}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!1}},{key:"initialize",value:function(){return Promise.resolve()}},{key:"authorizePlayer",value:function(){return Promise.reject()}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){t._loadGameDataFromLocalStorage().finally((function(){if(t._gameData){var o=t._gameData[e];r(void 0!==o?o:null)}else r(null)}))}))}},{key:"setGameData",value:function(e,t){return this._gameData||(this._gameData={}),this._gameData[e]=t,this._saveGameDataToLocalStorage()}},{key:"deleteGameData",value:function(e){return this._gameData?(delete this._gameData[e],this._saveGameDataToLocalStorage()):Promise.resolve()}},{key:"showInterstitial",value:function(){return Promise.reject()}},{key:"showRewarded",value:function(){return Promise.reject()}},{key:"inviteFriends",value:function(){return Promise.reject()}},{key:"joinCommunity",value:function(){return Promise.reject()}},{key:"share",value:function(){return Promise.reject()}},{key:"createPost",value:function(e){return Promise.reject()}},{key:"addToHomeScreen",value:function(){return Promise.reject()}},{key:"addToFavorites",value:function(){return Promise.reject()}},{key:"rate",value:function(){return Promise.reject()}},{key:"setLeaderboardScore",value:function(e,t){return Promise.reject()}},{key:"getLeaderboardScore",value:function(e){return Promise.reject()}},{key:"getLeaderboardEntries",value:function(e){return Promise.reject()}},{key:"showLeaderboardNativePopup",value:function(e,t){return Promise.reject()}},{key:"_loadGameDataFromLocalStorage",value:function(){var e=this;return new Promise((function(t,r){try{var o=e._localStorage.getItem(e.LOCAL_STORAGE_GAME_DATA_KEY);o&&(e._gameData=JSON.parse(o)),t()}catch(e){r(e)}}))}},{key:"_saveGameDataToLocalStorage",value:function(){var e=this;return new Promise((function(t,r){try{e._localStorage.setItem(e.LOCAL_STORAGE_GAME_DATA_KEY,JSON.stringify(e._gameData)),t()}catch(e){r(e)}}))}},{key:"_setInterstitialState",value:function(e){this._interstitialState===e&&e!==p||(this._interstitialState=e,this.emit(s,this._interstitialState))}},{key:"_setRewardedState",value:function(e){this._rewardedState===e&&e!==d||(this._rewardedState=e,this.emit(l,this._rewardedState))}},{key:"_canShowAdvertisement",value:function(){return!(this._interstitialState&&this._interstitialState!==f||this._rewardedState&&this._rewardedState!==h&&this._rewardedState!==d)}},{key:"_createPromiseDecorator",value:function(e){var t=new S;return E(this,A)[e]=t,t}},{key:"_getPromiseDecorator",value:function(e){return E(this,A)[e]}},{key:"_resolvePromiseDecorator",value:function(e,t){E(this,A)[e]&&(E(this,A)[e].resolve(t),delete E(this,A)[e])}},{key:"_rejectPromiseDecorator",value:function(e,t){E(this,A)[e]&&(E(this,A)[e].reject(t),delete E(this,A)[e])}}])&&D(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();O().mixin(L.prototype);const B=L;var I=function(e){return new Promise((function(t){var r=document.createElement("script");r.src=e,r.addEventListener("load",t),document.head.appendChild(r)}))};function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=G(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},C.apply(this,arguments)}function G(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function M(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function K(e,t){J(e,t),t.add(e)}function V(e,t,r){J(e,t),t.set(e,r)}function J(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Y(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var q=new WeakMap,Z=new WeakSet;function Q(e,t,r,o){var n=this,i=this._getPromiseDecorator(e);return i||(i=this._createPromiseDecorator(e),this._platformSdk.send(t,r).then((function(t){t[o]?n._resolvePromiseDecorator(e):n._rejectPromiseDecorator(e)})).catch((function(t){n._rejectPromiseDecorator(e,t)}))),i.promise}const X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(o);if(n){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return M(this,e)});function a(){var e;W(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return K(H(e=i.call.apply(i,[this].concat(r))),Z),V(H(e),q,{writable:!0,value:!1}),e}return t=a,(r=[{key:"platformId",get:function(){return"vk"}},{key:"platformLanguage",get:function(){var e=new URL(window.location.href);if(e.searchParams.has("language"))switch(e.searchParams.get("language")){case 0:return"ru";case 1:return"uk";case 2:return"be";case 3:return"en"}return C(F(a.prototype),"platformLanguage",this)}},{key:"platformPayload",get:function(){var e=new URL(window.location.href);return e.searchParams.has("hash")?e.searchParams.get("hash"):C(F(a.prototype),"platformPayload",this)}},{key:"deviceType",get:function(){var e=new URL(window.location.href);if(e.searchParams.has("platform"))switch(e.searchParams.get("platform")){case"html5_ios":case"html5_android":case"html5_mobile":return"mobile";case"web":return"desktop"}return C(F(a.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isPlayerAuthorized",get:function(){return!0}},{key:"isInviteFriendsSupported",get:function(){return!0}},{key:"isJoinCommunitySupported",get:function(){return!0}},{key:"isShareSupported",get:function(){return!0}},{key:"isCreatePostSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return function(e,t){return t.get?t.get.call(e):t.value}(this,Y(this,q,"get"))}},{key:"isAddToFavoritesSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardNativePopupSupported",get:function(){return"mobile"===this.deviceType}},{key:"initialize",value:function(){var e=this;if(this._isInitialized)return Promise.resolve();var t=this._getPromiseDecorator(R);return t||(t=this._createPostPromiseDecorator(R),I("https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js").then((function(){e._platformSdk=window.vkBridge,e._platformSdk.send("VKWebAppInit").then((function(){var t,r,o=new URL(window.location.href);if(o.searchParams.has("platform")){var n=o.searchParams.get("platform");r="html5_android"===n,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(t=e,Y(t,q,"set"),r)}e._platformSdk.send("VKWebAppGetUserInfo").then((function(t){t&&(e._playerId=t.platformId,e._playerName=t.first_name+" "+t.last_name,t.photo_100&&e._playerPhotos.push(t.photo_100),t.photo_200&&e._playerPhotos.push(t.photo_200),t.photo_max_orig&&e._playerPhotos.push(t.photo_max_orig))})).finally((function(){e._isInitialized=!0,e._resolvePromiseDecorator(R)}))}))}))),t.promise}},{key:"authorizePlayer",value:function(){return Promise.resolve()}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){t._platformSdk.send("VKWebAppStorageGet",{keys:[e]}).then((function(e){if(""!==e.keys[0].value){var t;try{t=JSON.parse(e.keys[0].value)}catch(r){t=e.keys[0].value}r(t)}else r(null)})).catch((function(){r(null)}))}))}},{key:"setGameData",value:function(e,t){var r=this;return new Promise((function(o,n){var i={key:e,value:t};"string"!=typeof t&&(i.value=JSON.stringify(t)),r._platformSdk.send("VKWebAppStorageSet",i).then((function(){o()})).catch((function(e){e&&e.error_data&&e.error_data.error_reason?n(e.error_data.error_reason):n()}))}))}},{key:"deleteGameData",value:function(e){return this.setGameData(e,"")}},{key:"showInterstitial",value:function(){var e=this;return this._canShowAdvertisement()?U(this,Z,Q).call(this,"show_interstitial","VKWebAppCheckNativeAds",{ad_format:"interstitial"},"result").then((function(){e._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}).then((function(t){e._setInterstitialState(t.result?f:p)})).catch((function(t){e._setInterstitialState(p)}))})):Promise.reject()}},{key:"showRewarded",value:function(){var e=this;return this._canShowAdvertisement()?U(this,Z,Q).call(this,"show_rewarded","VKWebAppCheckNativeAds",{ad_format:"reward",use_waterfall:!0},"result").then((function(){e._platformSdk.send("VKWebAppShowNativeAds",{ad_format:"reward",use_waterfall:!0}).then((function(t){t.result?(e._setRewardedState("rewarded"),e._setRewardedState(h)):e._setRewardedState(d)})).catch((function(t){e._setRewardedState(d)}))})):Promise.reject()}},{key:"inviteFriends",value:function(){return U(this,Z,Q).call(this,"invite_friends","VKWebAppShowInviteBox",{},"success")}},{key:"joinCommunity",value:function(){var e=this;if(!this._options||!this._options.groupId)return Promise.reject();if("string"==typeof this._options.groupId){var t=parseInt(this._options.groupId);isNaN(t)||(this._options.groupId=t)}return U(this,Z,Q).call(this,"join_community","VKWebAppJoinGroup",{group_id:this._options.groupId},"result").then((function(){window.open("https://vk.com/public"+e._options.groupId)}))}},{key:"share",value:function(){return U(this,Z,Q).call(this,"share","VKWebAppShare",{},"type")}},{key:"createPost",value:function(e){return U(this,Z,Q).call(this,"create_post","VKWebAppShowWallPostBox",{message:e},"post_id")}},{key:"addToHomeScreen",value:function(){return this.isAddToHomeScreenSupported?U(this,Z,Q).call(this,"add_to_home_screen","VKWebAppAddToHomeScreen",{},"result"):Promise.reject()}},{key:"addToFavorites",value:function(){return U(this,Z,Q).call(this,"add_to_favorites","VKWebAppAddToFavorites",{},"result")}},{key:"showLeaderboardNativePopup",value:function(e,t){var r=this;return this.isLeaderboardNativePopupSupported?(this._showLeaderboardNativePopupPromiseDecorator||(this._showLeaderboardNativePopupPromiseDecorator=new S,this._platformSdk.send("VKWebAppShowLeaderBoardBox",{user_result:e}).then((function(e){e&&e.result?r._showLeaderboardNativePopupPromiseDecorator&&(r._showLeaderboardNativePopupPromiseDecorator.resolve(),r._showLeaderboardNativePopupPromiseDecorator=null):r._showLeaderboardNativePopupPromiseDecorator&&(r._showLeaderboardNativePopupPromiseDecorator.reject(),r._showLeaderboardNativePopupPromiseDecorator=null)})).catch((function(e){r._showLeaderboardNativePopupPromiseDecorator&&(e&&e.error_data&&e.error_data.error_reason?r._showLeaderboardNativePopupPromiseDecorator.reject(e.error_data.error_reason):r._showLeaderboardNativePopupPromiseDecorator.reject(),r._showLeaderboardNativePopupPromiseDecorator=null)}))),this._showLeaderboardNativePopupPromiseDecorator.promise):Promise.reject()}}])&&N(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(B);function $(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e,t){re(e,t),t.add(e)}function te(e,t,r){re(e,t),t.set(e,r)}function re(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oe(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function ne(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ae(e,t,"set"),r),r}function ie(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ae(e,t,"get"))}function ae(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var ue="created",ce="completed",se=new WeakMap,le=new WeakMap,fe=new WeakMap,pe=new WeakMap,he=new WeakSet,de=new WeakSet,ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,de),ee(this,he),te(this,se,{writable:!0,value:0}),te(this,le,{writable:!0,value:0}),te(this,fe,{writable:!0,value:ue}),te(this,pe,{writable:!0,value:0}),ne(this,se,t)}var t,r;return t=e,(r=[{key:"state",get:function(){return ie(this,fe)}},{key:"start",value:function(){var e=this;switch(ie(this,fe)){case ue:case ce:ne(this,le,ie(this,se)),oe(this,he,me).call(this,"started"),ne(this,pe,setInterval((function(){ne(e,le,ie(e,le)-1),e.emit("time_left_changed",ie(e,le)),ie(e,le)<=0&&(oe(e,de,ve).call(e),oe(e,he,me).call(e,ce))}),1e3))}}},{key:"stop",value:function(){oe(this,de,ve).call(this),oe(this,he,me).call(this,"stopped")}}])&&$(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function me(e){ne(this,fe,e),this.emit("state_changed",ie(this,fe))}function ve(){ne(this,le,0),clearInterval(ie(this,pe))}O().mixin(ye.prototype);const be=ye;function we(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const _e=function(){function e(t){var r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="_platformBridge")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._platformBridge=t}var t,r;return t=e,(r=[{key:"initialize",value:function(){return Promise.resolve()}}])&&we(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function Pe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function ke(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function De(e,t,r){Te(e,t),t.set(e,r)}function Te(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ee(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Re(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Le(e,t,"set"),r),r}function Ae(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Le(e,t,"get"))}function Le(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var Be=new WeakMap,Ie=new WeakMap,ze=new WeakSet,We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=je(o);if(n){var r=je(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ke(this,e)});function a(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Te(r=Oe(t=i.call(this,e)),o=ze),o.add(r),De(Oe(t),Be,{writable:!0,value:void 0}),De(Oe(t),Ie,{writable:!0,value:60}),t._platformBridge.on(s,(function(e){return t.emit(s,e)})),t._platformBridge.on(l,(function(e){return t.emit(l,e)})),t}return t=a,(r=[{key:"interstitialState",get:function(){return this._platformBridge.interstitialState}},{key:"rewardedState",get:function(){return this._platformBridge.rewardedState}},{key:"minimumDelayBetweenInterstitial",get:function(){return Ae(this,Ie)}},{key:"setMinimumDelayBetweenInterstitial",value:function(e){"number"!=typeof e&&(e=parseInt(e),isNaN(e))||(Re(this,Ie,e),Ae(this,Be)&&(Ae(this,Be).stop(),Ee(this,ze,Ne).call(this)))}},{key:"showInterstitial",value:function(e){var t=e&&e.ignoreDelay;return Ae(this,Be)&&Ae(this,Be).state!==ce&&!t?Promise.reject("The minimum delay between interstitials has not passed"):(Ae(this,Ie)>0&&Ee(this,ze,Ne).call(this),this._platformBridge.showInterstitial())}},{key:"showRewarded",value:function(){return this._platformBridge.showRewarded()}}])&&Pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function Ne(){Re(this,Be,new be(Ae(this,Ie))),Ae(this,Be).start()}O().mixin(We.prototype);const Ce=We;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,t){return He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},He(e,t)}function Fe(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=Je(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},Ve.apply(this,arguments)}function Je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}function Ye(e,t){Ze(e,t),t.add(e)}function qe(e,t,r){Ze(e,t),t.set(e,r)}function Ze(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qe(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,et(e,t,"set"),r),r}function Xe(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function $e(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,et(e,t,"get"))}function et(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var tt=new WeakMap,rt=new WeakMap,ot=new WeakSet,nt=new WeakSet,it=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(u,t);var r,o,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(n);if(i){var r=Ue(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Fe(this,e)});function u(){var e;xe(this,u);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Ye(Ke(e=a.call.apply(a,[this].concat(r))),nt),Ye(Ke(e),ot),qe(Ke(e),tt,{writable:!0,value:!1}),qe(Ke(e),rt,{writable:!0,value:null}),e}return r=u,(o=[{key:"platformId",get:function(){return"yandex"}},{key:"platformLanguage",get:function(){return this._platformSdk?this._platformSdk.environment.i18n.lang:Ve(Ue(u.prototype),"platformLanguage",this)}},{key:"deviceType",get:function(){return this._platformSdk?this._platformSdk.deviceInfo:Ve(Ue(u.prototype),"deviceType",this)}},{key:"isPlayerAuthorizationSupported",get:function(){return!0}},{key:"isAddToHomeScreenSupported",get:function(){return $e(this,tt)}},{key:"isRateSupported",get:function(){return!0}},{key:"isLeaderboardSupported",get:function(){return!0}},{key:"isLeaderboardMultipleBoardsSupported",get:function(){return!0}},{key:"isLeaderboardSetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetScoreSupported",get:function(){return!0}},{key:"isLeaderboardGetEntriesSupported",get:function(){return!0}},{key:"initialize",value:function(){var e=this;return this._isInitialized?Promise.resolve():(this._initializationPromiseDecorator||(this._initializationPromiseDecorator=new S,I("https://yandex.ru/games/sdk/v2").then((function(){window.YaGames.init().then((function(t){e._platformSdk=t;var r=Xe(e,ot,at).call(e),o=e._platformSdk.getStorage().then((function(t){e._localStorage=t})),n=e._platformSdk.shortcut.canShowPrompt().then((function(t){Qe(e,tt,t.canShow)}));Promise.all([r,o,n]).finally((function(){e._isInitialized=!0,e._initializationPromiseDecorator&&(e._initializationPromiseDecorator.resolve(),e._initializationPromiseDecorator=null)}))}))}))),this._initializationPromiseDecorator.promise)}},{key:"authorizePlayer",value:function(){var e=this;return null==this._authorizationPromiseDecorator&&(this._authorizationPromiseDecorator=new S,this._isPlayerAuthorized?Xe(this,ot,at).call(this).then((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.resolve(),e._authorizationPromiseDecorator=null)})):this._platformSdk.auth.openAuthDialog().then((function(){Xe(e,ot,at).call(e).then((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.resolve(),e._authorizationPromiseDecorator=null)}))})).catch((function(){e._authorizationPromiseDecorator&&(e._authorizationPromiseDecorator.reject(),e._authorizationPromiseDecorator=null)}))),this._authorizationPromiseDecorator.promise}},{key:"getGameData",value:function(e){var t=this;return new Promise((function(r){if(t._gameData)void 0===t._gameData[e]?r(null):r(t._gameData[e]);else{if(!$e(t,rt))return Ve(Ue(u.prototype),"getGameData",t).call(t,e);$e(t,rt).getData().then((function(o){t._gameData=o,void 0===t._gameData[e]?r(null):r(t._gameData[e])})).catch((function(){r(null)}))}}))}},{key:"setGameData",value:function(e,t){return this._gameData||(this._gameData={}),this._gameData[e]=t,Xe(this,nt,ut).call(this)}},{key:"deleteGameData",value:function(e){return this._gameData?(delete this._gameData[e],Xe(this,nt,ut).call(this)):Promise.resolve()}},{key:"showInterstitial",value:function(){var t=this;return this._canShowAdvertisement()?(this._showInterstitialPromiseDecorator||(this._showInterstitialPromiseDecorator=new S,this._platformSdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){t._showInterstitialPromiseDecorator&&(t._showInterstitialPromiseDecorator.resolve(),t._showInterstitialPromiseDecorator=null),t._setInterstitialState(e.INTERSTITIAL_STATE.OPENED)},onClose:function(r){r?t._setInterstitialState(e.INTERSTITIAL_STATE.CLOSED):(t._showInterstitialPromiseDecorator&&(t._showInterstitialPromiseDecorator.reject(),t._showInterstitialPromiseDecorator=null),t._setInterstitialState(e.INTERSTITIAL_STATE.FAILED))}}})),this._showInterstitialPromiseDecorator.promise):Promise.reject()}},{key:"showRewarded",value:function(){var t=this;return this._canShowAdvertisement()?(this._showRewardedPromiseDecorator||(this._showRewardedPromiseDecorator=new S,this._platformSdk.adv.showRewardedVideo({callbacks:{onOpen:function(){t._showRewardedPromiseDecorator&&(t._showRewardedPromiseDecorator.resolve(),t._showRewardedPromiseDecorator=null),t._setRewardedState(e.REWARDED_STATE.OPENED)},onRewarded:function(){t._setRewardedState(e.REWARDED_STATE.REWARDED)},onClose:function(){t._setRewardedState(e.REWARDED_STATE.CLOSED)},onError:function(r){t._showRewardedPromiseDecorator&&(t._showRewardedPromiseDecorator.reject(r),t._showRewardedPromiseDecorator=null),t._setRewardedState(e.REWARDED_STATE.FAILED)}}})),this._showRewardedPromiseDecorator.promise):Promise.reject()}},{key:"addToHomeScreen",value:function(){var e=this;return this.isAddToHomeScreenSupported?(this._addToHomeScreenPromiseDecorator||(this._addToHomeScreenPromiseDecorator=new S,this._platformSdk.shortcut.showPrompt().then((function(t){"accepted"!==t.outcome?e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.reject(),e._addToHomeScreenPromiseDecorator=null):e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.resolve(),e._addToHomeScreenPromiseDecorator=null)})).catch((function(t){e._addToHomeScreenPromiseDecorator&&(e._addToHomeScreenPromiseDecorator.reject(t),e._addToHomeScreenPromiseDecorator=null)}))),this._addToHomeScreenPromiseDecorator.promise):Promise.reject()}},{key:"rate",value:function(){var e=this;return this._ratePromiseDecorator||(this._ratePromiseDecorator=new S,this._platformSdk.feedback.canReview().then((function(t){t.value?e._platformSdk.feedback.requestReview().then((function(t){t.feedbackSent?e._ratePromiseDecorator&&(e._ratePromiseDecorator.resolve(),e._ratePromiseDecorator=null):e._ratePromiseDecorator&&(e._ratePromiseDecorator.reject(),e._ratePromiseDecorator=null)})).catch((function(t){e._ratePromiseDecorator&&(e._ratePromiseDecorator.reject(t),e._ratePromiseDecorator=null)})):e._ratePromiseDecorator&&(e._ratePromiseDecorator.reject(t.reason),e._ratePromiseDecorator=null)})).catch((function(t){e._ratePromiseDecorator&&(e._ratePromiseDecorator.reject(t),e._ratePromiseDecorator=null)}))),this._ratePromiseDecorator.promise}}])&&Me(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),u}(B);function at(){var e=this,t=!1;return this._options&&this._options.authorization&&this._options.authorization.scopes&&(t=this._options.authorization.scopes),new Promise((function(r){e._platformSdk.getPlayer({scopes:t}).then((function(t){e._playerId=t.getUniqueID(),e._isPlayerAuthorized="lite"!==t.getMode();var r=t.getName();""!==r&&(e._playerName=r),e._playerPhotos=[];var o=t.getPhoto("small"),n=t.getPhoto("medium"),i=t.getPhoto("large");o&&e._playerPhotos.push(o),n&&e._playerPhotos.push(n),i&&e._playerPhotos.push(i),Qe(e,rt,t)})).finally((function(){r()}))}))}function ut(){var e=this;return new Promise((function(t,r){if(!$e(e,rt))return Ve(Ue(it.prototype),"_saveGameDataToLocalStorage",e).call(e);$e(e,rt).setData(e._gameData).then((function(){t()})).catch((function(e){r(e)}))}))}const ct=it;function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}const yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dt(o);if(n){var r=dt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ht(this,e)});function a(){return lt(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"id",get:function(){return this._platformBridge.platformId}},{key:"sdk",get:function(){return this._platformBridge.platformSdk}},{key:"language",get:function(){return this._platformBridge.platformLanguage}},{key:"payload",get:function(){return this._platformBridge.platformPayload}}])&&ft(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wt(e,t){return wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wt(e,t)}function _t(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}const Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wt(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gt(o);if(n){var r=gt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _t(this,e)});function a(){return vt(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isAuthorizationSupported",get:function(){return this._platformBridge.isPlayerAuthorizationSupported}},{key:"isAuthorized",get:function(){return this._platformBridge.isPlayerAuthorized}},{key:"id",get:function(){return this._platformBridge.playerId}},{key:"name",get:function(){return this._platformBridge.playerName}},{key:"photos",get:function(){return this._platformBridge.playerPhotos}},{key:"authorize",value:function(){return this._platformBridge.authorizePlayer()}}])&&bt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jt(e,t){return jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jt(e,t)}function Dt(e,t){if(t&&("object"===St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}const Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tt(o);if(n){var r=Tt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Dt(this,e)});function a(){return kt(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getData",value:function(e){return this._platformBridge.getGameData(e)}},{key:"setData",value:function(e,t){return this._platformBridge.setGameData(e,t)}},{key:"deleteData",value:function(e){return this._platformBridge.deleteGameData(e)}}])&&Ot(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Bt(e,t){return Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bt(e,t)}function It(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}const Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zt(o);if(n){var r=zt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return It(this,e)});function a(){return At(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isInviteFriendsSupported",get:function(){return this._platformBridge.isInviteFriendsSupported}},{key:"isJoinCommunitySupported",get:function(){return this._platformBridge.isJoinCommunitySupported}},{key:"isShareSupported",get:function(){return this._platformBridge.isShareSupported}},{key:"isCreatePostSupported",get:function(){return this._platformBridge.isCreatePostSupported}},{key:"isAddToHomeScreenSupported",get:function(){return this._platformBridge.isAddToHomeScreenSupported}},{key:"isAddToFavoritesSupported",get:function(){return this._platformBridge.isAddToFavoritesSupported}},{key:"isRateSupported",get:function(){return this._platformBridge.isRateSupported}},{key:"inviteFriends",value:function(){return this._platformBridge.inviteFriends()}},{key:"joinCommunity",value:function(){return this._platformBridge.joinCommunity()}},{key:"share",value:function(){return this._platformBridge.share()}},{key:"createPost",value:function(e){return this._platformBridge.createPost(e)}},{key:"addToHomeScreen",value:function(){return this._platformBridge.addToHomeScreen()}},{key:"addToFavorites",value:function(){return this._platformBridge.addToFavorites()}},{key:"rate",value:function(){return this._platformBridge.rate()}}])&&Lt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xt(e,t){return xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xt(e,t)}function Mt(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}const Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(o);if(n){var r=Ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Mt(this,e)});function a(){return Ct(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type",get:function(){return this._platformBridge.deviceType}}])&&Gt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ut(e,t){return Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ut(e,t)}function Yt(e,t){if(t&&("object"===Kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}const Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ut(e,t)}(a,e);var t,r,o,n,i=(o=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qt(o);if(n){var r=qt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Yt(this,e)});function a(){return Vt(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"isSupported",get:function(){return this._platformBridge.isLeaderboardSupported}},{key:"isNativePopupSupported",get:function(){return this._platformBridge.isLeaderboardNativePopupSupported}},{key:"isMultipleBoardsSupported",get:function(){return this._platformBridge.isLeaderboardMultipleBoardsSupported}},{key:"isSetScoreSupported",get:function(){return this._platformBridge.isLeaderboardSetScoreSupported}},{key:"isGetScoreSupported",get:function(){return this._platformBridge.isLeaderboardGetScoreSupported}},{key:"isGetEntriesSupported",get:function(){return this._platformBridge.isLeaderboardGetEntriesSupported}},{key:"setScore",value:function(e,t){return this._platformBridge.setLeaderboardScore(e,t)}},{key:"getScore",value:function(e){return this._platformBridge.getLeaderboardScore(e)}},{key:"getEntries",value:function(e){return this._platformBridge.getLeaderboardEntries(e)}},{key:"showNativePopup",value:function(e,t){return this._platformBridge.showLeaderboardNativePopup(e,t)}}])&&Jt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(_e);function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function er(e,t){rr(e,t),t.add(e)}function tr(e,t,r){rr(e,t),t.set(e,r)}function rr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function or(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ar(e,t,"set"),r),r}function nr(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function ir(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ar(e,t,"get"))}function ar(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var ur=new WeakMap,cr=new WeakMap,sr=new WeakMap,lr=new WeakMap,fr=new WeakMap,pr=new WeakSet,hr=new WeakSet;function dr(){var e=new URL(window.location.href),t=["g","a","m","e","s",".","s","3",".","y","a","n","d","e","x",".","n","e","t"].join("");e.hostname.includes(t)?or(this,sr,new ct(this._options&&this._options.platforms&&this._options.platforms.yandex)):e.searchParams.has("api_id")&&e.searchParams.has("viewer_id")&&e.searchParams.has("auth_key")?or(this,sr,new X(this._options&&this._options.platforms&&this._options.platforms.vk)):or(this,sr,new B)}function yr(e){return ir(this,fr)[e]?ir(this,fr)[e]:ir(this,lr)[e]}const mr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),er(this,hr),er(this,pr),tr(this,ur,{writable:!0,value:!1}),tr(this,cr,{writable:!0,value:null}),tr(this,sr,{writable:!0,value:null}),tr(this,lr,{writable:!0,value:{}}),tr(this,fr,{writable:!0,value:{}})}var r,s;return r=e,s=[{key:"version",get:function(){return"1.4.0"}},{key:"isInitialized",get:function(){return ir(this,ur)}},{key:"platform",get:function(){return nr(this,hr,yr).call(this,t)}},{key:"player",get:function(){return nr(this,hr,yr).call(this,o)}},{key:"game",get:function(){return nr(this,hr,yr).call(this,n)}},{key:"advertisement",get:function(){return nr(this,hr,yr).call(this,i)}},{key:"social",get:function(){return nr(this,hr,yr).call(this,a)}},{key:"device",get:function(){return nr(this,hr,yr).call(this,u)}},{key:"leaderboard",get:function(){return nr(this,hr,yr).call(this,c)}},{key:"initialize",value:function(e){var t=this;return ir(this,ur)?Promise.resolve():(ir(this,cr)||(or(this,cr,new S),this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),nr(this,pr,dr).call(this),ir(this,sr).initialize().then((function(){ir(t,lr).platform=new yt(ir(t,sr)),ir(t,lr).player=new Pt(ir(t,sr)),ir(t,lr).game=new Et(ir(t,sr)),ir(t,lr).advertisement=new Ce(ir(t,sr)),ir(t,lr).social=new Wt(ir(t,sr)),ir(t,lr).device=new Ft(ir(t,sr)),ir(t,lr).leaderboard=new Zt(ir(t,sr)),or(t,ur,!0),console.log("%c InstantGamesBridge v."+t.version+" initialized. ","background: #01A5DA; color: white"),ir(t,cr)&&(ir(t,cr).resolve(),or(t,cr,null))}))),ir(this,cr).promise)}},{key:"overrideModule",value:function(e,t){if(ir(this,ur)){var r=ir(this,lr)[e];r&&(ir(this,fr)[e]=t,"function"==typeof t.initialize&&t.initialize(r))}}}],s&&$t(r.prototype,s),Object.defineProperty(r,"prototype",{writable:!1}),e}();window.instantGamesBridge=new mr})()})();